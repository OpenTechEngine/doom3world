<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="9419"><title>MAYA -&gt; Doom3</title><posts><post id="p82838" date="Posted: Fri Mar 18, 2005 12:16 pm "><author>killmachine</author><body><![CDATA[<div class="postbody">hi there ...
<br /><br />i got a big problem ... i want to export an animated model from maya and put it into doom3 ...
<br /><br />of course i read the tutorial here and dl a tool and shit but still nothing ... im not into maya or anything, so the method was really complicated for me ...
<br /><br />i tried the tool, and got some errors, wont work ... i tried the exportmodels command but nothing, cant register model ... i have also written a dev file, but i basicly copy and pasted the text from the tut and changes the filenames ... dunno if this is alright ...
<br /><br />whatever ... i really need an easy tutorial or someone who can help me/us with that specific problem ...
<br /><br />jeeze, i never thought that it is so hard to put a model into doom3 ...
<br /><br />thx in advance
<br /><br />killmachine</div>]]></body></post><post id="p82856" date="Posted: Fri Mar 18, 2005 3:05 pm "><author>killmachine</author><body><![CDATA[<div class="postbody">so, im a step forward now but i get a damn error everytime i try to export something:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20070509181516/http://dev.d3jedi.com/killmachine/error_fuck.jpg">http://dev.d3jedi.com/killmachine/error_fuck.jpg</a><!-- m -->
<br /><br />can anyone plz tell me what that means?
<br /><br /><span style="font-weight: bold">[EDIT]it's tooo big.... &gt;kat&lt;</span></div>]]></body></post><post id="p82867" date="Posted: Fri Mar 18, 2005 4:42 pm "><author>Enforcer</author><body><![CDATA[<div class="postbody">Remove the large number and period in the model name. Try that!</div>]]></body></post><post id="p82872" date="Posted: Fri Mar 18, 2005 5:25 pm "><author>killmachine</author><body><![CDATA[<div class="postbody">the modelname is saber01.mb ... the large number is todays date and a random number ... i dont know y this filename is generated ...</div>]]></body></post><post id="p83293" date="Posted: Sun Mar 20, 2005 11:29 am "><author>oDDity</author><body><![CDATA[<div class="postbody">This is  doc I wrote on the dark mod forums, maybe something here will help you.
<br /><br /><br /><br /> I'm only as far as getting the character ito doom, importing the animations, and cycling throiugh them in doom. YOu need to write AI scripts to actually get your character to behave like you want it to and play it's animaitons at the right time of course. As a humble modeler I know nothing about that.
<br />Anyway, to get it into doom, you save you character in Maya as a .mb file. It has been boned and weighted obviously, and the rig has to have a bone called origin at the 0,0,0 world origin, and the skeleton has this as the parent bone.
<br /><br />Then you have to write the definition file.
<br /><br />First you need the defintion file to use doomEdit to change the .mb files to an md5mesh and an md5anim for each different animation you make.
<br /><br />THe first section of the definition file deals with this exporting, here is a sample one:
<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">    <br /><br /><br />export mymodel {<br />options   -sourcedir models/mymodels/mymodel <br />                           -destdir models/md5/mycharacter/mymodel<br /></div><br /><br /><br />This first part is the source directory where you saved you .mb files, and the destination dir you want doomedit to write the md5 files to.<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">   <br /><br />mesh hammer.mb <br />anim idle.mb -dest stand<br />anim surprise.mb -dest sight1<br />anim walkF.mb -dest walk1<br />anim attack1.mb -dest swing1<br />anim attack2.mb -dest swing2<br />anim stepback.mb  -dest head_pain1<br />anim attack3.mb   -dest spit_attack1<br />anim RunF.mb -dest fastwalk<br />} <br /></div><br /><br /><br /><br />this second part is what you want the md5 files to be called. The first line is your base mesh in the stance pose, and all the diffent animations you did are in the following lines. the '-dest' after them is used to change the name, so on the bottom line the .mb file 'runf' animation is saved as 'fastwalk.md5anim'<br /><br />that's all you need in the definintion file to get it in the game. I'd call this definiton file 'mymodel.def'<br /><br />Then, in DoomEdit, do to the console and type<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">    <br /><br />exportmodels mymodel</div>
<br /><br /><br />and this should convert all the maya files to md5 files.
<br /><br />First of all though you need the correct environment variable set, pointing to the maya directory. Remember you had the same problem with getting Deep Exploration to read maya files?
<br />Right click on 'my computer' icon on your desktop, or in start menu, right click 'poperties' whuch take you to the system tab, then go to advanced tab, environment variables, and open it up.
<br />Add a varible called MAYA_LOCATION with the variable pointing to where you have maya installed (this depends on which maya version you have) for maya 6 you don't inlude 'bin' at the end and for maya 5.x you do, I have one of each just incase, maya should have written it;'s own variable where you installed it, but sometimes that one doesn't work.
<br /><br />then you need to get the MayaImportx86.dll which is included in the SDK download and place it in the doom base directory.
<br /><br />Until you follow those steps the exportmodels command will not work.
<br /><br />There is more to be written in the definition file after this, but see if you can get this far first, and then I tell you the rest.
<br /><br /> and some other points...
<br /><br /> where did you place the mayaimort.dll - in the doom/base folder? What exactly did you type into doomedit for those files I sent - exportmodels nameofDefFile?
<br />Where did you get that mayaimport.dll, was it from the latest verison of the SDK and is it the right one for your version of Maya?</div>]]></body></post><post id="p83296" date="Posted: Sun Mar 20, 2005 12:17 pm "><author>killmachine</author><body><![CDATA[<div class="postbody">alright, the maya_location path isnt there ... there is just a path variable that points to the bin folder ... i have maya 6.5 installed btw ...
<br /><br />i will try that first ...
<br /><br />i got the mayaimport.dll from iddevnet, i will also try to get a newer version ... i put the file to the bin folder of maya and not to my base folder ... i will also try that ...
<br /><br />all that bone stuff and so on, i wont be able to do that ... i just started workin with maya and only know a few modeling tools like extrusion <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> ...
<br /><br />but i will report back to u when i tried all this ...
<br /><br />this is btw my def file:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">export saber01<br />{ <br />options -game d3j -sourcedir models/saber01 -destdir models/md5/saber01 <br /><br />mesh saber01.mb -dest saber01<br /><br />} <br /><br /><br /><br />model saber01<br /><br />{ <br /><br />mesh models/md5/saber01.md5mesh <br /><br /><br />} <br /></div>
<br /><br />the model has no bones whatsoever and no animations ...
<br /><br />edit: ok, didnt work ... got the same error with both the boned model and with the unboned ... i changed the enviroment variables and excluded the bin path ... do i need to restart my pc to get this to work?
<br /><br />edit2: i restarted ... same result ... it could have something to do with the models itself i think ...</div>]]></body></post><post id="p83320" date="Posted: Sun Mar 20, 2005 3:46 pm "><author>oDDity</author><body><![CDATA[<div class="postbody">It hasn't. I just looked at your error imgae you posted, and one of the guy on the dark mod team is getting exactly the same error as you. I even sent him my models and def files, which extract fine for me, and he gets the same error.
<br /> I worked through everything with him, and as far as I can see his doom setup is exactly the same as mine. I have no idea why he is getting the crash, and can't even export models which work for me.
<br /> If we work it out, you'll be the first to know, since it's almost certainly the same problem.</div>]]></body></post><post id="p83323" date="Posted: Sun Mar 20, 2005 3:56 pm "><author>oDDity</author><body><![CDATA[<div class="postbody">Unless (and this is a long shot) it's something to to with the directory you have doom in. I notice you have it in c:/doom_III instead of c:/doom3 like me. THat's the only difference I can think of. 
<br /> To check it would mean a complete reinstall though)
<br /> I can't contact the other guy right now to ask him which directory he has doom in, but when I do I will post it here. Maybe you should hold off reinstalling till then)</div>]]></body></post><post id="p83580" date="Posted: Mon Mar 21, 2005 5:04 pm "><author>TYROT</author><body><![CDATA[<div class="postbody">dear oddity and goliathvt
<br /><br />PLEASE make us a Video Tutorial...about exporting from maya ..and seriously get PAYPAL accounts..
<br /><br />p l e a s e
<br /><br /><br />best..</div>]]></body></post><post id="p83665" date="Posted: Mon Mar 21, 2005 11:39 pm "><author>oDDity</author><body><![CDATA[<div class="postbody">TYROT ol buddy!
<br /> I doubt that would help. This guy seems to have done everything I would have put in a video tut anyway, but he's getting a crash, and I can't work out why. Same for one of our team members.
<br /> Like I said, I even sent him models that I can extract from and they still won't work for him.</div>]]></body></post></posts></thread></xml>
