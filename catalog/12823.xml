<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="12823"><title>ERROR: couldn't load console (***FIXED***)</title><posts><post id="p116380" date="Posted: Sun Oct 16, 2005 10:14 pm "><author>T0r1t0</author><body><![CDATA[<div class="postbody">While in my mod, this happens whenever i try to load a previously saved game.
<br /><br />Please help! <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /><br /><br /><span style="font-weight: bold">EDIT 30/11/2005</span>
<br /><br />I have somehow managed to have the engine load and compile the script file fine.  Doom now crashes as soon as level data is loaded.  Is there a way i can dump crash info to a log file to see what's crashing the game?
<br /><br />Thanks
<br /><br /><span style="font-weight: bold">EDIT 01/Dec/2005</span>
<br /><br />Thanks to Brian @iddevnet this is finally fixed.  The problem is that i used (by mistake) a few func_spring (which don't save) instead of func_static.  Removed them and now it works.  Just so you know.</div>]]></body></post><post id="p116388" date="Posted: Mon Oct 17, 2005 12:55 am "><author>elroacho</author><body><![CDATA[<div class="postbody">you using a custom mainmenu.gui? i think that's where the save/load game actions happen, so probably start there. other than that i dunno.</div>]]></body></post><post id="p116419" date="Posted: Mon Oct 17, 2005 1:48 pm "><author>T0r1t0</author><body><![CDATA[<div class="postbody">Yes, i'm using a custom mainmenu.gui but it doesn't seem to be the problem.  In fact i had to pull down the console to see the error, so it loaded!
<br /><br />I searched the whole SDK for the specific string "couldn't load console" but didn't find it.  I found:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">Error( "Couldn't load %s", mapName );</div><br /><br />in game_local.cpp, which obviously doen't apply, since "console" is not one of my map names, and<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">gameLocal.Error( "Couldn't load %s\n", filename );</div>
<br /><br />in script_program.cpp
<br /><br />those are the only references to "couldn't load "&lt;something&gt;
<br /><br />But that "something" is supposed to reference a file
<br /><br />Can anyone help me with this?
<br /><br />My mod is almost finished (in fact i was beta-testing it when this happened).  It would terrible not to be able to release it because of this.  Everything else works great.
<br /><br />*EDIT* I just checked using the vanilla mainmenu and hud guis:  the same error <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /></div>]]></body></post><post id="p116686" date="Posted: Wed Oct 19, 2005 11:04 am "><author>T0r1t0</author><body><![CDATA[<div class="postbody">The only thing i know for sure is that this happens while attempting to compile the map's script file.  So the error is generated from this code:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">void idProgram::CompileFile( const char *filename ) {<br />   char *src;<br />   bool result;<br /><br />   if ( fileSystem-&gt;ReadFile( filename, ( void ** )&amp;src, NULL ) &lt; 0 ) {<br />      gameLocal.Error( "Couldn't load %s\n", filename );<br />   }<br /><br />   result = CompileText( filename, src, false );<br /><br />   fileSystem-&gt;FreeFile( src );<br /><br />   if ( g_disasm.GetBool() ) {<br />      Disassemble();<br />   }<br /><br />   if ( !result ) {<br />      gameLocal.Error( "Compile failed in file %s.", filename );<br />   }<br />}</div>
<br /><br />The script surely compiles fine when you load the map anew, so i don't understand.  Also it seems to pass "console" as filename ???
<br /><br />Anyone can help please</div>]]></body></post><post id="p116946" date="Posted: Thu Oct 20, 2005 2:47 pm "><author>T0r1t0</author><body><![CDATA[<div class="postbody">I have a feeling i will not solve this one.  I emailed brian from Id soft but haven't get a response yet.
<br /><br />This is a single-map mod.  Can I release it without the ability to save?</div>]]></body></post><post id="p123696" date="Posted: Wed Nov 30, 2005 9:56 pm "><author>T0r1t0</author><body><![CDATA[<div class="postbody">EDIT 30/11/2005 
<br /><br />I have somehow managed to have the engine load and compile the script file fine. Doom now crashes as soon as level data is loaded. Is there a way i can dump crash info to a log file to see what's crashing the game? 
<br /><br />Thanks</div>]]></body></post><post id="p123717" date="Posted: Wed Nov 30, 2005 11:33 pm "><author>Bittoman</author><body><![CDATA[<div class="postbody">A nifty trick with the D3 engine is that certain events occuring in the game engine will auto-copy the console data to clipboard.  You might try letting it crash, then opening up Notepad and hit paste.  There's no garauntee that it is copying it for your situation but there's a chance.</div>]]></body></post><post id="p123827" date="Posted: Thu Dec 01, 2005 7:35 pm "><author>T0r1t0</author><body><![CDATA[<div class="postbody">Thanks to Brian @iddevnet this is finally fixed. The problem is that i used (by mistake) a few func_spring (which don't save) instead of func_static. Removed them and now it works. Just so you know.</div>]]></body></post></posts></thread></xml>
