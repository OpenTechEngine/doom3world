<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="3353"><title>Liquids</title><posts><post id="p31568" date="Posted: Mon Aug 09, 2004 8:48 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">EDIT:
<br /><br />Here's my How-To on getting a liquid to work in Doom3. It's not the prettiest water, and the look from inside kinda sucks, but... It's a start to get other people started on some better looking water...
<br /><br /><span style="font-weight: bold"><span style="font-style: italic">Take a look at this thread to see how-to make a vacuum area. A vacuum area is what is need to get the breath meter to work correctly.<br /><br /><a href="https://web.archive.org/web/20100522175503/http://www.doom3world.org/phpbb2/viewtopic.php?t=3627" class="postlink">Making a Vacuum area by TheCray_nz</a></span></span>
<br /><br /><span style="font-weight: bold">1.</span> Add the code below into a new material file named "water.mtr"
<br /><br /><span style="color: orange">Place water.mtr into /base/materials</span>
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/water/water_blue<br />{ <br />discrete // Not sure what this is used for <br />nonsolid // Makes it so you can walk through it<br />water // add this for water effect swimming etc... <br />twoSided // Makes it so water effects shows on both sides of the texture<br /><br />diffusemap textures/water/water1.tga<br /><br />{ <br />vertexProgram heatHazeWithMask.vfp <br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling <br />vertexParm 1 1.5 // magnitude of the distortion <br />fragmentProgram heatHazeWithMask.vfp <br />fragmentMap 0 _currentRender <br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion <br />fragmentMap 2 textures/sfx/vp_full.tga // the distortion blend map <br />} // End Heat Haze Effect <br /><br />{ <br />mirrorRenderMap      512   256  // size of the texture to draw the mirror view in <br />blend   blend <br /><br />// give it a greenish tint <br />red      0.3 <br />green   0.3 <br />blue   0.1 <br /><br />// opacity <br />alpha   0.7 <br /><br />// these may not be necessary when I finish the code <br />translate   0.5 , 0.5 <br />scale   0.5 , 0.5 <br />} // End Mirror effect <br /><br />} // End Shader<br /></div>
<br /><br />Add the above code into a new material file named "water.mtr"
<br /><br /><span style="color: orange">Place water.mtr into /base/materials</span>
<br /><br />Make sure to make textures for water1.tga and vp_full.tga
<br /><br /><span style="color: orange">Place water1.tga into /base/textures/water</span>
<br /><br /><span style="color: orange">Place vp_full.tga into /base/textures/sfx</span>
<br /><br />I've included a link to a zip file that has the mtr file and both tga's...
<br /><br /><a href="https://web.archive.org/web/20100522175503/http://www.arizonablah.com/files/water.zip" class="postlink">Water.zip</a></div>]]></body></post><post id="p31581" date="Posted: Mon Aug 09, 2004 9:11 pm "><author>LMCTF-Vampire</author><body><![CDATA[<div class="postbody">So far in my travels in single player (as well as all 6 multiplayer maps) I have not seen any water at all.  This is making me rather nervous because alot of my map ideas require water in them... <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p31583" date="Posted: Mon Aug 09, 2004 9:12 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Are you familiar with material shaders because you'll have to write one and even still Doom 3 may not support it.
<br /><br />Write a material shader and add the command "water" to it. If you can swim around in a brush with this new custom material applied then yes, Doom 3 supports it.</div>]]></body></post><post id="p31653" date="Posted: Mon Aug 09, 2004 11:24 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">I have a new MTR file [/base/materials/water.mtr] which includes the following code...
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/water/water1<br />{<br />nonsolid<br />water // add this for water <br />translucent<br />twosided<br /><br />{<br />vertexProgram heatHazeWithMask.vfp<br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling<br />vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion<br />fragmentMap 2 textures/sfx/vp1_alpha.tga // the distortion blend map<br />}<br />}</div>
<br /><br />I made a temp texture for my water, named water1.tga under /base/textures/water
<br /><br />When looking for this new material in doom3ed, I cannot find it. What am I doing wrong?
<br /><br />Thanks in advance...</div>]]></body></post><post id="p31672" date="Posted: Mon Aug 09, 2004 11:46 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">ok changed the mtr file around a little bit...
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/water/<br />{<br />nonsolid<br />water // add this for water <br />translucent<br />twosided<br />diffusemap textures/water/water1.tga<br /><br />{<br />vertexProgram heatHazeWithMask.vfp<br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling<br />vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion<br />fragmentMap 2 textures/sfx/vp1_alpha.tga // the distortion blend map<br />}<br />}</div>
<br /><br />Next question is how can I apply a light or something to this material? It looks ok from the outside, but when you are swiming around in it, it's just looks like a normal room, and there is no breath meter, damage etc...
<br /><br />Any ideas guys?</div>]]></body></post><post id="p31681" date="Posted: Tue Aug 10, 2004 12:13 am "><author>RobD</author><body><![CDATA[<div class="postbody">For the breath meter you could use the oxygen meter you get in singleplayer when you go outside. The damage would probably be a check if(oxygen &lt;= 0) DamagePlayer(). That's how I would do it but that's only theoretical since I never even looked at scripting or shaders yet. No idea how you would actually put that idea to use D:</div>]]></body></post><post id="p31709" date="Posted: Tue Aug 10, 2004 1:02 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">@ Weazel: Whoa! The water keyword works in the retail game? I was almost certain they were going to remove it.
<br /><br />So is the oxygen problem the only real issue? The appearance from inside shouldn't be too hard to fix. You just need to make the material doublesided.
<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">For the breath meter you could use the oxygen meter you get in singleplayer when you go outside. The damage would probably be a check if(oxygen &lt;= 0) DamagePlayer(). That's how I would do it but that's only theoretical since I never even looked at scripting or shaders yet. No idea how you would actually put that idea to use D:</div>
<br /><br />That's the general idea but I don't think you'd include code to do that it in the material shader. This is functionality missing from the game.
<br /><br />Of course, this is no suprise because there have been interviews that clearly indicated id had no intention of including water in the game. Although, it is shocking to find that the water command still works.
<br /><br />Maybe there is something you could add to one of the definitions files to fix it?
<br /><br /><span style="font-weight: bold">EDIT:</span> BTW, I'd really like to see a screenshot. I can't see the DX9 effects on my end because I'm running the game on a GeForce 3.</div>]]></body></post><post id="p31834" date="Posted: Tue Aug 10, 2004 4:48 am "><author>Weazel</author><body><![CDATA[<div class="postbody">Ok haven't figured out the breath meter thing yet, but I'm working on it... I was wonder why the scrolling texture stops working when I increase the texture size...
<br /><br />As it is now the textures are really small and don't look very realistic. So I want some larger textures...
<br /><br />Any idea?</div>]]></body></post><post id="p32115" date="Posted: Tue Aug 10, 2004 4:19 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Have you tried this?
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">   {<br />      blend diffusemap<br />      map textures/water/water1.tga<br />      scale 4,4<br />   }</div></div>]]></body></post><post id="p32200" date="Posted: Tue Aug 10, 2004 6:02 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">Can you explain a little more on the usage of that code to me?
<br /><br />The water image is fine, it the other two that are small, both are like 64x64
<br /><br />textures/sfx/vp1.tga
<br />textures/sfx/vp1_alpha.tga
<br /><br />Because they are so small you cannot see the water rippling at a distance, only up close. If I could increase there size to 256x256 or maybe 512x512 I should be able to get some good detail at a normal distance.</div>]]></body></post><post id="p32226" date="Posted: Tue Aug 10, 2004 6:35 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Hmmm... I'm not sure if it will work that way.
<br /><br />Basically instead of typing ...
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"> diffusemap [name of texture]</div><br /><br />you type...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br />  blend diffusemap<br />  map [name of texture]<br />}</div><br /><br />It does the same thing but because there are brackets you can add extra commands like scale.<br /><br />The problem is I'm not sure it would work with fragmentmap. You can try it. It might work.<br /><br />Modified snippet of your material shader...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />{<br />  blend fragmentMap 1<br />  map textures/sfx/vp1.tga // the normal map for distortion<br />  scale 2,2<br />}<br />{<br />  blend fragmentMap 2<br />  map textures/sfx/vp1_alpha.tga // the distortion blend map<br />  scale 2,2<br />}<br />}<br />}</div>
<br /><br />That's the only way I'm familiar with scaling them in a material shader but like I said, I don't know if it will work with a fragmentmap.
<br /><br />If it doesn't work you'll have to make resized copies of the two tgas manually.</div>]]></body></post><post id="p32232" date="Posted: Tue Aug 10, 2004 6:44 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">thanks for the tip I'll keep that in mind for the future, I fixed my problem by just using the surface editor in doom3ed to scale the texture to a high value which fixed my issue...
<br /><br />Next step get the water to reflect like a mirror <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I'll keep you posted...
<br /><br />And again thanks for all your help...</div>]]></body></post><post id="p32254" date="Posted: Tue Aug 10, 2004 7:10 pm "><author>Rayne</author><body><![CDATA[<div class="postbody">The Mirror rendermap code...
<br /><br /><br /><img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br />      mirrorRenderMap      512   256      // size of the texture to draw the mirror view in<br />      blend   blend<br /><br />      // give it a greenish tint<br />      red      0.3<br />      green   0.3<br />      blue   0.1<br /><br />      // opacity<br />      alpha   0.7<br /><br />      // these may not be necessary when I finish the code<br />      translate   0.5 , 0.5<br />      scale   0.5 , 0.5<br />   }</div></div>]]></body></post><post id="p32280" date="Posted: Tue Aug 10, 2004 7:50 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">do I just add that mirror code into my shader code? Or is there another use...
<br /><br />Thanks in advance...</div>]]></body></post><post id="p32357" date="Posted: Tue Aug 10, 2004 9:59 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">Rayne you rock...
<br /><br />It's perfect now... Here's the whole working code....
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/stargate/event_horizon<br />{<br />discrete // Not sure what this is used for<br />nonsolid <br />//water // add this for water effect swimming etc...<br /><br />diffusemap textures/water/water1.tga<br /><br />{<br />vertexProgram heatHazeWithMask.vfp<br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling<br />vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion <br />fragmentMap 2 textures/sfx/vp_full.tga // the distortion blend map<br />} // End Heat Haze Effect<br /><br />{ <br />mirrorRenderMap      512   256  // size of the texture to draw the mirror view in <br />blend   blend <br /><br />// give it a greenish tint <br />red      0.3 <br />green   0.3 <br />blue   0.1 <br /><br />// opacity <br />alpha   0.7 <br /><br />// these may not be necessary when I finish the code <br />translate   0.5 , 0.5 <br />scale   0.5 , 0.5 <br />} // End Mirror effect<br /><br />} // End Shader<br /></div>
<br /><br />Thanks again...</div>]]></body></post><post id="p32361" date="Posted: Tue Aug 10, 2004 10:09 pm "><author>babago</author><body><![CDATA[<div class="postbody">can you post a screenshot of the finished work plz ?</div>]]></body></post><post id="p32366" date="Posted: Tue Aug 10, 2004 10:17 pm "><author>Rayne</author><body><![CDATA[<div class="postbody">oh, i'm workin on water the first time i saw the heat haze effect.. I saw it and said "this effect will rock to make fluids".  But i spend effectively 5 minutes to  make that.. I've posted a pic in the texture section
<br /><br /><br /><a href="https://web.archive.org/web/20100522175503/http://www.doom3world.org/phpbb2/viewtopic.php?p=32030#32030" class="postlink">HERE</a>
<br /><br /><br /><br />this is a pic, but i'm sure the Weazel one  looks much much better</div>]]></body></post><post id="p32367" date="Posted: Tue Aug 10, 2004 10:22 pm "><author>babago</author><body><![CDATA[<div class="postbody"><img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> wahou <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /><br /><br />a really really good work. I never expected that ! It's really, good ! I'm thinking this water effect is just awsome.</div>]]></body></post><post id="p32452" date="Posted: Wed Aug 11, 2004 12:42 am "><author>Magical Gnome</author><body><![CDATA[<div class="postbody">Cool effect... could you create a short tutorial perhaps? Pretty please?  <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /></div>]]></body></post><post id="p32482" date="Posted: Wed Aug 11, 2004 1:28 am "><author>Iced_Eagle</author><body><![CDATA[<div class="postbody">That is really cool <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Only bad thing though...... Only works on Geforce FX and Radeon 9500 and above <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Luckily I have a 9600 so I can enjoy the wtaer muhahah  <img src="https://web.archive.org/web/20100522175503im_/http://www.doom3world.org/phpbb2/images/smilies/icon_twisted.gif" alt=":twisted:" title="Twisted Evil" /></div>]]></body></post><post id="p31568" date="Posted: Mon Aug 09, 2004 8:48 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">EDIT:
<br /><br />Here's my How-To on getting a liquid to work in Doom3. It's not the prettiest water, and the look from inside kinda sucks, but... It's a start to get other people started on some better looking water...
<br /><br /><span style="font-weight: bold"><span style="font-style: italic">Take a look at this thread to see how-to make a vacuum area. A vacuum area is what is need to get the breath meter to work correctly.<br /><br /><a href="https://web.archive.org/web/20100522175336/http://www.doom3world.org/phpbb2/viewtopic.php?t=3627" class="postlink">Making a Vacuum area by TheCray_nz</a></span></span>
<br /><br /><span style="font-weight: bold">1.</span> Add the code below into a new material file named "water.mtr"
<br /><br /><span style="color: orange">Place water.mtr into /base/materials</span>
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/water/water_blue<br />{ <br />discrete // Not sure what this is used for <br />nonsolid // Makes it so you can walk through it<br />water // add this for water effect swimming etc... <br />twoSided // Makes it so water effects shows on both sides of the texture<br /><br />diffusemap textures/water/water1.tga<br /><br />{ <br />vertexProgram heatHazeWithMask.vfp <br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling <br />vertexParm 1 1.5 // magnitude of the distortion <br />fragmentProgram heatHazeWithMask.vfp <br />fragmentMap 0 _currentRender <br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion <br />fragmentMap 2 textures/sfx/vp_full.tga // the distortion blend map <br />} // End Heat Haze Effect <br /><br />{ <br />mirrorRenderMap      512   256  // size of the texture to draw the mirror view in <br />blend   blend <br /><br />// give it a greenish tint <br />red      0.3 <br />green   0.3 <br />blue   0.1 <br /><br />// opacity <br />alpha   0.7 <br /><br />// these may not be necessary when I finish the code <br />translate   0.5 , 0.5 <br />scale   0.5 , 0.5 <br />} // End Mirror effect <br /><br />} // End Shader<br /></div>
<br /><br />Add the above code into a new material file named "water.mtr"
<br /><br /><span style="color: orange">Place water.mtr into /base/materials</span>
<br /><br />Make sure to make textures for water1.tga and vp_full.tga
<br /><br /><span style="color: orange">Place water1.tga into /base/textures/water</span>
<br /><br /><span style="color: orange">Place vp_full.tga into /base/textures/sfx</span>
<br /><br />I've included a link to a zip file that has the mtr file and both tga's...
<br /><br /><a href="https://web.archive.org/web/20100522175336/http://www.arizonablah.com/files/water.zip" class="postlink">Water.zip</a></div>]]></body></post><post id="p31581" date="Posted: Mon Aug 09, 2004 9:11 pm "><author>LMCTF-Vampire</author><body><![CDATA[<div class="postbody">So far in my travels in single player (as well as all 6 multiplayer maps) I have not seen any water at all.  This is making me rather nervous because alot of my map ideas require water in them... <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p31583" date="Posted: Mon Aug 09, 2004 9:12 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Are you familiar with material shaders because you'll have to write one and even still Doom 3 may not support it.
<br /><br />Write a material shader and add the command "water" to it. If you can swim around in a brush with this new custom material applied then yes, Doom 3 supports it.</div>]]></body></post><post id="p31653" date="Posted: Mon Aug 09, 2004 11:24 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">I have a new MTR file [/base/materials/water.mtr] which includes the following code...
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/water/water1<br />{<br />nonsolid<br />water // add this for water <br />translucent<br />twosided<br /><br />{<br />vertexProgram heatHazeWithMask.vfp<br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling<br />vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion<br />fragmentMap 2 textures/sfx/vp1_alpha.tga // the distortion blend map<br />}<br />}</div>
<br /><br />I made a temp texture for my water, named water1.tga under /base/textures/water
<br /><br />When looking for this new material in doom3ed, I cannot find it. What am I doing wrong?
<br /><br />Thanks in advance...</div>]]></body></post><post id="p31672" date="Posted: Mon Aug 09, 2004 11:46 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">ok changed the mtr file around a little bit...
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/water/<br />{<br />nonsolid<br />water // add this for water <br />translucent<br />twosided<br />diffusemap textures/water/water1.tga<br /><br />{<br />vertexProgram heatHazeWithMask.vfp<br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling<br />vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion<br />fragmentMap 2 textures/sfx/vp1_alpha.tga // the distortion blend map<br />}<br />}</div>
<br /><br />Next question is how can I apply a light or something to this material? It looks ok from the outside, but when you are swiming around in it, it's just looks like a normal room, and there is no breath meter, damage etc...
<br /><br />Any ideas guys?</div>]]></body></post><post id="p31681" date="Posted: Tue Aug 10, 2004 12:13 am "><author>RobD</author><body><![CDATA[<div class="postbody">For the breath meter you could use the oxygen meter you get in singleplayer when you go outside. The damage would probably be a check if(oxygen &lt;= 0) DamagePlayer(). That's how I would do it but that's only theoretical since I never even looked at scripting or shaders yet. No idea how you would actually put that idea to use D:</div>]]></body></post><post id="p31709" date="Posted: Tue Aug 10, 2004 1:02 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">@ Weazel: Whoa! The water keyword works in the retail game? I was almost certain they were going to remove it.
<br /><br />So is the oxygen problem the only real issue? The appearance from inside shouldn't be too hard to fix. You just need to make the material doublesided.
<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">For the breath meter you could use the oxygen meter you get in singleplayer when you go outside. The damage would probably be a check if(oxygen &lt;= 0) DamagePlayer(). That's how I would do it but that's only theoretical since I never even looked at scripting or shaders yet. No idea how you would actually put that idea to use D:</div>
<br /><br />That's the general idea but I don't think you'd include code to do that it in the material shader. This is functionality missing from the game.
<br /><br />Of course, this is no suprise because there have been interviews that clearly indicated id had no intention of including water in the game. Although, it is shocking to find that the water command still works.
<br /><br />Maybe there is something you could add to one of the definitions files to fix it?
<br /><br /><span style="font-weight: bold">EDIT:</span> BTW, I'd really like to see a screenshot. I can't see the DX9 effects on my end because I'm running the game on a GeForce 3.</div>]]></body></post><post id="p31834" date="Posted: Tue Aug 10, 2004 4:48 am "><author>Weazel</author><body><![CDATA[<div class="postbody">Ok haven't figured out the breath meter thing yet, but I'm working on it... I was wonder why the scrolling texture stops working when I increase the texture size...
<br /><br />As it is now the textures are really small and don't look very realistic. So I want some larger textures...
<br /><br />Any idea?</div>]]></body></post><post id="p32115" date="Posted: Tue Aug 10, 2004 4:19 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Have you tried this?
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">   {<br />      blend diffusemap<br />      map textures/water/water1.tga<br />      scale 4,4<br />   }</div></div>]]></body></post><post id="p32200" date="Posted: Tue Aug 10, 2004 6:02 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">Can you explain a little more on the usage of that code to me?
<br /><br />The water image is fine, it the other two that are small, both are like 64x64
<br /><br />textures/sfx/vp1.tga
<br />textures/sfx/vp1_alpha.tga
<br /><br />Because they are so small you cannot see the water rippling at a distance, only up close. If I could increase there size to 256x256 or maybe 512x512 I should be able to get some good detail at a normal distance.</div>]]></body></post><post id="p32226" date="Posted: Tue Aug 10, 2004 6:35 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Hmmm... I'm not sure if it will work that way.
<br /><br />Basically instead of typing ...
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent"> diffusemap [name of texture]</div><br /><br />you type...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br />  blend diffusemap<br />  map [name of texture]<br />}</div><br /><br />It does the same thing but because there are brackets you can add extra commands like scale.<br /><br />The problem is I'm not sure it would work with fragmentmap. You can try it. It might work.<br /><br />Modified snippet of your material shader...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />{<br />  blend fragmentMap 1<br />  map textures/sfx/vp1.tga // the normal map for distortion<br />  scale 2,2<br />}<br />{<br />  blend fragmentMap 2<br />  map textures/sfx/vp1_alpha.tga // the distortion blend map<br />  scale 2,2<br />}<br />}<br />}</div>
<br /><br />That's the only way I'm familiar with scaling them in a material shader but like I said, I don't know if it will work with a fragmentmap.
<br /><br />If it doesn't work you'll have to make resized copies of the two tgas manually.</div>]]></body></post><post id="p32232" date="Posted: Tue Aug 10, 2004 6:44 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">thanks for the tip I'll keep that in mind for the future, I fixed my problem by just using the surface editor in doom3ed to scale the texture to a high value which fixed my issue...
<br /><br />Next step get the water to reflect like a mirror <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I'll keep you posted...
<br /><br />And again thanks for all your help...</div>]]></body></post><post id="p32254" date="Posted: Tue Aug 10, 2004 7:10 pm "><author>Rayne</author><body><![CDATA[<div class="postbody">The Mirror rendermap code...
<br /><br /><br /><img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br />      mirrorRenderMap      512   256      // size of the texture to draw the mirror view in<br />      blend   blend<br /><br />      // give it a greenish tint<br />      red      0.3<br />      green   0.3<br />      blue   0.1<br /><br />      // opacity<br />      alpha   0.7<br /><br />      // these may not be necessary when I finish the code<br />      translate   0.5 , 0.5<br />      scale   0.5 , 0.5<br />   }</div></div>]]></body></post><post id="p32280" date="Posted: Tue Aug 10, 2004 7:50 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">do I just add that mirror code into my shader code? Or is there another use...
<br /><br />Thanks in advance...</div>]]></body></post><post id="p32357" date="Posted: Tue Aug 10, 2004 9:59 pm "><author>Weazel</author><body><![CDATA[<div class="postbody">Rayne you rock...
<br /><br />It's perfect now... Here's the whole working code....
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/stargate/event_horizon<br />{<br />discrete // Not sure what this is used for<br />nonsolid <br />//water // add this for water effect swimming etc...<br /><br />diffusemap textures/water/water1.tga<br /><br />{<br />vertexProgram heatHazeWithMask.vfp<br />vertexParm 0 time * 0.1 , time * 0.5 // texture scrolling<br />vertexParm 1 1.5 // magnitude of the distortion<br />fragmentProgram heatHazeWithMask.vfp<br />fragmentMap 0 _currentRender<br />fragmentMap 1 textures/sfx/vp1.tga // the normal map for distortion <br />fragmentMap 2 textures/sfx/vp_full.tga // the distortion blend map<br />} // End Heat Haze Effect<br /><br />{ <br />mirrorRenderMap      512   256  // size of the texture to draw the mirror view in <br />blend   blend <br /><br />// give it a greenish tint <br />red      0.3 <br />green   0.3 <br />blue   0.1 <br /><br />// opacity <br />alpha   0.7 <br /><br />// these may not be necessary when I finish the code <br />translate   0.5 , 0.5 <br />scale   0.5 , 0.5 <br />} // End Mirror effect<br /><br />} // End Shader<br /></div>
<br /><br />Thanks again...</div>]]></body></post><post id="p32361" date="Posted: Tue Aug 10, 2004 10:09 pm "><author>babago</author><body><![CDATA[<div class="postbody">can you post a screenshot of the finished work plz ?</div>]]></body></post><post id="p32366" date="Posted: Tue Aug 10, 2004 10:17 pm "><author>Rayne</author><body><![CDATA[<div class="postbody">oh, i'm workin on water the first time i saw the heat haze effect.. I saw it and said "this effect will rock to make fluids".  But i spend effectively 5 minutes to  make that.. I've posted a pic in the texture section
<br /><br /><br /><a href="https://web.archive.org/web/20100522175336/http://www.doom3world.org/phpbb2/viewtopic.php?p=32030#32030" class="postlink">HERE</a>
<br /><br /><br /><br />this is a pic, but i'm sure the Weazel one  looks much much better</div>]]></body></post><post id="p32367" date="Posted: Tue Aug 10, 2004 10:22 pm "><author>babago</author><body><![CDATA[<div class="postbody"><img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> wahou <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /><br /><br />a really really good work. I never expected that ! It's really, good ! I'm thinking this water effect is just awsome.</div>]]></body></post><post id="p32452" date="Posted: Wed Aug 11, 2004 12:42 am "><author>Magical Gnome</author><body><![CDATA[<div class="postbody">Cool effect... could you create a short tutorial perhaps? Pretty please?  <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /></div>]]></body></post><post id="p32482" date="Posted: Wed Aug 11, 2004 1:28 am "><author>Iced_Eagle</author><body><![CDATA[<div class="postbody">That is really cool <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Only bad thing though...... Only works on Geforce FX and Radeon 9500 and above <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Luckily I have a 9600 so I can enjoy the wtaer muhahah  <img src="https://web.archive.org/web/20100522175336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_twisted.gif" alt=":twisted:" title="Twisted Evil" /></div>]]></body></post></posts></thread></xml>
