<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="21282"><title>Animated Texture causing Error</title><posts><post id="p195929" date="Posted: Mon Mar 03, 2008 7:59 pm "><author>Drakmyth</author><body><![CDATA[<div class="postbody">While attempting to create a decent slime texture, I was experimenting with using green water.  I couldn't get the effect to look the way I wanted it.  So instead I made three 128x128 images of slime, and am attempting to animate them as one material. I combined the three images into a single 384x128 image. Looking on here at how to do animated textures, I've come up with the following:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">material textures/drakmyth/test_slime01<br />{<br />   qer_editorimage textures/slime01/slime1.bmp<br /><br />   noSelfShadow<br />   translucent<br />   noShadows<br />   twosided<br /><br />   deform tube<br />   {<br />      blend add<br />      map textures/slime01/slime01.tga<br />      scale 1 / 3 , 1<br />      scroll table32[ time * .1 ] , 0<br />      //clamp<br />   }<br />}<br /></div><br /><br />In the editor preview it looks perfect. But if I try to run my map or use the in-editor render preview, it crashes giving me the error<br /><br /><span style="font-size: 150%; line-height: normal"><span style="color: #FF0000">"ERROR: R_AutospriteDeform: autosprite had odd index count"</span></span><br /><br />While browsing for a solution, and through my own experiements with the material, it would seem that the culprit is the "deform tube" line. The problem is removing that (or including the clamp line) causes the texture to not look correct (although removing "deform tube" does allow the map to load).<br /><br />I understand this has something to do with the number of verts on a tube, which is how the texture is being mapped, but I don't exactly understand what.  I'm trying to use this texture for an irregularly shaped floor.<br /><br />Any help would be greatly appreciated. Thanks.</div>]]></body></post><post id="p195930" date="Posted: Mon Mar 03, 2008 9:32 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">"Deform tube" is just allowed on rectangles or squares (a 4 vertex poly), so applying it to anything else will give you an error.<br />In fact what it does is make the illusion that your rectangle is a tube by constantly rotating it to the player view, as a sprite, but keeping it alligned along its tallest side, like the black star beams in the intro. (by memory)<br />You can verify it at idDevNet=&gt;Doom3=&gt;materials.<br /><br /><img src="https://web.archive.org/web/20070509181516im_/http://doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post></posts></thread></xml>
