<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="6882"><title>Tutorial: Animated models into Doom3: Maya 4.5, 5.0 and 6.0</title><posts><post id="p58097" date="Posted: Thu Oct 21, 2004 5:23 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">Okay folks... this is an updated tutorial for the full version of Doom3.  It has been tested and works using Maya 4.5, 5.0 or 6.0 and the exportmodels command to get animated models (md5meshs and md5anims) into Doom3, properly textured.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224432/http://www.pcgamemods.com/mod/8994.html">http://www.pcgamemods.com/mod/8994.html</a><!-- m --> - Link Fixed 10/31/05
<br /><br /><span style="font-size: 134%; line-height: normal"><span style="font-weight: bold">EDIT: Update x 2! (12/9/2004)</span></span>
<br /><br />The PDF tutorial I created has been updated to include all of the fixes listed below.  
<br /><br />=====
<br /><br /><span style="font-weight: bold">Edit:</span> To prevent having to edit the md5mesh manually to remove the name of your mod directory from the shader path, add the "-game modDirectory" option to your export definition.
<br /><br /><br />- Open Hypershade: Window -&gt; Rendering Editors -&gt; Hypershade
<br />- If you followed my tutorial, delete any materials on your model (there is now no need to use a shading map and link it to a phong... you can directly use lamberts, phongs, whatever floats your boat).
<br />- Create a new material (a lambert, for example)
<br />- Click on the Color channel Input button (the checkerd box)
<br />- Select 2D Textures -&gt; <span style="font-weight: bold">Normal</span>
<br />- Click File
<br />- Ensure that "Filter Type" is Quadratic
<br />- Under Image Name, browse to your diffuse map... <span style="font-style: italic">this should have the SAME path and name as what is referenced in your material file</span>.  So, for example, in my tutorial, my material references:
<br /><br />models/monsters/buddy/buddy
<br /><br />So I browse to the image:
<br /><br />D:\Games\Doom3Edit\aolbuddy\models\monsters\buddy\buddy.tga
<br /><br />where buddy.tga is my color/diffuse map.
<br /><br />- Click Close
<br />- With the Hypershade still open, select your model
<br />- Right-click over the new material you created in the Hypershade and select "Assign Material To Selection" from the menu
<br /><br />You should now have a properly textured model in both Doom3 and Maya.
<br /><br /><br />Now, on iddev.net, it says that the material file is referenced through the Diffuse channel in Maya, not Color.  While this used to be true, it seems you can now just use the Color channel and it works fine.  If you run into problems, however, you can reference both the Color and Diffuse channels in Maya without causing any visual issues in either Doom3 or Maya.
<br /><br /><span style="font-weight: bold">Edit: Yet Another Update</span>
<br /><br />It seems the way the origin bone is connected to the skeleton of your mesh has changed.  The origin should now be the bone to which all other bones are connected.  Before, having the origin as a child to your root bone worked, and that's how I have it in my tutorial.  However, this has changed... now the origin bone should <span style="font-style: italic">be</span> your root bone.
<br /><br />You can easily fix this in Maya so that you don't have to repaint weights or any of that stuff.  I'm assuming that your weighting process left the origin bone with NO influence whatsoever.  Therefore, changing its position in the hierarchy shouldn't change how your bones are weighted.  
<br /><br />- Export the weights you already have so you don't have to re-do them.  
<br />- Unbind your bones.  
<br />- Fix your skeletal structure so that the Origin bone is at the top of the hierarchy.  
<br />- Re-skin your mesh, and
<br />-  import your weights.
<br /><br />===
<br /><br />I created a new thread and made it sticky since this seems to be a frequently-requested topic.
<br /><br />The tutorial is in PDF format.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224432/http://www.pcgamemods.com/mod/8994.html">http://www.pcgamemods.com/mod/8994.html</a><!-- m --> - Link Fixed 10/31/05
<br /><br />Goliath</div>]]></body></post><post id="p58228" date="Posted: Thu Oct 21, 2004 4:55 pm "><author>demonspawn</author><body><![CDATA[<div class="postbody">Just downloaded your maya model pdf goliathvt..haven't read it yet but thanks for all the effort your putting towards these boards and D3 in general.
<br /><br />DS</div>]]></body></post><post id="p59263" date="Posted: Wed Oct 27, 2004 12:02 am "><author>SnipeyX</author><body><![CDATA[<div class="postbody">New MayaImportx86.dll that allows exportModels to work with Maya6 over at <a href="https://web.archive.org/web/20081204224432/http://www.iddevnet.com/" class="postlink">iddevnet</a>. Enjoy.</div>]]></body></post><post id="p70332" date="Posted: Mon Jan 03, 2005 6:05 pm "><author>Teddy</author><body><![CDATA[<div class="postbody">Hello everyone and happy new year   <img src="https://web.archive.org/web/20081204224432im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />this is my firt post here! (excuse my english faults, I'm French)
<br /><br />goliathvt, I try your tutorial (explained very well) but I've got a problem, doom3 couldn't load my .def  <img src="https://web.archive.org/web/20081204224432im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />I just changed the name of "buddy" by "sigourneyweaver" for my model.
<br /><br />do you see an error in my files?
<br /><br /><br />this is my sigourneyweaver.def:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// AOhelL sigourneyweaver Entity <br /><br />export sigourneyweaver { <br /><br />options –game aolsigourneyweaver -sourcedir models/monsters/sigourneyweaver/cycles -destdir <br />models/md5/monsters/sigourneyweaver<br /><br />   mesh sigourneyweaverlow_idle.mb -dest sigourneyweaver<br />   anim sigourneyweaverlow_idle.mb <br /><br />} <br /><br />// buddy model def <br />model monster_sigourneyweaver { <br />   mesh       models/md5/monsters/sigourneyweaver/sigourneyweaver.md5mesh <br /><br />   anim idle    models/md5/monsters/sigourneyweaver/sigourneyweaver_idle.md5anim <br />} <br /><br />// buddy entity def <br />entityDef monster_sigourneyweaver { <br /><br />   "inherit"                            "monster_default" <br />   "scriptobject"                         "monster_zombie" <br />   // we’re not covering creating a new ai script file, <br />   // so just use the default zombie one for now... <br /><br />   "model"               "monster_sigourneyweaver"<br /><br />   "size"                                        "32 32 68" <br />   "use_aas"               "aas48" <br />   "team"               "1" <br />   "rank"               "0" <br />   "health"                           "25"<br /><br />   // the values (upper_back, etc.) correspond to bone names <br />   // within your model. Use the asterisks (*) to specify <br />   // all child bones below the specified bone. Or, use <br />   // a minus and asterisks (-*) to specify a range of <br />   // bones NOT to include <br /><br />   "damage_zone head"           "*upper_back" <br />   "damage_zone chest"                      "*mid_back -*upper_back" <br />   "damage_zone left_arm"         "*l_shoulderblade" <br />   "damage_zone right_arm"         "*r_shoulderblade" <br />   "damage_zone legs"            "*hip origin pelvis" <br />   "damage_scale head"         "2"<br /><br />   "anim"               "idle" <br />   "mass"               "50" <br /><br />} <br />// EOF  </div><br /><br />and my sigourneyweaver.mtr:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// AOhelL sigourneyweaver Material File <br /><br />models/monsters/sigourneyweaver/sigourneyweaver <br />{ <br />   bumpmap    models/monsters/sigourneyweaver/sigourneyweaver_local.tga <br />   diffusemap    models/monsters/sigourneyweaver/sigourneyweaver.tga <br />   specularmap    models/monsters/sigourneyweaver/sigourneyweaver_s.tga <br />} <br /></div>
<br /><br /><span style="font-weight: bold">and here the hierarchie of my files:</span>
<br /><br />D:\DOOM 3\aolsigourneyweaver\def\sigourneyweaver.def
<br />D:\DOOM 3\aolsigourneyweaver\materials\sigourneyweaver.mtr
<br />D:\DOOM 3\aolsigourneyweaver\models\monsters\sigourneyweaver\ :
<br /><br />sigourneyweaverlow.mb
<br />sigourneyweaver.tga
<br />sigourneyweaver_h.tga
<br />sigourneyweaver_s.tga
<br />sigourneyweaver_local.tga
<br /><br />and the result with different .def:
<br /><br /><img src="https://web.archive.org/web/20081204224432im_/http://www.teddy-chauveau.com/doom3command.jpg" alt="Image" /><br /><br />Edit by Goliath: put your code into code tags...</div>]]></body></post><post id="p70355" date="Posted: Mon Jan 03, 2005 9:10 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">Is that a carriage-return on the options line of the export directive?  Try making sure that all of the options are on one line.  Unfortunately, in my tutorial, because it is in PDF format, it uses a normal page-width and the export line gets wrapped accidentally.
<br /><br />Also, make sure your file is a plaintext file AND make sure that it has a .def extension.  If you're using windows with the "hide file extensions of known file types" option, your file may be "sigourneyweaver.def.txt" without you knowing it... whereas it should just be "sigorneyweaver.def".
<br /><br />G</div>]]></body></post><post id="p70389" date="Posted: Tue Jan 04, 2005 12:54 am "><author>Teddy</author><body><![CDATA[<div class="postbody">It is a .def file, I see his extension.  I have create it as I create a .mtr file and my .mtr files function in doom3.  
<br />(my .mtr has a better presentation, like the pdf, but them "tab" and "space" does not function well on the forum)</div>]]></body></post><post id="p70562" date="Posted: Wed Jan 05, 2005 1:37 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">I see you have a space if your "Doom 3" folder... that's usually a bad idea, but it might not matter.  Other than that, I don't see any glaring syntax errors.  Maybe try commenting out the options line and just seeing it the export will run, because right now, it doesn't even seem to want to load your .def file... as if it isn't there.
<br /><br />Note that you can type:
<br /><br />exportModels monster[TAB]
<br /><br />and you'll get a list of all of the entities that are named "monster*".  Make sure your sigorneyweaver monster is listed.  If not, you might need to restart Doom3 so it will re-load all of the .defs.
<br /><br />G</div>]]></body></post><post id="p93578" date="Posted: Tue May 10, 2005 8:01 pm "><author>russ_c</author><body><![CDATA[<div class="postbody">The only way I could get the console to find my .def was to place it in //base/def instead of the mod's def folder.  Then I intended to move it back to the mod's def folder once the mesh was created.  Hope that helps...
<br /><br /> Unfortunately I can't get exporting to still work...but it finds the def and tries to make a model!  When I type "testmodel funk" after running the export I get the following:
<br /><br /><span style="color: brown"><br />WARNING: file def/funky.def line 17: Model 'models/md5/funk.md5mesh' defaulted<br />WARNING: Unable to create testmodel for 'funk' : model defaulted</span>
<br /><br />Incidentally, when I run "exportmodels funky.def" the console doesn't say a thing...but when I check the destination folder for the md5mesh it isn't there...so might I assume the default is caused by the non-exsistance of the md5mesh?
<br /><br />What is going on here!!?? Why won't my simple .def export the model?  Here it is:
<br /><br /><span style="color: green">// Funky Object Export<br /><br />export funky<br />{<br /><br />	options -game MMM -sourcedir models/mapobjects -destdir models/md5<br /><br />	mesh funky.mb -dest funk<br /><br />}<br /><br />// Funky Objcet Definition<br /><br />model funk <br />{<br /><br />	mesh models/md5/funk.md5mesh<br /><br />}<br /><br />// Funky Object Stuff<br /><br />entityDef funk<br />{<br /><br />     "inherit" "monster_default"<br />     "scriptobject" "monster_zombie"<br />     "model" "funk"<br />     "size" "32 32 68"<br />     "use_aas" "aas48"<br />}</span>
<br /><br />Goliath, can you help?!  As you can see I am just trying to get this to work with a mesh...next step will be adding a basic running animation to the .def and re-exporting.
<br /><br />Thanks so much</div>]]></body></post><post id="p102056" date="Posted: Sat Jul 02, 2005 1:16 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">Im having a problem with the ATImapperUI...  I filled out everything in the ATImapperUI gui that told you me to but when you quoat.
<br /><br />"Under Output File, set your Output Path to doom3/aolbuddy/models/monsters/buddy. Name the file buddy_local.tga."  
<br /><br />Name what file?  I don't get that part, also I cant create normal map.  Maybe its becuase of not nameing "the file".
<br /><br />Help is apprecaited, my mod is relying on this reply!!!!!!!!
<br /><br />Edit: Im using maya 5 by the way.
<br /><br />Thanks in advance</div>]]></body></post><post id="p102131" date="Posted: Sat Jul 02, 2005 12:46 pm "><author>jizaboz</author><body><![CDATA[<div class="postbody">Go here... <a href="https://web.archive.org/web/20081204224432/http://www.doom3world.org/phpbb2/viewtopic.php?p=102130#102130" class="postlink">http://www.doom3world.org/phpbb2/viewtopic.php?p=102130#102130</a></div>]]></body></post><post id="p119307" date="Posted: Mon Oct 31, 2005 1:32 am "><author>Zitheral=WFR</author><body><![CDATA[<div class="postbody">Where did this PDF go? <img src="https://web.archive.org/web/20081204224432im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p119332" date="Posted: Mon Oct 31, 2005 5:44 am "><author>parsonsbear</author><body><![CDATA[<div class="postbody">I've mirrored it at:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224432/http://a.parsons.edu/~evan/doom3/exportModelsD3.pdf">http://a.parsons.edu/~evan/doom3/exportModelsD3.pdf</a><!-- m --></div>]]></body></post><post id="p123729" date="Posted: Thu Dec 01, 2005 12:50 am "><author>jizaboz</author><body><![CDATA[<div class="postbody">Thanks for the mirror. That came in handy today ;)</div>]]></body></post><post id="p123816" date="Posted: Thu Dec 01, 2005 6:56 pm "><author>Jack Frost</author><body><![CDATA[<div class="postbody">hmmm, what if you have Maya 7.0 ???</div>]]></body></post><post id="p126470" date="Posted: Wed Dec 21, 2005 7:58 pm "><author>jlamb</author><body><![CDATA[<div class="postbody">Neither of these appear to be up anymore. Anyone else able to share the tutorial by chance?</div>]]></body></post><post id="p141767" date="Posted: Mon May 01, 2006 10:24 pm "><author>WeeZer</author><body><![CDATA[<div class="postbody">I've mirrored it also at <!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224432/http://root.fragarea.org/temp/exportModelsD3.pdf">http://root.fragarea.org/temp/exportModelsD3.pdf</a><!-- m -->
<br /><br />Can anyone upload the result of the tutorial?
<br />I'm not sure if i make it right. I get a error when i try to export it.</div>]]></body></post><post id="p141819" date="Posted: Tue May 02, 2006 2:00 pm "><author>jizaboz</author><body><![CDATA[<div class="postbody">What is your error Weezer?</div>]]></body></post><post id="p141822" date="Posted: Tue May 02, 2006 2:27 pm "><author>WeeZer</author><body><![CDATA[<div class="postbody">i get this message:
<br /><img src="https://web.archive.org/web/20081204224432im_/http://root.fragarea.org/temp/export_error.jpg" alt="Image" /><br /><br />i'm using maya 7 with this import dll <a href="https://web.archive.org/web/20081204224432/http://www.facinghell.com/?cid=files" class="postlink">http://www.facinghell.com/?cid=files</a></div>]]></body></post><post id="p58097" date="Posted: Thu Oct 21, 2004 5:23 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">Okay folks... this is an updated tutorial for the full version of Doom3.  It has been tested and works using Maya 4.5, 5.0 or 6.0 and the exportmodels command to get animated models (md5meshs and md5anims) into Doom3, properly textured.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224346/http://www.pcgamemods.com/mod/8994.html">http://www.pcgamemods.com/mod/8994.html</a><!-- m --> - Link Fixed 10/31/05
<br /><br /><span style="font-size: 134%; line-height: normal"><span style="font-weight: bold">EDIT: Update x 2! (12/9/2004)</span></span>
<br /><br />The PDF tutorial I created has been updated to include all of the fixes listed below.  
<br /><br />=====
<br /><br /><span style="font-weight: bold">Edit:</span> To prevent having to edit the md5mesh manually to remove the name of your mod directory from the shader path, add the "-game modDirectory" option to your export definition.
<br /><br /><br />- Open Hypershade: Window -&gt; Rendering Editors -&gt; Hypershade
<br />- If you followed my tutorial, delete any materials on your model (there is now no need to use a shading map and link it to a phong... you can directly use lamberts, phongs, whatever floats your boat).
<br />- Create a new material (a lambert, for example)
<br />- Click on the Color channel Input button (the checkerd box)
<br />- Select 2D Textures -&gt; <span style="font-weight: bold">Normal</span>
<br />- Click File
<br />- Ensure that "Filter Type" is Quadratic
<br />- Under Image Name, browse to your diffuse map... <span style="font-style: italic">this should have the SAME path and name as what is referenced in your material file</span>.  So, for example, in my tutorial, my material references:
<br /><br />models/monsters/buddy/buddy
<br /><br />So I browse to the image:
<br /><br />D:\Games\Doom3Edit\aolbuddy\models\monsters\buddy\buddy.tga
<br /><br />where buddy.tga is my color/diffuse map.
<br /><br />- Click Close
<br />- With the Hypershade still open, select your model
<br />- Right-click over the new material you created in the Hypershade and select "Assign Material To Selection" from the menu
<br /><br />You should now have a properly textured model in both Doom3 and Maya.
<br /><br /><br />Now, on iddev.net, it says that the material file is referenced through the Diffuse channel in Maya, not Color.  While this used to be true, it seems you can now just use the Color channel and it works fine.  If you run into problems, however, you can reference both the Color and Diffuse channels in Maya without causing any visual issues in either Doom3 or Maya.
<br /><br /><span style="font-weight: bold">Edit: Yet Another Update</span>
<br /><br />It seems the way the origin bone is connected to the skeleton of your mesh has changed.  The origin should now be the bone to which all other bones are connected.  Before, having the origin as a child to your root bone worked, and that's how I have it in my tutorial.  However, this has changed... now the origin bone should <span style="font-style: italic">be</span> your root bone.
<br /><br />You can easily fix this in Maya so that you don't have to repaint weights or any of that stuff.  I'm assuming that your weighting process left the origin bone with NO influence whatsoever.  Therefore, changing its position in the hierarchy shouldn't change how your bones are weighted.  
<br /><br />- Export the weights you already have so you don't have to re-do them.  
<br />- Unbind your bones.  
<br />- Fix your skeletal structure so that the Origin bone is at the top of the hierarchy.  
<br />- Re-skin your mesh, and
<br />-  import your weights.
<br /><br />===
<br /><br />I created a new thread and made it sticky since this seems to be a frequently-requested topic.
<br /><br />The tutorial is in PDF format.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224346/http://www.pcgamemods.com/mod/8994.html">http://www.pcgamemods.com/mod/8994.html</a><!-- m --> - Link Fixed 10/31/05
<br /><br />Goliath</div>]]></body></post><post id="p58228" date="Posted: Thu Oct 21, 2004 4:55 pm "><author>demonspawn</author><body><![CDATA[<div class="postbody">Just downloaded your maya model pdf goliathvt..haven't read it yet but thanks for all the effort your putting towards these boards and D3 in general.
<br /><br />DS</div>]]></body></post><post id="p59263" date="Posted: Wed Oct 27, 2004 12:02 am "><author>SnipeyX</author><body><![CDATA[<div class="postbody">New MayaImportx86.dll that allows exportModels to work with Maya6 over at <a href="https://web.archive.org/web/20081204224346/http://www.iddevnet.com/" class="postlink">iddevnet</a>. Enjoy.</div>]]></body></post><post id="p70332" date="Posted: Mon Jan 03, 2005 6:05 pm "><author>Teddy</author><body><![CDATA[<div class="postbody">Hello everyone and happy new year   <img src="https://web.archive.org/web/20081204224346im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />this is my firt post here! (excuse my english faults, I'm French)
<br /><br />goliathvt, I try your tutorial (explained very well) but I've got a problem, doom3 couldn't load my .def  <img src="https://web.archive.org/web/20081204224346im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />I just changed the name of "buddy" by "sigourneyweaver" for my model.
<br /><br />do you see an error in my files?
<br /><br /><br />this is my sigourneyweaver.def:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// AOhelL sigourneyweaver Entity <br /><br />export sigourneyweaver { <br /><br />options –game aolsigourneyweaver -sourcedir models/monsters/sigourneyweaver/cycles -destdir <br />models/md5/monsters/sigourneyweaver<br /><br />   mesh sigourneyweaverlow_idle.mb -dest sigourneyweaver<br />   anim sigourneyweaverlow_idle.mb <br /><br />} <br /><br />// buddy model def <br />model monster_sigourneyweaver { <br />   mesh       models/md5/monsters/sigourneyweaver/sigourneyweaver.md5mesh <br /><br />   anim idle    models/md5/monsters/sigourneyweaver/sigourneyweaver_idle.md5anim <br />} <br /><br />// buddy entity def <br />entityDef monster_sigourneyweaver { <br /><br />   "inherit"                            "monster_default" <br />   "scriptobject"                         "monster_zombie" <br />   // we’re not covering creating a new ai script file, <br />   // so just use the default zombie one for now... <br /><br />   "model"               "monster_sigourneyweaver"<br /><br />   "size"                                        "32 32 68" <br />   "use_aas"               "aas48" <br />   "team"               "1" <br />   "rank"               "0" <br />   "health"                           "25"<br /><br />   // the values (upper_back, etc.) correspond to bone names <br />   // within your model. Use the asterisks (*) to specify <br />   // all child bones below the specified bone. Or, use <br />   // a minus and asterisks (-*) to specify a range of <br />   // bones NOT to include <br /><br />   "damage_zone head"           "*upper_back" <br />   "damage_zone chest"                      "*mid_back -*upper_back" <br />   "damage_zone left_arm"         "*l_shoulderblade" <br />   "damage_zone right_arm"         "*r_shoulderblade" <br />   "damage_zone legs"            "*hip origin pelvis" <br />   "damage_scale head"         "2"<br /><br />   "anim"               "idle" <br />   "mass"               "50" <br /><br />} <br />// EOF  </div><br /><br />and my sigourneyweaver.mtr:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// AOhelL sigourneyweaver Material File <br /><br />models/monsters/sigourneyweaver/sigourneyweaver <br />{ <br />   bumpmap    models/monsters/sigourneyweaver/sigourneyweaver_local.tga <br />   diffusemap    models/monsters/sigourneyweaver/sigourneyweaver.tga <br />   specularmap    models/monsters/sigourneyweaver/sigourneyweaver_s.tga <br />} <br /></div>
<br /><br /><span style="font-weight: bold">and here the hierarchie of my files:</span>
<br /><br />D:\DOOM 3\aolsigourneyweaver\def\sigourneyweaver.def
<br />D:\DOOM 3\aolsigourneyweaver\materials\sigourneyweaver.mtr
<br />D:\DOOM 3\aolsigourneyweaver\models\monsters\sigourneyweaver\ :
<br /><br />sigourneyweaverlow.mb
<br />sigourneyweaver.tga
<br />sigourneyweaver_h.tga
<br />sigourneyweaver_s.tga
<br />sigourneyweaver_local.tga
<br /><br />and the result with different .def:
<br /><br /><img src="https://web.archive.org/web/20081204224346im_/http://www.teddy-chauveau.com/doom3command.jpg" alt="Image" /><br /><br />Edit by Goliath: put your code into code tags...</div>]]></body></post><post id="p70355" date="Posted: Mon Jan 03, 2005 9:10 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">Is that a carriage-return on the options line of the export directive?  Try making sure that all of the options are on one line.  Unfortunately, in my tutorial, because it is in PDF format, it uses a normal page-width and the export line gets wrapped accidentally.
<br /><br />Also, make sure your file is a plaintext file AND make sure that it has a .def extension.  If you're using windows with the "hide file extensions of known file types" option, your file may be "sigourneyweaver.def.txt" without you knowing it... whereas it should just be "sigorneyweaver.def".
<br /><br />G</div>]]></body></post><post id="p70389" date="Posted: Tue Jan 04, 2005 12:54 am "><author>Teddy</author><body><![CDATA[<div class="postbody">It is a .def file, I see his extension.  I have create it as I create a .mtr file and my .mtr files function in doom3.  
<br />(my .mtr has a better presentation, like the pdf, but them "tab" and "space" does not function well on the forum)</div>]]></body></post><post id="p70562" date="Posted: Wed Jan 05, 2005 1:37 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">I see you have a space if your "Doom 3" folder... that's usually a bad idea, but it might not matter.  Other than that, I don't see any glaring syntax errors.  Maybe try commenting out the options line and just seeing it the export will run, because right now, it doesn't even seem to want to load your .def file... as if it isn't there.
<br /><br />Note that you can type:
<br /><br />exportModels monster[TAB]
<br /><br />and you'll get a list of all of the entities that are named "monster*".  Make sure your sigorneyweaver monster is listed.  If not, you might need to restart Doom3 so it will re-load all of the .defs.
<br /><br />G</div>]]></body></post><post id="p93578" date="Posted: Tue May 10, 2005 8:01 pm "><author>russ_c</author><body><![CDATA[<div class="postbody">The only way I could get the console to find my .def was to place it in //base/def instead of the mod's def folder.  Then I intended to move it back to the mod's def folder once the mesh was created.  Hope that helps...
<br /><br /> Unfortunately I can't get exporting to still work...but it finds the def and tries to make a model!  When I type "testmodel funk" after running the export I get the following:
<br /><br /><span style="color: brown"><br />WARNING: file def/funky.def line 17: Model 'models/md5/funk.md5mesh' defaulted<br />WARNING: Unable to create testmodel for 'funk' : model defaulted</span>
<br /><br />Incidentally, when I run "exportmodels funky.def" the console doesn't say a thing...but when I check the destination folder for the md5mesh it isn't there...so might I assume the default is caused by the non-exsistance of the md5mesh?
<br /><br />What is going on here!!?? Why won't my simple .def export the model?  Here it is:
<br /><br /><span style="color: green">// Funky Object Export<br /><br />export funky<br />{<br /><br />	options -game MMM -sourcedir models/mapobjects -destdir models/md5<br /><br />	mesh funky.mb -dest funk<br /><br />}<br /><br />// Funky Objcet Definition<br /><br />model funk <br />{<br /><br />	mesh models/md5/funk.md5mesh<br /><br />}<br /><br />// Funky Object Stuff<br /><br />entityDef funk<br />{<br /><br />     "inherit" "monster_default"<br />     "scriptobject" "monster_zombie"<br />     "model" "funk"<br />     "size" "32 32 68"<br />     "use_aas" "aas48"<br />}</span>
<br /><br />Goliath, can you help?!  As you can see I am just trying to get this to work with a mesh...next step will be adding a basic running animation to the .def and re-exporting.
<br /><br />Thanks so much</div>]]></body></post><post id="p102056" date="Posted: Sat Jul 02, 2005 1:16 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">Im having a problem with the ATImapperUI...  I filled out everything in the ATImapperUI gui that told you me to but when you quoat.
<br /><br />"Under Output File, set your Output Path to doom3/aolbuddy/models/monsters/buddy. Name the file buddy_local.tga."  
<br /><br />Name what file?  I don't get that part, also I cant create normal map.  Maybe its becuase of not nameing "the file".
<br /><br />Help is apprecaited, my mod is relying on this reply!!!!!!!!
<br /><br />Edit: Im using maya 5 by the way.
<br /><br />Thanks in advance</div>]]></body></post><post id="p102131" date="Posted: Sat Jul 02, 2005 12:46 pm "><author>jizaboz</author><body><![CDATA[<div class="postbody">Go here... <a href="https://web.archive.org/web/20081204224346/http://www.doom3world.org/phpbb2/viewtopic.php?p=102130#102130" class="postlink">http://www.doom3world.org/phpbb2/viewtopic.php?p=102130#102130</a></div>]]></body></post><post id="p119307" date="Posted: Mon Oct 31, 2005 1:32 am "><author>Zitheral=WFR</author><body><![CDATA[<div class="postbody">Where did this PDF go? <img src="https://web.archive.org/web/20081204224346im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p119332" date="Posted: Mon Oct 31, 2005 5:44 am "><author>parsonsbear</author><body><![CDATA[<div class="postbody">I've mirrored it at:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224346/http://a.parsons.edu/~evan/doom3/exportModelsD3.pdf">http://a.parsons.edu/~evan/doom3/exportModelsD3.pdf</a><!-- m --></div>]]></body></post><post id="p123729" date="Posted: Thu Dec 01, 2005 12:50 am "><author>jizaboz</author><body><![CDATA[<div class="postbody">Thanks for the mirror. That came in handy today ;)</div>]]></body></post><post id="p123816" date="Posted: Thu Dec 01, 2005 6:56 pm "><author>Jack Frost</author><body><![CDATA[<div class="postbody">hmmm, what if you have Maya 7.0 ???</div>]]></body></post><post id="p126470" date="Posted: Wed Dec 21, 2005 7:58 pm "><author>jlamb</author><body><![CDATA[<div class="postbody">Neither of these appear to be up anymore. Anyone else able to share the tutorial by chance?</div>]]></body></post><post id="p141767" date="Posted: Mon May 01, 2006 10:24 pm "><author>WeeZer</author><body><![CDATA[<div class="postbody">I've mirrored it also at <!-- m --><a class="postlink" href="https://web.archive.org/web/20081204224346/http://root.fragarea.org/temp/exportModelsD3.pdf">http://root.fragarea.org/temp/exportModelsD3.pdf</a><!-- m -->
<br /><br />Can anyone upload the result of the tutorial?
<br />I'm not sure if i make it right. I get a error when i try to export it.</div>]]></body></post><post id="p141819" date="Posted: Tue May 02, 2006 2:00 pm "><author>jizaboz</author><body><![CDATA[<div class="postbody">What is your error Weezer?</div>]]></body></post><post id="p141822" date="Posted: Tue May 02, 2006 2:27 pm "><author>WeeZer</author><body><![CDATA[<div class="postbody">i get this message:
<br /><img src="https://web.archive.org/web/20081204224346im_/http://root.fragarea.org/temp/export_error.jpg" alt="Image" /><br /><br />i'm using maya 7 with this import dll <a href="https://web.archive.org/web/20081204224346/http://www.facinghell.com/?cid=files" class="postlink">http://www.facinghell.com/?cid=files</a></div>]]></body></post><post id="p58097" date="Posted: Thu Oct 21, 2004 5:23 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">Okay folks... this is an updated tutorial for the full version of Doom3.  It has been tested and works using Maya 4.5, 5.0 or 6.0 and the exportmodels command to get animated models (md5meshs and md5anims) into Doom3, properly textured.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20070509181516/http://www.pcgamemods.com/mod/8994.html">http://www.pcgamemods.com/mod/8994.html</a><!-- m --> - Link Fixed 10/31/05
<br /><br /><span style="font-size: 134%; line-height: normal"><span style="font-weight: bold">EDIT: Update x 2! (12/9/2004)</span></span>
<br /><br />The PDF tutorial I created has been updated to include all of the fixes listed below.  
<br /><br />=====
<br /><br /><span style="font-weight: bold">Edit:</span> To prevent having to edit the md5mesh manually to remove the name of your mod directory from the shader path, add the "-game modDirectory" option to your export definition.
<br /><br /><br />- Open Hypershade: Window -&gt; Rendering Editors -&gt; Hypershade
<br />- If you followed my tutorial, delete any materials on your model (there is now no need to use a shading map and link it to a phong... you can directly use lamberts, phongs, whatever floats your boat).
<br />- Create a new material (a lambert, for example)
<br />- Click on the Color channel Input button (the checkerd box)
<br />- Select 2D Textures -&gt; <span style="font-weight: bold">Normal</span>
<br />- Click File
<br />- Ensure that "Filter Type" is Quadratic
<br />- Under Image Name, browse to your diffuse map... <span style="font-style: italic">this should have the SAME path and name as what is referenced in your material file</span>.  So, for example, in my tutorial, my material references:
<br /><br />models/monsters/buddy/buddy
<br /><br />So I browse to the image:
<br /><br />D:\Games\Doom3Edit\aolbuddy\models\monsters\buddy\buddy.tga
<br /><br />where buddy.tga is my color/diffuse map.
<br /><br />- Click Close
<br />- With the Hypershade still open, select your model
<br />- Right-click over the new material you created in the Hypershade and select "Assign Material To Selection" from the menu
<br /><br />You should now have a properly textured model in both Doom3 and Maya.
<br /><br /><br />Now, on iddev.net, it says that the material file is referenced through the Diffuse channel in Maya, not Color.  While this used to be true, it seems you can now just use the Color channel and it works fine.  If you run into problems, however, you can reference both the Color and Diffuse channels in Maya without causing any visual issues in either Doom3 or Maya.
<br /><br /><span style="font-weight: bold">Edit: Yet Another Update</span>
<br /><br />It seems the way the origin bone is connected to the skeleton of your mesh has changed.  The origin should now be the bone to which all other bones are connected.  Before, having the origin as a child to your root bone worked, and that's how I have it in my tutorial.  However, this has changed... now the origin bone should <span style="font-style: italic">be</span> your root bone.
<br /><br />You can easily fix this in Maya so that you don't have to repaint weights or any of that stuff.  I'm assuming that your weighting process left the origin bone with NO influence whatsoever.  Therefore, changing its position in the hierarchy shouldn't change how your bones are weighted.  
<br /><br />- Export the weights you already have so you don't have to re-do them.  
<br />- Unbind your bones.  
<br />- Fix your skeletal structure so that the Origin bone is at the top of the hierarchy.  
<br />- Re-skin your mesh, and
<br />-  import your weights.
<br /><br />===
<br /><br />I created a new thread and made it sticky since this seems to be a frequently-requested topic.
<br /><br />The tutorial is in PDF format.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20070509181516/http://www.pcgamemods.com/mod/8994.html">http://www.pcgamemods.com/mod/8994.html</a><!-- m --> - Link Fixed 10/31/05
<br /><br />Goliath</div>]]></body></post><post id="p58228" date="Posted: Thu Oct 21, 2004 4:55 pm "><author>demonspawn</author><body><![CDATA[<div class="postbody">Just downloaded your maya model pdf goliathvt..haven't read it yet but thanks for all the effort your putting towards these boards and D3 in general.
<br /><br />DS</div>]]></body></post><post id="p59263" date="Posted: Wed Oct 27, 2004 12:02 am "><author>SnipeyX</author><body><![CDATA[<div class="postbody">New MayaImportx86.dll that allows exportModels to work with Maya6 over at <a href="https://web.archive.org/web/20070509181516/http://www.iddevnet.com/" class="postlink">iddevnet</a>. Enjoy.</div>]]></body></post><post id="p70332" date="Posted: Mon Jan 03, 2005 6:05 pm "><author>Teddy</author><body><![CDATA[<div class="postbody">Hello everyone and happy new year   <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />this is my firt post here! (excuse my english faults, I'm French)
<br /><br />goliathvt, I try your tutorial (explained very well) but I've got a problem, doom3 couldn't load my .def  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />I just changed the name of "buddy" by "sigourneyweaver" for my model.
<br /><br />do you see an error in my files?
<br /><br /><br />this is my sigourneyweaver.def:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// AOhelL sigourneyweaver Entity <br /><br />export sigourneyweaver { <br /><br />options –game aolsigourneyweaver -sourcedir models/monsters/sigourneyweaver/cycles -destdir <br />models/md5/monsters/sigourneyweaver<br /><br />   mesh sigourneyweaverlow_idle.mb -dest sigourneyweaver<br />   anim sigourneyweaverlow_idle.mb <br /><br />} <br /><br />// buddy model def <br />model monster_sigourneyweaver { <br />   mesh       models/md5/monsters/sigourneyweaver/sigourneyweaver.md5mesh <br /><br />   anim idle    models/md5/monsters/sigourneyweaver/sigourneyweaver_idle.md5anim <br />} <br /><br />// buddy entity def <br />entityDef monster_sigourneyweaver { <br /><br />   "inherit"                            "monster_default" <br />   "scriptobject"                         "monster_zombie" <br />   // we’re not covering creating a new ai script file, <br />   // so just use the default zombie one for now... <br /><br />   "model"               "monster_sigourneyweaver"<br /><br />   "size"                                        "32 32 68" <br />   "use_aas"               "aas48" <br />   "team"               "1" <br />   "rank"               "0" <br />   "health"                           "25"<br /><br />   // the values (upper_back, etc.) correspond to bone names <br />   // within your model. Use the asterisks (*) to specify <br />   // all child bones below the specified bone. Or, use <br />   // a minus and asterisks (-*) to specify a range of <br />   // bones NOT to include <br /><br />   "damage_zone head"           "*upper_back" <br />   "damage_zone chest"                      "*mid_back -*upper_back" <br />   "damage_zone left_arm"         "*l_shoulderblade" <br />   "damage_zone right_arm"         "*r_shoulderblade" <br />   "damage_zone legs"            "*hip origin pelvis" <br />   "damage_scale head"         "2"<br /><br />   "anim"               "idle" <br />   "mass"               "50" <br /><br />} <br />// EOF  </div><br /><br />and my sigourneyweaver.mtr:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// AOhelL sigourneyweaver Material File <br /><br />models/monsters/sigourneyweaver/sigourneyweaver <br />{ <br />   bumpmap    models/monsters/sigourneyweaver/sigourneyweaver_local.tga <br />   diffusemap    models/monsters/sigourneyweaver/sigourneyweaver.tga <br />   specularmap    models/monsters/sigourneyweaver/sigourneyweaver_s.tga <br />} <br /></div>
<br /><br /><span style="font-weight: bold">and here the hierarchie of my files:</span>
<br /><br />D:\DOOM 3\aolsigourneyweaver\def\sigourneyweaver.def
<br />D:\DOOM 3\aolsigourneyweaver\materials\sigourneyweaver.mtr
<br />D:\DOOM 3\aolsigourneyweaver\models\monsters\sigourneyweaver\ :
<br /><br />sigourneyweaverlow.mb
<br />sigourneyweaver.tga
<br />sigourneyweaver_h.tga
<br />sigourneyweaver_s.tga
<br />sigourneyweaver_local.tga
<br /><br />and the result with different .def:
<br /><br /><img src="https://web.archive.org/web/20070509181516im_/http://www.teddy-chauveau.com/doom3command.jpg" alt="Image" /><br /><br />Edit by Goliath: put your code into code tags...</div>]]></body></post><post id="p70355" date="Posted: Mon Jan 03, 2005 9:10 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">Is that a carriage-return on the options line of the export directive?  Try making sure that all of the options are on one line.  Unfortunately, in my tutorial, because it is in PDF format, it uses a normal page-width and the export line gets wrapped accidentally.
<br /><br />Also, make sure your file is a plaintext file AND make sure that it has a .def extension.  If you're using windows with the "hide file extensions of known file types" option, your file may be "sigourneyweaver.def.txt" without you knowing it... whereas it should just be "sigorneyweaver.def".
<br /><br />G</div>]]></body></post><post id="p70389" date="Posted: Tue Jan 04, 2005 12:54 am "><author>Teddy</author><body><![CDATA[<div class="postbody">It is a .def file, I see his extension.  I have create it as I create a .mtr file and my .mtr files function in doom3.  
<br />(my .mtr has a better presentation, like the pdf, but them "tab" and "space" does not function well on the forum)</div>]]></body></post><post id="p70562" date="Posted: Wed Jan 05, 2005 1:37 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">I see you have a space if your "Doom 3" folder... that's usually a bad idea, but it might not matter.  Other than that, I don't see any glaring syntax errors.  Maybe try commenting out the options line and just seeing it the export will run, because right now, it doesn't even seem to want to load your .def file... as if it isn't there.
<br /><br />Note that you can type:
<br /><br />exportModels monster[TAB]
<br /><br />and you'll get a list of all of the entities that are named "monster*".  Make sure your sigorneyweaver monster is listed.  If not, you might need to restart Doom3 so it will re-load all of the .defs.
<br /><br />G</div>]]></body></post><post id="p93578" date="Posted: Tue May 10, 2005 8:01 pm "><author>russ_c</author><body><![CDATA[<div class="postbody">The only way I could get the console to find my .def was to place it in //base/def instead of the mod's def folder.  Then I intended to move it back to the mod's def folder once the mesh was created.  Hope that helps...
<br /><br /> Unfortunately I can't get exporting to still work...but it finds the def and tries to make a model!  When I type "testmodel funk" after running the export I get the following:
<br /><br /><span style="color: brown"><br />WARNING: file def/funky.def line 17: Model 'models/md5/funk.md5mesh' defaulted<br />WARNING: Unable to create testmodel for 'funk' : model defaulted</span>
<br /><br />Incidentally, when I run "exportmodels funky.def" the console doesn't say a thing...but when I check the destination folder for the md5mesh it isn't there...so might I assume the default is caused by the non-exsistance of the md5mesh?
<br /><br />What is going on here!!?? Why won't my simple .def export the model?  Here it is:
<br /><br /><span style="color: green">// Funky Object Export<br /><br />export funky<br />{<br /><br />	options -game MMM -sourcedir models/mapobjects -destdir models/md5<br /><br />	mesh funky.mb -dest funk<br /><br />}<br /><br />// Funky Objcet Definition<br /><br />model funk <br />{<br /><br />	mesh models/md5/funk.md5mesh<br /><br />}<br /><br />// Funky Object Stuff<br /><br />entityDef funk<br />{<br /><br />     "inherit" "monster_default"<br />     "scriptobject" "monster_zombie"<br />     "model" "funk"<br />     "size" "32 32 68"<br />     "use_aas" "aas48"<br />}</span>
<br /><br />Goliath, can you help?!  As you can see I am just trying to get this to work with a mesh...next step will be adding a basic running animation to the .def and re-exporting.
<br /><br />Thanks so much</div>]]></body></post><post id="p102056" date="Posted: Sat Jul 02, 2005 1:16 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">Im having a problem with the ATImapperUI...  I filled out everything in the ATImapperUI gui that told you me to but when you quoat.
<br /><br />"Under Output File, set your Output Path to doom3/aolbuddy/models/monsters/buddy. Name the file buddy_local.tga."  
<br /><br />Name what file?  I don't get that part, also I cant create normal map.  Maybe its becuase of not nameing "the file".
<br /><br />Help is apprecaited, my mod is relying on this reply!!!!!!!!
<br /><br />Edit: Im using maya 5 by the way.
<br /><br />Thanks in advance</div>]]></body></post><post id="p102131" date="Posted: Sat Jul 02, 2005 12:46 pm "><author>jizaboz</author><body><![CDATA[<div class="postbody">Go here... <a href="https://web.archive.org/web/20070509181516/http://www.doom3world.org/phpbb2/viewtopic.php?p=102130#102130" class="postlink">http://www.doom3world.org/phpbb2/viewtopic.php?p=102130#102130</a></div>]]></body></post><post id="p119307" date="Posted: Mon Oct 31, 2005 1:32 am "><author>Zitheral=WFR</author><body><![CDATA[<div class="postbody">Where did this PDF go? <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p119332" date="Posted: Mon Oct 31, 2005 5:44 am "><author>parsonsbear</author><body><![CDATA[<div class="postbody">I've mirrored it at:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20070509181516/http://a.parsons.edu/~evan/doom3/exportModelsD3.pdf">http://a.parsons.edu/~evan/doom3/exportModelsD3.pdf</a><!-- m --></div>]]></body></post><post id="p123729" date="Posted: Thu Dec 01, 2005 12:50 am "><author>jizaboz</author><body><![CDATA[<div class="postbody">Thanks for the mirror. That came in handy today ;)</div>]]></body></post><post id="p123816" date="Posted: Thu Dec 01, 2005 6:56 pm "><author>Jack Frost</author><body><![CDATA[<div class="postbody">hmmm, what if you have Maya 7.0 ???</div>]]></body></post><post id="p126470" date="Posted: Wed Dec 21, 2005 7:58 pm "><author>jlamb</author><body><![CDATA[<div class="postbody">Neither of these appear to be up anymore. Anyone else able to share the tutorial by chance?</div>]]></body></post><post id="p141767" date="Posted: Mon May 01, 2006 10:24 pm "><author>WeeZer</author><body><![CDATA[<div class="postbody">I've mirrored it also at <!-- m --><a class="postlink" href="https://web.archive.org/web/20070509181516/http://root.fragarea.org/temp/exportModelsD3.pdf">http://root.fragarea.org/temp/exportModelsD3.pdf</a><!-- m -->
<br /><br />Can anyone upload the result of the tutorial?
<br />I'm not sure if i make it right. I get a error when i try to export it.</div>]]></body></post><post id="p141819" date="Posted: Tue May 02, 2006 2:00 pm "><author>jizaboz</author><body><![CDATA[<div class="postbody">What is your error Weezer?</div>]]></body></post><post id="p141822" date="Posted: Tue May 02, 2006 2:27 pm "><author>WeeZer</author><body><![CDATA[<div class="postbody">i get this message:
<br /><img src="https://web.archive.org/web/20070509181516im_/http://root.fragarea.org/temp/export_error.jpg" alt="Image" /><br /><br />i'm using maya 7 with this import dll <a href="https://web.archive.org/web/20070509181516/http://www.facinghell.com/?cid=files" class="postlink">http://www.facinghell.com/?cid=files</a></div>]]></body></post></posts></thread></xml>
