<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="20966"><title>Angles</title><posts><post id="p193011" date="Posted: Sat Dec 22, 2007 7:09 pm "><author>wal</author><body><![CDATA[<div class="postbody">I've been trying for days to get this to work and I'm so close but I can't get the last bit right.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">      vector orientation = '0 90 0';<br />vector ang = $player1.getViewAngles();<br />      prop.setAngles( ang + orientation );</div><br />This (above) does what I want, but I just need to turn it 90 degrees.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">      vector orientation = '0 90 0';<br />vector ang = $player1.getViewAngles();<br />      prop.setAngles( ang + orientation );</div><br />But if I do this, then it screws up the turning angle so that if you look up or down, it barrel rolls instead of changing it’s pitch like it does in the top example. So how do I change its angle without changing the angle that it moves? This is giving a headache. I tried changing its angle in the def, but for some reason nothing changed. I suppose the script is overruling it and I would have to use getKey, but that would just be a more complicated way of doing the same thing. Help!</div>]]></body></post><post id="p193053" date="Posted: Sun Dec 23, 2007 1:52 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">You can get the player view angles<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vector ang_fw = $player1.getViewAngles();</div><br />get the right direction (so it's rotated 90 degree)<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vector dir_right= sys.angToRight( ang_fw  );</div><br />transfrom it back to angles<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">vector ang_right= sys.VecToAngles( dir_right );</div><br />and use the new vector<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">prop.setAngles(ang_right);</div><br /><br />about the same for left, up, down direction...</div>]]></body></post><post id="p193064" date="Posted: Sun Dec 23, 2007 4:56 pm "><author>wal</author><body><![CDATA[<div class="postbody">Excellent, thanx Ivan.<br /><br />Now I need a clever formula to change the origin distance depending and the view angle. Look up = move away/look down = move towards. I will probably need them to be different, so starting from a dead centre view, down doesn't change the distance as drastically as up. Figuring this out on my own is slightly out of my league, for now.<br /><br />Also, the world model objects are huge up close. I think the view models are smaller, strange as that sounds, the scale's not consistent. To get round this I've moved certain objects further away from the player to make them look smaller, but to complete the illusion I need them to constantly draw, even if they're "behind" a wall ect. Can this be done <img src="/web/20071227193800im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /></div>]]></body></post></posts></thread></xml>
