<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="17021"><title>Doom 3 in my Masters Thesis: IFCtoMAP</title><posts><post id="p155404" date="Posted: Wed Aug 30, 2006 4:55 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">Howdy, 
<br /><br />I am a new member of the community I started reading posts here last summer and since then have learned enough to incorporate Doom3 as a core component of my Thesis work at <a href="https://web.archive.org/web/20081121170207/http://www.tamu.edu/" class="postlink">Texas A&amp;M University</a>. I’m posting now because I am looking for people that would be interested in helping write/debug code. Now you’re wondering what I’m doing that I could get a Masters doing it with Doom3. Ok, if you can see the image below it outlines what my thesis work does. I am building a Visual Energy Simulation Program.
<br /><br /><img src="https://web.archive.org/web/20081121170207im_/http://family.elmranchsoap.com/images/overview.png" alt="Image" /><br /><br />More specifically, I am using Doom 3 as an information visualization tool. Buildings are first layed out in Building Information Modeling (BIM) Software such as <a href="https://web.archive.org/web/20081121170207/http://usa.autodesk.com/adsk/servletex?site/indID=123112&amp;id=3781831" class="postlink">Autodesk Revit</a>, <a href="https://web.archive.org/web/20081121170207/http://www.progman.fi/" class="postlink">MagiCAD</a>, Autodesk Architectural Desktop, Bentley, doesn’t matter. That information is then converted into Industry Foundation Class (IFC) information. The IFC is an international BIM information exchange format. You can check out the International Alliance for Interoperability’s (IAI) website here <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://www.iai-international.org/">http://www.iai-international.org/</a><!-- m -->. Then my software IFCtoMAP converts the geometry from the IFC files into the Doom 3 .map file format. Where you can then compile it and walk around in the buildings. Likewise my research group is developing a second iteration of a piece of software called Windows Air Model (WinAM), which performs a simplified airside steady state yearly building energy calculation. The output of which will eventually be linked to the .MAP file for viewing in Doom 3. I need to head to class but will post more info when I get the chance.
<br /><br />-Christopher</div>]]></body></post><post id="p155416" date="Posted: Wed Aug 30, 2006 7:16 pm "><author>Chapel</author><body><![CDATA[<div class="postbody">A large percentage of my fraternity is in the archetiecture program. If I understand your project correctly, I will be able to take there AutoCAD projects and load them up in Doom 3 and then move around them in full 3d.
<br /><br />That's quite an undertaking, but it will also prove to be quite amazing. Good luck.</div>]]></body></post><post id="p155418" date="Posted: Wed Aug 30, 2006 7:37 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">That is exactly what can be done. My first proposal presentations converted DWG files into .lwo files and ran D3. The software I'm writing not just loads up the model but converts the model into Doom 3 primitive objects – mostly brushDef3. Which means that the level is rendered real time with 30+fps. Plus you can do viz portals to increase speed where imported objects are not culled by viz portals. If you tried to convert that 3d .dwg model into a .3ds or .lwo or some other format, it would be tons of triangles and drop your frame rate significantly. Plus you can texture the models much better than if you had a single model for the entire building. Within the week I'll load some examples and upload the test files and software.</div>]]></body></post><post id="p155491" date="Posted: Thu Aug 31, 2006 4:42 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Hopefully this is helpful...
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://www.modwiki.net/wiki/MAP_%28file_format%29">http://www.modwiki.net/wiki/MAP_%28file_format%29</a><!-- m --></div>]]></body></post><post id="p155510" date="Posted: Thu Aug 31, 2006 6:59 am "><author>Tron</author><body><![CDATA[<div class="postbody">While not being able to help since I'm no coder, this sounds really interesting and cool. <img src="https://web.archive.org/web/20081121170207im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p155525" date="Posted: Thu Aug 31, 2006 9:05 am "><author>Kamikazee</author><body><![CDATA[<div class="postbody"><div class="quotetitle">rich_is_bored wrote:</div><div class="quotecontent">Hopefully this is helpful...<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://www.modwiki.net/wiki/MAP_%28file_format%29">http://www.modwiki.net/wiki/MAP_%28file_format%29</a><!-- m --></div>The "Brush Volume definition" section is not correct though. I have read some page from the authors of Quark where it was explained how the two 3d vectors after the first 4d one are in fact the two top rows of a 3x3 matrix.
<br /><br />EDIT: <a href="https://web.archive.org/web/20081121170207/http://www.doom3world.org/phpbb2/viewtopic.php?p=147684#147684" class="postlink">Here</a>'s a post with a link to the page and an extract of the important section. The MAP format page wasn't updated yet. So if you have the time and can explain it well, go ahead and fix it. <img src="https://web.archive.org/web/20081121170207im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /></div>]]></body></post><post id="p160481" date="Posted: Mon Oct 23, 2006 10:36 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">It has been a while, but I want to release the source code and sample files to see if anyone wants to help with making the conversion work. Sample Revit and IFC (Industry Foundation Classes) files are located here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://family.elmranchsoap.com/paper/061019_CMc_SampleIFCFiles.zip">http://family.elmranchsoap.com/paper/06 ... CFiles.zip</a><!-- m -->
<br />and the source code and binary for the latest version of the IFCtoMAP converter are located here 
<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://family.elmranchsoap.com/paper/061023_IFCtoMAP_Clean.zip">http://family.elmranchsoap.com/paper/06 ... _Clean.zip</a><!-- m -->
<br /><br />please email me if you have and questions, comments, or suggestions. I hope it is useful for someone <img src="https://web.archive.org/web/20081121170207im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p161756" date="Posted: Wed Nov 08, 2006 10:01 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">I have found some problems with the posted source code above and have a new file ready which can be found here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://family.elmranchsoap.com/Thesis/061108_CMc_IFCtoMAP_Clean.zip">http://family.elmranchsoap.com/Thesis/0 ... _Clean.zip</a><!-- m --> and in order to get the textures working and doors and a few other features to come, here is the mod directory: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://family.elmranchsoap.com/Thesis/061108_CMc_ThesisMod.zip">http://family.elmranchsoap.com/Thesis/0 ... sisMod.zip</a><!-- m --> . Please unzip this into a folder called ThesisMod in the D3 root. Have fun.</div>]]></body></post><post id="p170474" date="Posted: Tue Feb 13, 2007 7:16 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">I have made more additions to the conversion utility. Changes:
<br /><br />Windows exists and are textured with glass.
<br />Doors now open and close.
<br />Lights in the IFC files now show up.
<br />Furniture when named in the IFC file as /model/(furnature model location &amp; Name) will convert into the game.
<br />IFCProxyObjects with the name /model/(model location &amp; Name) also show up.
<br /><br /><br />New Files can be found here: 
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://family.elmranchsoap.com/Thesis/070213_CMc_IFCtoMAP_Clean.zip">http://family.elmranchsoap.com/Thesis/0 ... _Clean.zip</a><!-- m --> 
<br /><br />and in order to get the textures working and doors and a few other features 
<br />to come, here is the mod directory: 
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121170207/http://family.elmranchsoap.com/Thesis/070213_CMc_ThesisMod.zip">http://family.elmranchsoap.com/Thesis/0 ... sisMod.zip</a><!-- m --> . 
<br /><br />Please unzip this into a folder called ThesisMod in the D3|Q4|Prey|QuakeWars root. Have fun. Please email me and let me know how this works for you and if you are an IFC developer please get a copy of a D3 game and try this out. Thanks to those who have already contacted me.</div>]]></body></post><post id="p171395" date="Posted: Sat Feb 24, 2007 9:14 am "><author>Hawkeyefile</author><body><![CDATA[<div class="postbody">I remember someone doing the same thing with the KenBuild engine.
<br />Heck even I do this sort of thing. Makes everyone look in astruck. Most people are expecting for sideshows and badly written powerpoints. Using a game engine to showcase your project will usually impress everyone in the room. I work for a nameless construction company and do this show off floor plans in 3d wich is easier to comprehend than looking at a fuzzy 2d image with text thats hardly comprehendible</div>]]></body></post><post id="p176749" date="Posted: Wed Apr 25, 2007 2:26 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">The difference between this work and the work you speak of is that my software actually does the conversion from CAD/BIM into .MAP. When people want to show off buildings in a game engine they have to export the model into a format that can be read by a 3D modeling program, clean it up (reduce polys and texture the object), then export it into something a game can understand. Which is a time consuming process. What has been done in this work is cut out the 3D modeling program and jump straight to the privative brushDef3 format of Doom from the CAD/BIM software. CAD/BIM could actually become a level editor (not 100% supported with the current IFCtoMAP software). Though entities can be placed including lights, and 'furniture'. When you make a change to your building, you skip the 3D modeling program and in a matter of minutes have a new 3D environment with the changes from CAD/BIM. Where previously if you made a change you had to recreate the 3D model and run it through the modeling program and clean it up again.</div>]]></body></post><post id="p177828" date="Posted: Thu May 10, 2007 7:40 am "><author>sparhawk</author><body><![CDATA[<div class="postbody">This sounds like a very intersting project. <img src="https://web.archive.org/web/20081121170207im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /> I'm just not sure if I understand it correct. So you want to create the whole geometry of a map inside a 3D app, like AutoCAD, then export this to Doom 3 mapfile format directly? What about visportals and such. Do you place hints into the 3D file that the converter recognizes and can directly create the neccessary metabrushes, or do you have to manually adjust the map after you imported it?
<br /><br />Also interesting would be if this would be possible for other 3D apps as well then.</div>]]></body></post><post id="p177843" date="Posted: Thu May 10, 2007 3:06 pm "><author>McDonaldCE</author><body><![CDATA[<div class="postbody">The original intention was to use the D3 engine as a visualization tool for CAD/BIM designers and building energy simulators. Yes, you have to clean up the map after importing it from the CAD standard. Though Visportals could be encoded as IfcBuildingProxyElement objects in IFC.</div>]]></body></post></posts></thread></xml>
