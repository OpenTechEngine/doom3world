<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="23084"><title>[WolfSP] Pre-SDK mod guide</title><posts><post id="p218297" date="Posted: Fri Sep 04, 2009 8:13 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">TinMan: Haha... I thought of doing the same thing but decided against because I new it was going to be a pain in the ass to go through all those files and find the needed decls. So kudos to you and your incredible ambition of getting this game moddable(sp?). If this works, I'll upload the tutorial removal maybe this weekend.<br /><br />Edit: Also of note, you can change your profile directory to wherever you want without any conflicts or screwing up progress. Just set "fs_devpath" and "fs_savepath" to the dir you want (this must be in a cfg that is in the games base dir ".../SP/base").<br />I hate when devs put the profile deep within the your Windows user dir, making it a pain to get to just to edit a cfg or something.</div>]]></body></post><post id="p218301" date="Posted: Fri Sep 04, 2009 11:23 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Woops I didn't package my mod right and left out post process after all that - guide was fine though files in modding/def/postprocess.<br />Updated.<br /><br />Belloxs tool helped in dumping all of the mpks, I did a search for the .decls and copied them to a folder.<br />Then threw together a (j)script to call the decls unpacker (wolf2dec) on each file.<br />Another search, this time for the settings.pps folders, and with help from 'open command prompt here' i could easily do a copy *.txt mapname.pps which merged the txt files. That was 24 steps, I certainly would have done a script for that also if i didn't have open command prompt here.<br />Refresh search, copy the pps, and do a final find in files 'postprocess' with ulraedit to make sure that there weren't any duplicate blocks (they aren't, the settings are named unique for each map).<br /><br />The downtime was mostly trying to remember/find how to do stuff with jscript/wsh (but of course that has a pay off in general).<br />And I lucked out that the values in the .pps weren't indexed floats like most of the declarations in .decls as I still haven't looked closely at that.</div>]]></body></post><post id="p218308" date="Posted: Sat Sep 05, 2009 10:09 am "><author>Megazoid</author><body><![CDATA[<div class="postbody">Good work on your modding Tinman. Your guides have been very helpful indeed.  <img src="https://web.archive.org/web/20101225013123im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br />I have a suggestion, and I realise it's a lot of work, but if you are essentially creating a "settings" mod, you could produce a program that allows people to set their <span style="font-weight: bold">own</span> values. I was thinking something with a simple GUI interface where people could select values (for example: the corpse on screen count). The program could also incorporate an installer, which would kick in after selecting your game variables. People like simplicity, and they like to set their own game settings. Since Raven have locked everything down, this program could be a real winner. <br /><br />I'm a texture kind of guy and was hoping to do a quick skin pack, however I've kinda of given up until somebody comes up with a SPK/MPK packer/repacker. Wolf2 calls detail textures from StreamPacks, and unless somebody comes up with a funky way of getting around this or creating a packer, I can't proceed. I did try the compileStreamPack command, which is implimented, but only seems to want to convert .asl files into .spk's. What the heck is an .asl ?<br /><br />Final thought: I can't see why Raven bothered to lock down the assets. Well... I can understand them wanting to protect content, but surely they must have realised the SPK/MPK packing method would be cracked in a few days (which it was). All it has done is impede modding, and protect nothing.</div>]]></body></post><post id="p218309" date="Posted: Sat Sep 05, 2009 10:43 am "><author>simulation</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Megazoid wrote:</div><div class="quotecontent">Final thought: I can't see why Raven bothered to lock down the assets. Well... I can understand them wanting to protect content, but surely they must have realised the SDK/MDK packing method would be cracked in a few days (which it was). All it has done is impede modding, and protect nothing.</div><br />I don't think the way the assests have been packaged is primarily to protect anything; it is probably more to do with efficiency of the assets streaming system they have implemented.</div>]]></body></post><post id="p218333" date="Posted: Sat Sep 05, 2009 10:35 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">asl files are likely declarations of what files to pack. Unfortunately there's no examples to be found.</div>]]></body></post><post id="p218731" date="Posted: Tue Sep 15, 2009 6:06 pm "><author>GUInterface</author><body><![CDATA[<div class="postbody">I spent an hour browsing through random wine sites on Google until I finally found winery and saw it was for Linux only. After trying for a while, though, I found out that you don't even need that program to repair the assets.pk4 file.<br />What I did was copy it then change the copies' file extension from pk4 to rar (zip works too), then I opened it up in WinRAR, went to Tools -&gt; Repair Archive, selected the directory I wanted the repaired file to be created in and clicked on accept. The file that was created had all the assets.pk4 files working and ready to be edited.</div>]]></body></post><post id="p218735" date="Posted: Tue Sep 15, 2009 8:27 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Huh, how did that typo get in, it is supposed to say WinRAR, must have been over zealous spellcheck.<br />Thanks.</div>]]></body></post><post id="p218741" date="Posted: Tue Sep 15, 2009 10:02 pm "><author>GUInterface</author><body><![CDATA[<div class="postbody">I must have really fucked up somewhere, because whenever I load a map there are absolutely no enemies (except for some that just stand still or run in place) and I get the error you can see in the attached file.<br />What did I do wrong? I quit my mod then when I loaded the shortcut again this started happening.<br /><br />Edit: Nevermind, apparently something in the actor.def file went wrong.</div>]]></body></post><post id="p218297" date="Posted: Fri Sep 04, 2009 8:13 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">TinMan: Haha... I thought of doing the same thing but decided against because I new it was going to be a pain in the ass to go through all those files and find the needed decls. So kudos to you and your incredible ambition of getting this game moddable(sp?). If this works, I'll upload the tutorial removal maybe this weekend.<br /><br />Edit: Also of note, you can change your profile directory to wherever you want without any conflicts or screwing up progress. Just set "fs_devpath" and "fs_savepath" to the dir you want (this must be in a cfg that is in the games base dir ".../SP/base").<br />I hate when devs put the profile deep within the your Windows user dir, making it a pain to get to just to edit a cfg or something.</div>]]></body></post><post id="p218301" date="Posted: Fri Sep 04, 2009 11:23 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Woops I didn't package my mod right and left out post process after all that - guide was fine though files in modding/def/postprocess.<br />Updated.<br /><br />Belloxs tool helped in dumping all of the mpks, I did a search for the .decls and copied them to a folder.<br />Then threw together a (j)script to call the decls unpacker (wolf2dec) on each file.<br />Another search, this time for the settings.pps folders, and with help from 'open command prompt here' i could easily do a copy *.txt mapname.pps which merged the txt files. That was 24 steps, I certainly would have done a script for that also if i didn't have open command prompt here.<br />Refresh search, copy the pps, and do a final find in files 'postprocess' with ulraedit to make sure that there weren't any duplicate blocks (they aren't, the settings are named unique for each map).<br /><br />The downtime was mostly trying to remember/find how to do stuff with jscript/wsh (but of course that has a pay off in general).<br />And I lucked out that the values in the .pps weren't indexed floats like most of the declarations in .decls as I still haven't looked closely at that.</div>]]></body></post><post id="p218308" date="Posted: Sat Sep 05, 2009 10:09 am "><author>Megazoid</author><body><![CDATA[<div class="postbody">Good work on your modding Tinman. Your guides have been very helpful indeed.  <img src="https://web.archive.org/web/20101225011233im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br />I have a suggestion, and I realise it's a lot of work, but if you are essentially creating a "settings" mod, you could produce a program that allows people to set their <span style="font-weight: bold">own</span> values. I was thinking something with a simple GUI interface where people could select values (for example: the corpse on screen count). The program could also incorporate an installer, which would kick in after selecting your game variables. People like simplicity, and they like to set their own game settings. Since Raven have locked everything down, this program could be a real winner. <br /><br />I'm a texture kind of guy and was hoping to do a quick skin pack, however I've kinda of given up until somebody comes up with a SPK/MPK packer/repacker. Wolf2 calls detail textures from StreamPacks, and unless somebody comes up with a funky way of getting around this or creating a packer, I can't proceed. I did try the compileStreamPack command, which is implimented, but only seems to want to convert .asl files into .spk's. What the heck is an .asl ?<br /><br />Final thought: I can't see why Raven bothered to lock down the assets. Well... I can understand them wanting to protect content, but surely they must have realised the SPK/MPK packing method would be cracked in a few days (which it was). All it has done is impede modding, and protect nothing.</div>]]></body></post><post id="p218309" date="Posted: Sat Sep 05, 2009 10:43 am "><author>simulation</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Megazoid wrote:</div><div class="quotecontent">Final thought: I can't see why Raven bothered to lock down the assets. Well... I can understand them wanting to protect content, but surely they must have realised the SDK/MDK packing method would be cracked in a few days (which it was). All it has done is impede modding, and protect nothing.</div><br />I don't think the way the assests have been packaged is primarily to protect anything; it is probably more to do with efficiency of the assets streaming system they have implemented.</div>]]></body></post><post id="p218333" date="Posted: Sat Sep 05, 2009 10:35 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">asl files are likely declarations of what files to pack. Unfortunately there's no examples to be found.</div>]]></body></post><post id="p218731" date="Posted: Tue Sep 15, 2009 6:06 pm "><author>GUInterface</author><body><![CDATA[<div class="postbody">I spent an hour browsing through random wine sites on Google until I finally found winery and saw it was for Linux only. After trying for a while, though, I found out that you don't even need that program to repair the assets.pk4 file.<br />What I did was copy it then change the copies' file extension from pk4 to rar (zip works too), then I opened it up in WinRAR, went to Tools -&gt; Repair Archive, selected the directory I wanted the repaired file to be created in and clicked on accept. The file that was created had all the assets.pk4 files working and ready to be edited.</div>]]></body></post><post id="p218735" date="Posted: Tue Sep 15, 2009 8:27 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Huh, how did that typo get in, it is supposed to say WinRAR, must have been over zealous spellcheck.<br />Thanks.</div>]]></body></post><post id="p218741" date="Posted: Tue Sep 15, 2009 10:02 pm "><author>GUInterface</author><body><![CDATA[<div class="postbody">I must have really fucked up somewhere, because whenever I load a map there are absolutely no enemies (except for some that just stand still or run in place) and I get the error you can see in the attached file.<br />What did I do wrong? I quit my mod then when I loaded the shortcut again this started happening.<br /><br />Edit: Nevermind, apparently something in the actor.def file went wrong.</div>]]></body></post></posts></thread></xml>
