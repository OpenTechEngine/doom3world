<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="4105"><title>Making an Alpha Channel (And making it work!) Tutorial</title><posts><post id="p36871" date="Posted: Tue Aug 17, 2004 3:37 am "><author>HateTank</author><body><![CDATA[<div class="postbody">Making an Alpha Channel (And making it work!)
<br /><br />  You're gonna need a few things to do this, and since I don't know all the resources available to you, I'm gonna write this using the resources I have:  Adobe Photoshop CS, Notepad and Doom3.
<br /><br />To give you a little information that will prove useful when making Alpha Channels in your textures, you need to know what it is an Alpha Channel does.  Basically, it's a "Mask".  It will hide certain parts of your image.  You've seen this effect on the chain link fence, some vents, fan blades, etc.. These textures are made using the alpha channel to hide the spaces in between the links, the vents and the fan blades.  Armed with this knowledge...
<br /><br />Let's get started:
<br /><br />1.  Create a new image in Photoshop (128X128, RGB Color, Background Transparent).
<br /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/new.gif" alt="Image" /><br /><br />2.  Flood fill the image with Black.
<br /><br />3.  Click on the Horizontal Text Tool (or press "T")
<br /><br />4.  Set the font and size to anything you want, as long as it's not too big.  Set the color of the text to white.
<br /><br />5.  Rasterize the text layer and merge down (CTRL+E)
<br /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/hi1.gif" alt="Image" /><br /><br />6.  CTRL+Left Click (Load Selection) on the image "Layer 1" in the "Layers" tab.  CTRL+C (copy) the image.
<br /><br />7.  Click on the "Channels" Tab (next to "Layers").  Click the button "Create New Channel".
<br /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/alphachan.gif" alt="Image" /><br /><br />8.  A new channel is created called "Alpha 1".  Paste the image you copied into the Alpha 1 channel.
<br /><br />9.  Save the file as "hi_d.tga" in "Doom3/base/textures/custom/decals/".  PAY ATTENTION!  You MUST have the "Alpha Channel" box checked before you click "Save".  Name the file and save it as a 32 bit .TGA file!  PAY ATTENTION!  Photoshop will default the image to a 24 bit, which won't work.  MUST be 32 bit.
<br /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/saveas.gif" alt="Image" /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/32bit.gif" alt="Image" /><br /><br />10.  Save the file again (in the same directory) as "hi_ed.tga".  It doesn't have to be a 32 bit file this time, the default 24 bit is fine.  This is so you can see the image in the Doom editor.
<br /><br />11.  You CAN make height and spec maps if you want too, but that's covered somewhere else and I'm not adding 3000 more steps to do it for you <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Close Photoshop.
<br /><br />12.  Open Notepad.
<br /><br />13.  Copy/Paste the following blurb into Notepad:
<br /><br />//----HI Decal Test
<br />textures/custom/decals/hi
<br /><br />{
<br /> 	noShadows
<br />	nonsolid
<br />	noimpact
<br />	{ 
<br />blend diffusemap 
<br />map textures/custom/decals/hi_d.tga 
<br />alphatest .1
<br />	} 
<br />	qer_editorimage textures/custom/decals/hi_ed.tga
<br /><br />}
<br />//----END HI TEST
<br /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/notepad.gif" alt="Image" /><br /><br />(You can find out what each line item here means if you're really into it, but I'm not going to post it here.  There's also a LOT of other line items you can add in here also, just like in any other material file, that adds movement, blending, etc.  For this tutorial, I'm making it simple.)
<br /><br />14.  Save the file as hi.mtr in the Doom3/base/materials folder.  That's it!
<br /><br /><img src="https://web.archive.org/web/20100522163805im_/http://hatetank.tripod.com/files/final.gif" alt="Image" /><br /><br />You can now load up the editor and play around with the decal you made!  To apply the decal, the only way I've played around with is by making a regular brush painted with caulk, then applying the texture to the visible face of the brush.  This works well, and I don't know any other way of doing it <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" />  Please post revisions, questions or comments below!</div>]]></body></post><post id="p36992" date="Posted: Tue Aug 17, 2004 10:45 am "><author>ohnhai</author><body><![CDATA[<div class="postbody">Cool tutorial...
<br /><br />Just to ad an artistic note to this…
<br /><br />As you can see in that last screen shot the “HI!”  has a small black outline round the text.
<br /><br />This is caused by the fact that you have an exact copy of the mask in the RGB.  When in game filtering smoothes the RGB (and alpha) out, this causes the edges to become blurry. Not a problem with the alpha but on the RGB this allows some of the black to be seen.
<br /><br />For single colour decals (as in the example) the solution is real easy.  Once you have made your alpha go back and fill the RGB channels ( normal painting mode in PS)  fully with that chosen colour. 
<br /><br />For multi colour decals or when you have more than one thing on the texture, paint the details as you normally would but make sure the colour details extend out beyond what you are to reveal with the alpha by a couple of pixels.   This way when filtering blurs the image no black will encroach into the masked area….
<br /><br />Another trick when creating alphas is to use 100% magenta (caulk pink) as a back ground.  That way it becomes painfully obvious if you are suffering from background bleed….
<br /><br />Anyway that’s it for now.</div>]]></body></post><post id="p37113" date="Posted: Tue Aug 17, 2004 4:16 pm "><author>RedWolf</author><body><![CDATA[<div class="postbody">HateTank wrote:
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">(You can find out what each line item here means if you're really into it, but I'm not going to post it here. There's also a LOT of other line items you can add in here also, just like in any other material file, that adds movement, blending, etc. For this tutorial, I'm making it simple.) </div>
<br /><br />Why not?  <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" />   (I know probably already stated somewhere, I'll just have ta, hunt down the info.)  <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p37603" date="Posted: Wed Aug 18, 2004 8:31 am "><author>idiom</author><body><![CDATA[<div class="postbody">How do you make textures with variable opacity?</div>]]></body></post><post id="p37653" date="Posted: Wed Aug 18, 2004 10:48 am "><author>der_ton</author><body><![CDATA[<div class="postbody"><div class="quotetitle">idiom wrote:</div><div class="quotecontent">How do you make textures with variable opacity?</div>
<br />That effect is not related to the texture (except for that the opacity is controlled by the alpha channel), but it's related to the material definition. You have to use something like "blend add" or "blend filter", but I don't know exactly. I'm sure you'll find out if you take note where you see something like that in the game (either in the map or on a monster) and take a look at the material definition.
<br />Maybe you'll find some specific blendmode, like "blend gl_src_alpha, gl_one" (just one example of many possibilities). I'm not going to explain that here, there must be something about this stuff on this board or on the web. If you search and find something, please post a link. <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p37669" date="Posted: Wed Aug 18, 2004 11:41 am "><author>idiom</author><body><![CDATA[<div class="postbody">Hmm. Been experimenting a bit, haven't got it to work but I've looked at the .tga files used for the web decals in D3 and they don't seem to have alpha channels at all... They just fade to black so I guess that's what gives variable opacity textures the opacity information.</div>]]></body></post><post id="p37678" date="Posted: Wed Aug 18, 2004 12:12 pm "><author>der_ton</author><body><![CDATA[<div class="postbody">Oh right, I forgot about that case. The color of these textures is simply added to the background when they are rendered. I think that's what "blend add" does. You don't need an alpha channel in that case. The black areas are totally transparent, and the rest of the colors brighten up the pixels they cover. You are alot more flexible when you have opacity that's controlled by the alpha, but this method is quite easy to handle.</div>]]></body></post><post id="p37699" date="Posted: Wed Aug 18, 2004 1:18 pm "><author>idiom</author><body><![CDATA[<div class="postbody">w007, it works <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> Without the alphatest thingo too.</div>]]></body></post><post id="p133695" date="Posted: Sun Feb 19, 2006 4:08 am "><author>S14Y3R</author><body><![CDATA[<div class="postbody"><div class="quotetitle">idiom wrote:</div><div class="quotecontent">How do you make textures with variable opacity?</div>
<br /><br />Hi, I don't know all the blends, but transparacy is controlled in the Alpha Channel. So if Black = see through, and White = Opaque, then 50% Grey is translucent(murky).  Therefore a Black to White Gradient will "Fade off".  Great for blood pools  <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p133696" date="Posted: Sun Feb 19, 2006 4:14 am "><author>Mordenkainen</author><body><![CDATA[<div class="postbody">Way to go Necro!  <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p134459" date="Posted: Fri Feb 24, 2006 6:04 pm "><author>Phluxus</author><body><![CDATA[<div class="postbody">ok i'm new at this stuff, so don't laugh.
<br /><br />first off all, i can't see the pictures of this tutorial, but i tried making transparent textures anyway.
<br />i'm trying to make a portal with a alpha channel, so i don't have to do all the stuff with patches to make it work.
<br />however i end up with a ieny mieny tiny mouse hole texture instead of a portal (512x512)
<br />it seems that photoshop doesn't save the alpha channel in the diffuse tga when saving. if i save the tga, i can't mark the alpha channel thingie. perhaps this is the problem.
<br />i use this script for the mtr file:
<br />textures/medevilDaan/castlewallplasterdoor
<br /><br />{
<br />noShadows
<br />nonsolid
<br />noimpact
<br />{
<br />blend diffusemap
<br />map textures/medevilDaan/castlewallplasterdoor_d.tga
<br />alphatest .1
<br />}
<br />qer_editorimage 	textures/medevilDaan/castlewallplasterdoor_ed.tga
<br />diffusemap		textures/medevilDaan/castlewallplasterdoor_d.tga
<br />bumpmap			textures/medevilDaan/castlewallplasterdoor_local.tga
<br />} 
<br />please help!</div>]]></body></post><post id="p134466" date="Posted: Fri Feb 24, 2006 6:47 pm "><author>Bittoman</author><body><![CDATA[<div class="postbody">The format for this should be:
<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/medevilDaan/castlewallplasterdoor<br />{<br />qer_editorimage textures/medevilDaan/castlewallplasterdoor_d.tga<br />noShadows<br />nonsolid<br />noimpact<br />     {<br />     blend diffusemap<br />     map textures/medevilDaan/castlewallplasterdoor_d.tga<br />     alphatest .5<br />     }<br />     {<br />     blend bumpmap<br />     map textures/medevilDaan/castlewallplasterdoor_local.tga<br />     }<br />}<br /></div>
<br /><br />You chose a very very low value for seperating black and white so this may be reducing what's being drawn and what's being masked.
<br /><br />Note that alphatest determines where the line is drawn between black and white in a hard edged alpha masking (what you have here), the value of .5 will tell it anything above 50% grey will be treated as full white (drawn) and anything below 50% grey will be treated as full black (masked).  Basically it tells it where the center point of the on and off switch is in the mask.
<br /><br />Also note that you tried to map the diffuse texture twice which isn't really necessary and that the normalmap (bumpmap, _local) is mapped in a seperate declaration.  This doesn't need to be treated with alpha so the alphatest command isn't necessary.
<br /><br />Last, and this is just my personal preference, you don't really need a separate editor image, you can just use the diffuse texture as the editor image (unless you want to indicate something different or specific about this shader in the editor that might differentiate it from another using the same images).  But again this is just my personal preference as it shaves off some bulk from the final pak file.</div>]]></body></post><post id="p134822" date="Posted: Mon Feb 27, 2006 10:37 am "><author>mikebart</author><body><![CDATA[<div class="postbody">In photoshop 7, when I save my *.tga file the alpha channels tick box is grey'ed off so I lose my alpha channel.
<br />  Im definitly saving it as a 32-bit image</div>]]></body></post><post id="p134826" date="Posted: Mon Feb 27, 2006 11:19 am "><author>&gt;~runaway~&lt;</author><body><![CDATA[<div class="postbody">The shots are not working but its not that bad.Tutorial is awesome.I was sitting hours by my alpha's.Now i can get it to work propertly.Thanx!</div>]]></body></post><post id="p134836" date="Posted: Mon Feb 27, 2006 1:41 pm "><author>Phluxus</author><body><![CDATA[<div class="postbody">@Bittoman, ok thanx for help on script.
<br />But i also have this problem, or is this not a problem at all?:
<br /><div class="quotetitle">mikebart wrote:</div><div class="quotecontent">In photoshop 7, when I save my *.tga file the alpha channels tick box is grey'ed off so I lose my alpha channel.<br />  Im definitly saving it as a 32-bit image</div></div>]]></body></post><post id="p134860" date="Posted: Mon Feb 27, 2006 5:51 pm "><author>desmasic</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Phluxus wrote:</div><div class="quotecontent">@Bittoman, ok thanx for help on script.<br />But i also have this problem, or is this not a problem at all?:<br /><div class="quotetitle">mikebart wrote:</div><div class="quotecontent">In photoshop 7, when I save my *.tga file the alpha channels tick box is grey'ed off so I lose my alpha channel.<br />  Im definitly saving it as a 32-bit image</div></div>
<br /><br />Flatten layers. Since I am using CS, with greyed off he means not selected? Then it's not a problem (select RGB layer or alpha), just flatten image and save as 32-bit tga.</div>]]></body></post><post id="p135049" date="Posted: Wed Mar 01, 2006 6:15 am "><author>mikebart</author><body><![CDATA[<div class="postbody">just did a google search about it, you need to download this plugin, I dont think its the same as the CS version, it makes thinks look a bit weird actually, but it seems to work ok
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20100522163805/http://www.adobegolive.com/support/downloads/thankyou.jsp?ftpID=1544&amp;fileID=1478">http://www.adobegolive.com/support/down ... ileID=1478</a><!-- m --></div>]]></body></post><post id="p150740" date="Posted: Sun Jul 23, 2006 6:35 am "><author>zigzulquit</author><body><![CDATA[<div class="postbody">I'm using photoshop 4.0 I dont see a &gt;create new channel button&lt; next to the &gt;layers tab&lt; anywhere to make an  Alpha 1 channel, what do I do then?</div>]]></body></post><post id="p214573" date="Posted: Mon May 18, 2009 2:04 am "><author>aphexjh</author><body><![CDATA[<div class="postbody"><div class="quotetitle">der_ton wrote:</div><div class="quotecontent"><div class="quotetitle">idiom wrote:</div><div class="quotecontent">Maybe you'll find some specific blendmode, like "blend gl_src_alpha, gl_one" (just one example of many possibilities). I'm not going to explain that here, there must be something about this stuff on this board or on the web. If you search and find something, please post a link. <img src="https://web.archive.org/web/20100522163805im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div></div><br /><br /><br />this makes me annoyed.</div>]]></body></post><post id="p214581" date="Posted: Mon May 18, 2009 4:23 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">What do you wanna know?<br /><br /><a href="https://web.archive.org/web/20100522163805/http://www.modwiki.net/wiki/Blend_(Material_stage_keyword)" class="postlink">blend (material keyword)</a><br /><a href="https://web.archive.org/web/20100522163805/http://www.modwiki.net/wiki/OpenGL_Blendmode_(Materials)" class="postlink">OpenGL blendmodes</a></div>]]></body></post></posts></thread></xml>
