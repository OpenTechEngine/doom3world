<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="23134"><title>(SOLVED) [Q4SDK] clientNum</title><posts><post id="p218624" date="Posted: Sun Sep 13, 2009 8:50 am "><author>adeonc</author><body><![CDATA[<div class="postbody">Hello everyone.<br />Today I spent like the whole day trying to figure out a way to get my code returning a player's clientNum.<br /><br />For testing, I made the following:<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><ul><span style="color: #400040">in Game_local.cpp, section below<br />===========<br />idGameLocal::SelectSpawnSpot<br />===========<br /><br />the code:</span><br /><ul>	if( gameLocal.gameType == GAME_DM || gameLocal.gameType == GAME_TDM || gameLocal.gameType == GAME_TOURNEY ) {<br />		spawnArray = &amp;spawnSpots;<br /><br />		gameLocal.Printf( "Your client number: %d \n", <span style="font-size: 120%; line-height: normal"><span style="color: #FF0000">PROBLEM GOES HERE</span></span> );<br />	}</ul></ul></div><br /><br />In theory, if I put the right function to be used with the printf, the hoster will see in console the message: "Your client number: 0" everytime that he spawns, and the message: "Your client number: 1" everytime the player 2 spawns and so forth. Right?<br /><br />How can I have the player clientNum being returned in this case?<br /><br />Thank you.</div>]]></body></post><post id="p218627" date="Posted: Sun Sep 13, 2009 9:11 am "><author>Sikkpin</author><body><![CDATA[<div class="postbody">You should be able to cycle through the numbers with "gameLocal.GetNextClientNum( int current )" with your number being stored in "gameLocal.localClientNum". I don't know if these will help.</div>]]></body></post><post id="p218632" date="Posted: Sun Sep 13, 2009 10:32 am "><author>TinMan</author><body><![CDATA[<div class="postbody">Since the player is being passed in to SelectSpawnPoint<br />player-&gt;entityNumber</div>]]></body></post><post id="p218649" date="Posted: Sun Sep 13, 2009 5:23 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Since the player is being passed in to SelectSpawnPoint<br />player-&gt;entityNumber</div>Awesome! The answer was pretty simple and solved my problem. I was going nuts.<br />Worked perfectly. Thank you sir. To you both for your time <img src="https://web.archive.org/web/20101225121534im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />By the way, how did you get knowledge on the SDK? By reading the whole code or is there any good reference related to it on the internet? I've never seen a complete/good tutorial of the SDK <img src="https://web.archive.org/web/20101225121534im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>]]></body></post><post id="p218676" date="Posted: Mon Sep 14, 2009 6:21 am "><author>TinMan</author><body><![CDATA[<div class="postbody">There's some information here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20101225121534/http://www.modwiki.net/wiki/Coding#Coding_tutorials">http://www.modwiki.net/wiki/Coding#Coding_tutorials</a><!-- m --><br />Otherwise, as the saying goes, good code is it's own documentation.<br />My addition would be, with Visual Studios 'Go to Declaration/Definition' <img src="https://web.archive.org/web/20101225121534im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />So, a combination of rummaging through the code and stepping through execution with the debugger.<br />Naturally the larger the code base the longer it takes to figure things out.</div>]]></body></post><post id="p218688" date="Posted: Mon Sep 14, 2009 3:05 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">There's some information here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20101225121534/http://www.modwiki.net/wiki/Coding#Coding_tutorials">http://www.modwiki.net/wiki/Coding#Coding_tutorials</a><!-- m --><br />Otherwise, as the saying goes, good code is it's own documentation.<br />My addition would be, with Visual Studios 'Go to Declaration/Definition' <img src="https://web.archive.org/web/20101225121534im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />So, a combination of rummaging through the code and stepping through execution with the debugger.<br />Naturally the larger the code base the longer it takes to figure things out.</div>Uhmm... I see.<br />I've been having headaches trying to figure out this SDK. Specially because I'm kinda newbie at C++. Pointers still get me badly.<br /><br />Yesterday I got pretty happy when I finished some piece of code that makes a player spawn in a specific info_player_start according to its player-&gt;entityNumber by adding a "playernum" parameter in the spawnspot followed by an integer number. So the hoster spawns at player_start with playernum 1, the player 2 spawns at player_start with playernum 2 and so on. If there's no spawnpoints with "playernum" set letf, the game proceeds the default method of sorting.<br />Anyways, seems simple, but, after all, I spent two days trying to develop it just because I couldn't read many parts of the code at all <img src="https://web.archive.org/web/20101225121534im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />All in all, really appreciate programming.<br /><br />Thanks for reply.</div>]]></body></post><post id="p219339" date="Posted: Fri Oct 09, 2009 12:20 am "><author>RedFox</author><body><![CDATA[<div class="postbody">I am working on a Proof-of-Concept of something and will need to to do some spawn point selecting too in the near future. I haven't had a dig at the spawning code yet, but I saw your post and thought I'd ask: could you outline the changes in the code that you made to create the spawn point selection? This would help me a lot. Anyway, thanks in advance and happy coding!</div>]]></body></post><post id="p219357" date="Posted: Fri Oct 09, 2009 9:08 pm "><author>chuckdood</author><body><![CDATA[<div class="postbody">I found the best way to learn about pointers was to add some watches in VC++ while debugging, and watch the address of the variable you're watching.   You can see it change, or stay the same for a bunch of calls to a variable.    in Doom3, they use idStr all over the place in a bunch of functions, but it is referring to only one idStr variable, so by watching all of the used versions, and the original variable, I started to notice that they were the same thing, because their address was the same.    something like 0x024a6bf1 for each variable I watched, as an example.     Only then did I start to understand pointers.</div>]]></body></post><post id="p219386" date="Posted: Sat Oct 10, 2009 1:37 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">RedFox wrote:</div><div class="quotecontent">I am working on a Proof-of-Concept of something and will need to to do some spawn point selecting too in the near future. I haven't had a dig at the spawning code yet, but I saw your post and thought I'd ask: could you outline the changes in the code that you made to create the spawn point selection? This would help me a lot. Anyway, thanks in advance and happy coding!</div>Sure, pal. I'll be posting that later for you.</div>]]></body></post><post id="p218624" date="Posted: Sun Sep 13, 2009 8:50 am "><author>adeonc</author><body><![CDATA[<div class="postbody">Hello everyone.<br />Today I spent like the whole day trying to figure out a way to get my code returning a player's clientNum.<br /><br />For testing, I made the following:<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><ul><span style="color: #400040">in Game_local.cpp, section below<br />===========<br />idGameLocal::SelectSpawnSpot<br />===========<br /><br />the code:</span><br /><ul>	if( gameLocal.gameType == GAME_DM || gameLocal.gameType == GAME_TDM || gameLocal.gameType == GAME_TOURNEY ) {<br />		spawnArray = &amp;spawnSpots;<br /><br />		gameLocal.Printf( "Your client number: %d \n", <span style="font-size: 120%; line-height: normal"><span style="color: #FF0000">PROBLEM GOES HERE</span></span> );<br />	}</ul></ul></div><br /><br />In theory, if I put the right function to be used with the printf, the hoster will see in console the message: "Your client number: 0" everytime that he spawns, and the message: "Your client number: 1" everytime the player 2 spawns and so forth. Right?<br /><br />How can I have the player clientNum being returned in this case?<br /><br />Thank you.</div>]]></body></post><post id="p218627" date="Posted: Sun Sep 13, 2009 9:11 am "><author>Sikkpin</author><body><![CDATA[<div class="postbody">You should be able to cycle through the numbers with "gameLocal.GetNextClientNum( int current )" with your number being stored in "gameLocal.localClientNum". I don't know if these will help.</div>]]></body></post><post id="p218632" date="Posted: Sun Sep 13, 2009 10:32 am "><author>TinMan</author><body><![CDATA[<div class="postbody">Since the player is being passed in to SelectSpawnPoint<br />player-&gt;entityNumber</div>]]></body></post><post id="p218649" date="Posted: Sun Sep 13, 2009 5:23 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Since the player is being passed in to SelectSpawnPoint<br />player-&gt;entityNumber</div>Awesome! The answer was pretty simple and solved my problem. I was going nuts.<br />Worked perfectly. Thank you sir. To you both for your time <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />By the way, how did you get knowledge on the SDK? By reading the whole code or is there any good reference related to it on the internet? I've never seen a complete/good tutorial of the SDK <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>]]></body></post><post id="p218676" date="Posted: Mon Sep 14, 2009 6:21 am "><author>TinMan</author><body><![CDATA[<div class="postbody">There's some information here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20101225115339/http://www.modwiki.net/wiki/Coding#Coding_tutorials">http://www.modwiki.net/wiki/Coding#Coding_tutorials</a><!-- m --><br />Otherwise, as the saying goes, good code is it's own documentation.<br />My addition would be, with Visual Studios 'Go to Declaration/Definition' <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />So, a combination of rummaging through the code and stepping through execution with the debugger.<br />Naturally the larger the code base the longer it takes to figure things out.</div>]]></body></post><post id="p218688" date="Posted: Mon Sep 14, 2009 3:05 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">There's some information here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20101225115339/http://www.modwiki.net/wiki/Coding#Coding_tutorials">http://www.modwiki.net/wiki/Coding#Coding_tutorials</a><!-- m --><br />Otherwise, as the saying goes, good code is it's own documentation.<br />My addition would be, with Visual Studios 'Go to Declaration/Definition' <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />So, a combination of rummaging through the code and stepping through execution with the debugger.<br />Naturally the larger the code base the longer it takes to figure things out.</div>Uhmm... I see.<br />I've been having headaches trying to figure out this SDK. Specially because I'm kinda newbie at C++. Pointers still get me badly.<br /><br />Yesterday I got pretty happy when I finished some piece of code that makes a player spawn in a specific info_player_start according to its player-&gt;entityNumber by adding a "playernum" parameter in the spawnspot followed by an integer number. So the hoster spawns at player_start with playernum 1, the player 2 spawns at player_start with playernum 2 and so on. If there's no spawnpoints with "playernum" set letf, the game proceeds the default method of sorting.<br />Anyways, seems simple, but, after all, I spent two days trying to develop it just because I couldn't read many parts of the code at all <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />All in all, really appreciate programming.<br /><br />Thanks for reply.</div>]]></body></post><post id="p219339" date="Posted: Fri Oct 09, 2009 12:20 am "><author>RedFox</author><body><![CDATA[<div class="postbody">I am working on a Proof-of-Concept of something and will need to to do some spawn point selecting too in the near future. I haven't had a dig at the spawning code yet, but I saw your post and thought I'd ask: could you outline the changes in the code that you made to create the spawn point selection? This would help me a lot. Anyway, thanks in advance and happy coding!</div>]]></body></post><post id="p219357" date="Posted: Fri Oct 09, 2009 9:08 pm "><author>chuckdood</author><body><![CDATA[<div class="postbody">I found the best way to learn about pointers was to add some watches in VC++ while debugging, and watch the address of the variable you're watching.   You can see it change, or stay the same for a bunch of calls to a variable.    in Doom3, they use idStr all over the place in a bunch of functions, but it is referring to only one idStr variable, so by watching all of the used versions, and the original variable, I started to notice that they were the same thing, because their address was the same.    something like 0x024a6bf1 for each variable I watched, as an example.     Only then did I start to understand pointers.</div>]]></body></post><post id="p219386" date="Posted: Sat Oct 10, 2009 1:37 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">RedFox wrote:</div><div class="quotecontent">I am working on a Proof-of-Concept of something and will need to to do some spawn point selecting too in the near future. I haven't had a dig at the spawning code yet, but I saw your post and thought I'd ask: could you outline the changes in the code that you made to create the spawn point selection? This would help me a lot. Anyway, thanks in advance and happy coding!</div>Sure, pal. I'll be posting that later for you.</div>]]></body></post><post id="p218624" date="Posted: Sun Sep 13, 2009 8:50 am "><author>adeonc</author><body><![CDATA[<div class="postbody">Hello everyone.<br />Today I spent like the whole day trying to figure out a way to get my code returning a player's clientNum.<br /><br />For testing, I made the following:<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent"><ul><span style="color: #400040">in Game_local.cpp, section below<br />===========<br />idGameLocal::SelectSpawnSpot<br />===========<br /><br />the code:</span><br /><ul>	if( gameLocal.gameType == GAME_DM || gameLocal.gameType == GAME_TDM || gameLocal.gameType == GAME_TOURNEY ) {<br />		spawnArray = &amp;spawnSpots;<br /><br />		gameLocal.Printf( "Your client number: %d \n", <span style="font-size: 120%; line-height: normal"><span style="color: #FF0000">PROBLEM GOES HERE</span></span> );<br />	}</ul></ul></div><br /><br />In theory, if I put the right function to be used with the printf, the hoster will see in console the message: "Your client number: 0" everytime that he spawns, and the message: "Your client number: 1" everytime the player 2 spawns and so forth. Right?<br /><br />How can I have the player clientNum being returned in this case?<br /><br />Thank you.</div>]]></body></post><post id="p218627" date="Posted: Sun Sep 13, 2009 9:11 am "><author>Sikkpin</author><body><![CDATA[<div class="postbody">You should be able to cycle through the numbers with "gameLocal.GetNextClientNum( int current )" with your number being stored in "gameLocal.localClientNum". I don't know if these will help.</div>]]></body></post><post id="p218632" date="Posted: Sun Sep 13, 2009 10:32 am "><author>TinMan</author><body><![CDATA[<div class="postbody">Since the player is being passed in to SelectSpawnPoint<br />player-&gt;entityNumber</div>]]></body></post><post id="p218649" date="Posted: Sun Sep 13, 2009 5:23 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Since the player is being passed in to SelectSpawnPoint<br />player-&gt;entityNumber</div>Awesome! The answer was pretty simple and solved my problem. I was going nuts.<br />Worked perfectly. Thank you sir. To you both for your time <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />By the way, how did you get knowledge on the SDK? By reading the whole code or is there any good reference related to it on the internet? I've never seen a complete/good tutorial of the SDK <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>]]></body></post><post id="p218676" date="Posted: Mon Sep 14, 2009 6:21 am "><author>TinMan</author><body><![CDATA[<div class="postbody">There's some information here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20101225115339/http://www.modwiki.net/wiki/Coding#Coding_tutorials">http://www.modwiki.net/wiki/Coding#Coding_tutorials</a><!-- m --><br />Otherwise, as the saying goes, good code is it's own documentation.<br />My addition would be, with Visual Studios 'Go to Declaration/Definition' <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />So, a combination of rummaging through the code and stepping through execution with the debugger.<br />Naturally the larger the code base the longer it takes to figure things out.</div>]]></body></post><post id="p218688" date="Posted: Mon Sep 14, 2009 3:05 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">There's some information here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20101225115339/http://www.modwiki.net/wiki/Coding#Coding_tutorials">http://www.modwiki.net/wiki/Coding#Coding_tutorials</a><!-- m --><br />Otherwise, as the saying goes, good code is it's own documentation.<br />My addition would be, with Visual Studios 'Go to Declaration/Definition' <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br />So, a combination of rummaging through the code and stepping through execution with the debugger.<br />Naturally the larger the code base the longer it takes to figure things out.</div>Uhmm... I see.<br />I've been having headaches trying to figure out this SDK. Specially because I'm kinda newbie at C++. Pointers still get me badly.<br /><br />Yesterday I got pretty happy when I finished some piece of code that makes a player spawn in a specific info_player_start according to its player-&gt;entityNumber by adding a "playernum" parameter in the spawnspot followed by an integer number. So the hoster spawns at player_start with playernum 1, the player 2 spawns at player_start with playernum 2 and so on. If there's no spawnpoints with "playernum" set letf, the game proceeds the default method of sorting.<br />Anyways, seems simple, but, after all, I spent two days trying to develop it just because I couldn't read many parts of the code at all <img src="https://web.archive.org/web/20101225115339im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />All in all, really appreciate programming.<br /><br />Thanks for reply.</div>]]></body></post><post id="p219339" date="Posted: Fri Oct 09, 2009 12:20 am "><author>RedFox</author><body><![CDATA[<div class="postbody">I am working on a Proof-of-Concept of something and will need to to do some spawn point selecting too in the near future. I haven't had a dig at the spawning code yet, but I saw your post and thought I'd ask: could you outline the changes in the code that you made to create the spawn point selection? This would help me a lot. Anyway, thanks in advance and happy coding!</div>]]></body></post><post id="p219357" date="Posted: Fri Oct 09, 2009 9:08 pm "><author>chuckdood</author><body><![CDATA[<div class="postbody">I found the best way to learn about pointers was to add some watches in VC++ while debugging, and watch the address of the variable you're watching.   You can see it change, or stay the same for a bunch of calls to a variable.    in Doom3, they use idStr all over the place in a bunch of functions, but it is referring to only one idStr variable, so by watching all of the used versions, and the original variable, I started to notice that they were the same thing, because their address was the same.    something like 0x024a6bf1 for each variable I watched, as an example.     Only then did I start to understand pointers.</div>]]></body></post><post id="p219386" date="Posted: Sat Oct 10, 2009 1:37 pm "><author>adeonc</author><body><![CDATA[<div class="postbody"><div class="quotetitle">RedFox wrote:</div><div class="quotecontent">I am working on a Proof-of-Concept of something and will need to to do some spawn point selecting too in the near future. I haven't had a dig at the spawning code yet, but I saw your post and thought I'd ask: could you outline the changes in the code that you made to create the spawn point selection? This would help me a lot. Anyway, thanks in advance and happy coding!</div>Sure, pal. I'll be posting that later for you.</div>]]></body></post></posts></thread></xml>
