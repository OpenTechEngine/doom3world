<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="21917"><title>WiiDoom - Wii Homebrew Port</title><posts><post id="p204200" date="Posted: Tue Aug 26, 2008 3:06 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody"><!-- m --><a class="postlink" href="https://web.archive.org/web/20081117161059/http://code.google.com/p/wiidoom/">http://code.google.com/p/wiidoom/</a><!-- m --><br /><br />Installation for use with Homebrew Channel...<br /><br /><ul><li>Download zip from link above</li><li>Extract zip to desktop</li><li>Copy apps folder to SD card</li><li>Copy prboom folder to SD card</li><li>Open prboom folder on SD card and delete freedoom.wad</li><li>In the same folder place a copy of doom.wad or doom2.wad</li></ul><br />This project is in it's infancy but it's playable.<br /><br />Some things I've noticed that need fixed...<br /><br /><ul><li>No aiming at the screen. Aiming is controlled via left and right on the dpad.</li><li>Player movement occasionally stalls. Just release the joystick and resume play.</li><li>During start up sometimes you have to unplug and reinsert the nunchuck.</li><li>The brightness is way too high.</li><li>Sounds are being played at the wrong sample rate. Everything is high pitched.</li><li>There is no music.</li><li>The menus and dialogs need to be remapped. At present some parts of the menu are inaccessible or cannot be closed.</li></ul><br />I've played through a few levels in the retail version of Doom. I'm going to test out some other wads with the port and post and update. From what I understand Doom 2 also works but I'd like to see if the same holds true with Heretic and Hexen.</div>]]></body></post><post id="p204205" date="Posted: Tue Aug 26, 2008 6:28 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">I tried out using heretic.wad. No joy.<br /><br />Out of curiosity I've been looking over the source and I've run across the code that checks wad files so here are the ones that will work...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  "doom2f.wad",<br />  "doom2.wad",<br />  "plutonia.wad",<br />  "tnt.wad",<br />  "doom.wad",<br />  "doom1.wad",<br />  "doomu.wad",<br />  "freedoom.wad"<br /></div></div>]]></body></post><post id="p204214" date="Posted: Tue Aug 26, 2008 1:00 pm "><author>Deadite4</author><body><![CDATA[<div class="postbody">Interesting.  As for the Homebrew Channel, has it ever been broken by any of the firmware updates?  Thats usually what has prevented me from trying it out.</div>]]></body></post><post id="p204216" date="Posted: Tue Aug 26, 2008 1:08 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">The upkeep of Homebrew is quite solid and "if" a Wii update breaks anything, they usually have a fix out within hours or days.</div>]]></body></post><post id="p204293" date="Posted: Fri Aug 29, 2008 11:17 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">I found a fix for the brightness problem.<br /><br />Doom had a gamma adjustment that still exists in this port but it set to a high level by default hence the reason why everything is washed out. Now it's possible to lower this value by modifying the key/bindings in the options but given the way controls have been hacked in (I'll comment more on that in a moment), it's a pain in the ass.<br /><br />You have to bind the key to a button that's responsive, then cycle through the various levels until your satisfied, then reassign the button to what it was before. Just don't use the 1, 2, or left/right dpad buttons as they are used to navigate the menus.<br /><br />The worst part about doing it this way is that the settings aren't saved so you'll have to repeat this process every time you launch the game.<br /><br />I've got a better solution but you have to be willing to setup a tool chain to compile the source code. And given the technical nature of that I'm not going to elaborate on it much other than to say everything is documented at <!-- m --><a class="postlink" href="https://web.archive.org/web/20081117161059/http://www.wiibrew.org/">http://www.wiibrew.org</a><!-- m -->.<br /><br />Once you have a tool chain setup properly all you have to do is edit line 336 of m_misc.c from ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"usegamma",{&amp;usegamma},{3},0,4, //jff 3/6/98 fix erroneous upper limit in range</div><br /><br />... to ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"usegamma",{&amp;usegamma},{0},0,4, //jff 3/6/98 fix erroneous upper limit in range</div><br /><br />You can also uncap the framerate by editing line 338 from ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"uncapped_framerate", {&amp;movement_smooth},  {0},0,1,</div><br /><br />... to ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"uncapped_framerate", {&amp;movement_smooth},  {1},0,1,</div><br /><br />I've emailed the author so he's aware of the fixes and they'll be implemented in the next release. But that may be awhile as he's working on getting IR support working.<br /><br />As for the way controls are implemented right now, from what I've seen in the source code it looks like all the Wii controls are being mapped to keyboard events. It's playable that way but given the port already has code to manage joystick control, that would seem to me to be the better place to make changes.<br /><br />I may have a go at that later. It might be a good learning exercise.</div>]]></body></post><post id="p204432" date="Posted: Tue Sep 02, 2008 1:12 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Small update. I've been tinkering with the source code and I've resolved pretty much everything. I'm not proud of the way I fixed some things but it works and serves my needs.<br /><br />I've remapped the Wii controls to the proper joystick input. Movement doesn't seem to stall anymore. I also extended it to handle more buttons and analog input. The strafe toggle button is inverted so that strafe is on by default.<br /><br />IR is also now half-implemented. It controls turning but I've done nothing about aiming. It's a little wonky because I'm only dealing with the IR directly. I'm not doing any prediction so if the remote looses sight of the sensor bar it's assumed that you want to keep turning.<br /><br />I've fixed the menu navigation. Controls are standardized now. A to select, B to back out, ect... One interesting thing I found was that the home button is detected as the esc key but nowhere in the code is this evident. I assume one of the libraries is responsible.<br /><br />I've forced all sounds to play at 11025hz. This seems to fix the chipmunk audio problem although I don't know if all the sounds in Doom are 11025hz.<br /><br />And the fixes I talked about earlier are implemented. Brightness has been adjusted and the framerate has been uncapped. I'll upload the source when the author gives me permissions to the project on Google Code.<br /><br /><a href="https://web.archive.org/web/20081117161059/http://www.wiibrew.org/w/images/3/34/WiiDoom-Core-0.1.zip" class="postlink">Download</a></div>]]></body></post><post id="p204460" date="Posted: Wed Sep 03, 2008 6:12 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">I've committed my changes to the repository. Everything should make it into the next build.</div>]]></body></post><post id="p204721" date="Posted: Wed Sep 10, 2008 10:15 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">And v0.2 is out...<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081117161059/http://wiidoom.googlecode.com/files/WiiDoom-0.2.zip">http://wiidoom.googlecode.com/files/WiiDoom-0.2.zip</a><!-- m --></div>]]></body></post><post id="p204200" date="Posted: Tue Aug 26, 2008 3:06 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody"><!-- m --><a class="postlink" href="https://web.archive.org/web/20081117155042/http://code.google.com/p/wiidoom/">http://code.google.com/p/wiidoom/</a><!-- m --><br /><br />Installation for use with Homebrew Channel...<br /><br /><ul><li>Download zip from link above</li><li>Extract zip to desktop</li><li>Copy apps folder to SD card</li><li>Copy prboom folder to SD card</li><li>Open prboom folder on SD card and delete freedoom.wad</li><li>In the same folder place a copy of doom.wad or doom2.wad</li></ul><br />This project is in it's infancy but it's playable.<br /><br />Some things I've noticed that need fixed...<br /><br /><ul><li>No aiming at the screen. Aiming is controlled via left and right on the dpad.</li><li>Player movement occasionally stalls. Just release the joystick and resume play.</li><li>During start up sometimes you have to unplug and reinsert the nunchuck.</li><li>The brightness is way too high.</li><li>Sounds are being played at the wrong sample rate. Everything is high pitched.</li><li>There is no music.</li><li>The menus and dialogs need to be remapped. At present some parts of the menu are inaccessible or cannot be closed.</li></ul><br />I've played through a few levels in the retail version of Doom. I'm going to test out some other wads with the port and post and update. From what I understand Doom 2 also works but I'd like to see if the same holds true with Heretic and Hexen.</div>]]></body></post><post id="p204205" date="Posted: Tue Aug 26, 2008 6:28 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">I tried out using heretic.wad. No joy.<br /><br />Out of curiosity I've been looking over the source and I've run across the code that checks wad files so here are the ones that will work...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  "doom2f.wad",<br />  "doom2.wad",<br />  "plutonia.wad",<br />  "tnt.wad",<br />  "doom.wad",<br />  "doom1.wad",<br />  "doomu.wad",<br />  "freedoom.wad"<br /></div></div>]]></body></post><post id="p204214" date="Posted: Tue Aug 26, 2008 1:00 pm "><author>Deadite4</author><body><![CDATA[<div class="postbody">Interesting.  As for the Homebrew Channel, has it ever been broken by any of the firmware updates?  Thats usually what has prevented me from trying it out.</div>]]></body></post><post id="p204216" date="Posted: Tue Aug 26, 2008 1:08 pm "><author>goliathvt</author><body><![CDATA[<div class="postbody">The upkeep of Homebrew is quite solid and "if" a Wii update breaks anything, they usually have a fix out within hours or days.</div>]]></body></post><post id="p204293" date="Posted: Fri Aug 29, 2008 11:17 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">I found a fix for the brightness problem.<br /><br />Doom had a gamma adjustment that still exists in this port but it set to a high level by default hence the reason why everything is washed out. Now it's possible to lower this value by modifying the key/bindings in the options but given the way controls have been hacked in (I'll comment more on that in a moment), it's a pain in the ass.<br /><br />You have to bind the key to a button that's responsive, then cycle through the various levels until your satisfied, then reassign the button to what it was before. Just don't use the 1, 2, or left/right dpad buttons as they are used to navigate the menus.<br /><br />The worst part about doing it this way is that the settings aren't saved so you'll have to repeat this process every time you launch the game.<br /><br />I've got a better solution but you have to be willing to setup a tool chain to compile the source code. And given the technical nature of that I'm not going to elaborate on it much other than to say everything is documented at <!-- m --><a class="postlink" href="https://web.archive.org/web/20081117155042/http://www.wiibrew.org/">http://www.wiibrew.org</a><!-- m -->.<br /><br />Once you have a tool chain setup properly all you have to do is edit line 336 of m_misc.c from ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"usegamma",{&amp;usegamma},{3},0,4, //jff 3/6/98 fix erroneous upper limit in range</div><br /><br />... to ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"usegamma",{&amp;usegamma},{0},0,4, //jff 3/6/98 fix erroneous upper limit in range</div><br /><br />You can also uncap the framerate by editing line 338 from ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"uncapped_framerate", {&amp;movement_smooth},  {0},0,1,</div><br /><br />... to ...<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">  {"uncapped_framerate", {&amp;movement_smooth},  {1},0,1,</div><br /><br />I've emailed the author so he's aware of the fixes and they'll be implemented in the next release. But that may be awhile as he's working on getting IR support working.<br /><br />As for the way controls are implemented right now, from what I've seen in the source code it looks like all the Wii controls are being mapped to keyboard events. It's playable that way but given the port already has code to manage joystick control, that would seem to me to be the better place to make changes.<br /><br />I may have a go at that later. It might be a good learning exercise.</div>]]></body></post><post id="p204432" date="Posted: Tue Sep 02, 2008 1:12 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Small update. I've been tinkering with the source code and I've resolved pretty much everything. I'm not proud of the way I fixed some things but it works and serves my needs.<br /><br />I've remapped the Wii controls to the proper joystick input. Movement doesn't seem to stall anymore. I also extended it to handle more buttons and analog input. The strafe toggle button is inverted so that strafe is on by default.<br /><br />IR is also now half-implemented. It controls turning but I've done nothing about aiming. It's a little wonky because I'm only dealing with the IR directly. I'm not doing any prediction so if the remote looses sight of the sensor bar it's assumed that you want to keep turning.<br /><br />I've fixed the menu navigation. Controls are standardized now. A to select, B to back out, ect... One interesting thing I found was that the home button is detected as the esc key but nowhere in the code is this evident. I assume one of the libraries is responsible.<br /><br />I've forced all sounds to play at 11025hz. This seems to fix the chipmunk audio problem although I don't know if all the sounds in Doom are 11025hz.<br /><br />And the fixes I talked about earlier are implemented. Brightness has been adjusted and the framerate has been uncapped. I'll upload the source when the author gives me permissions to the project on Google Code.<br /><br /><a href="https://web.archive.org/web/20081117155042/http://www.wiibrew.org/w/images/3/34/WiiDoom-Core-0.1.zip" class="postlink">Download</a></div>]]></body></post><post id="p204460" date="Posted: Wed Sep 03, 2008 6:12 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">I've committed my changes to the repository. Everything should make it into the next build.</div>]]></body></post><post id="p204721" date="Posted: Wed Sep 10, 2008 10:15 pm "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">And v0.2 is out...<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081117155042/http://wiidoom.googlecode.com/files/WiiDoom-0.2.zip">http://wiidoom.googlecode.com/files/WiiDoom-0.2.zip</a><!-- m --></div>]]></body></post></posts></thread></xml>
