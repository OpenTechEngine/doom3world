<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="22011"><title>Water, physics... and yellow plastic ducks. ;)</title><posts><post id="p205320" date="Posted: Thu Sep 25, 2008 12:29 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">Hi, <br />i got my hand on the water-physics code from Lloyd Markle (back in 2005), but as you know, it were 1.1 SDK code.<br />Of course i tried to apply the changes of water-physics source (27 files) to the 1.3.1 SDK, but then, compilation is impossible (errors).<br />I suppose i reapplied some 1.1 code over the 1.3.1 code that have nothing to do with water.<br /><br />So, i'd like to know if someone ported it to 1.3.1 successfully, and could send the (windows) source to me?<br />Or how should i go to do it myself?<br />(my beginner's method were to compare files and apply changes...  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" /> )<br /><br />Any help'd be appreciated.</div>]]></body></post><post id="p205321" date="Posted: Thu Sep 25, 2008 12:36 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">I suggest you to compare vanilla sdk1.1 with your code to find the differences. Use WinDiff to compare folders.<br />Then, apply the changes to 1.3.1  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p205324" date="Posted: Thu Sep 25, 2008 1:16 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">Windiff? ok thank you!  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p205331" date="Posted: Thu Sep 25, 2008 4:39 pm "><author>Pat AfterMoon</author><body><![CDATA[<div class="postbody">I suggest you to use a 3-way comparison tool for this work.<br /><br />It's typically for this usage.<br />It is intended to merging 2 files derivated from a same parent. In that case, the original is the SDK 1.1, the 1st child 1 is the water-physics code, and the 2nd child is the SDK 1.3.1<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081122072102/http://en.wikipedia.org/wiki/Comparison_of_file_comparison_tools">http://en.wikipedia.org/wiki/Comparison ... ison_tools</a><!-- m --><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081122072102/http://kdiff3.sourceforge.net/">http://kdiff3.sourceforge.net/</a><!-- m --></div>]]></body></post><post id="p205332" date="Posted: Thu Sep 25, 2008 4:45 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">Wow.<br />Thanks for the info!  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p205339" date="Posted: Thu Sep 25, 2008 10:55 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">Did all the stuff by hand, and finally hit a wall of pain...<br /><br />the damn "error LNK2019" and its cousin "error LNK2001" are (VC++ 2008 express) link errors.<br />After some google times, i understood that it is a) a forgotten include lib, or b) a wrong typo in the declaration and/or the call.<br />But i can't find out myself what can it be... here's an example code:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">In Physics_Base.h:<br />...<br />   float               GetWaterLevelf() const;<br />...<br /><br />In Physics_RigidBody.cpp:<br />...<br />   if( p-&gt;GetWaterLevelf() == 0.0f  ) {<br />...<br /></div><br />By the way, the error message i get for this (i suppose it's for this one)<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Fr (original message):<br />1&gt;Physics_RigidBody.obj : error LNK2019: symbole externe non résolu "public: float __thiscall idPhysics_Base::GetWaterLevelf(void)const " (?GetWaterLevelf@idPhysics_Base@@QBEMXZ) référencé dans la fonction "void __cdecl RigidBodyDerivatives(float,void const *,float const *,float *)" (?RigidBodyDerivatives@@YAXMPBXPBMPAM@Z)<br /><br />Eng (approx traduced):<br />1&gt;Physics_RigidBody.obj : error LNK2019: External symbol not solved "public: float __thiscall idPhysics_Base::GetWaterLevelf(void)const " (?GetWaterLevelf@idPhysics_Base@@QBEMXZ) referenced in fonction "void __cdecl RigidBodyDerivatives(float,void const *,float const *,float *)" (?RigidBodyDerivatives@@YAXMPBXPBMPAM@Z)</div><br /><br />Anyone understand this?<br /><br />Edit: Thank you for the tool, Pat AfterMoon!  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p205355" date="Posted: Fri Sep 26, 2008 8:37 am "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">Humm.<br />You already have my mail address. Send the code and I'll see if I can understand why.  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /></div>]]></body></post><post id="p205448" date="Posted: Sat Sep 27, 2008 11:40 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">After some "tweaks" on the 1.3.1 water_physics code by Ivan_the_B, we've been able to compile it, and water is now fully operationnal!<br /><br />I'll update the test_water.map and repack everything tomorrow, then i'll upload it on megaupload for quick and direct uploads, then i'll send it to MODDB.COM and Doom 3 Files for futur users.<br /><br />Every body say "thank you Ivan"!<br /><br /><img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p205460" date="Posted: Sun Sep 28, 2008 1:17 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">Here it come:<br /><a href="https://web.archive.org/web/20081122072102/http://www.megaupload.com/fr/?d=DQOUTURB" class="postlink">http://www.megaupload.com/fr/?d=DQOUTURB</a><br /><br />Happy swimming !</div>]]></body></post><post id="p205464" date="Posted: Sun Sep 28, 2008 3:42 pm "><author>lowdragon</author><body><![CDATA[<div class="postbody">Thought that was already done months ago ?!<br />How did you solved the part in "idPhysics_RigidBody::TestIfAtRest" ... iirc i had issues with differ "NO_MOVE_TIME" from "noMoveTime"<br />since one is "int" and the other "float" and didnt wanted to change those to avoid [uninspected behaviour] - <br />Like corpses catapulting out of the water as if they hitting a jumppad. <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p205468" date="Posted: Sun Sep 28, 2008 5:47 pm "><author>6th Venom</author><body><![CDATA[<div class="postbody">Mmmmh, don't really know about your problem, since every "corpses" i looked was ok in the water with the 1.0 water code.<br />Did you define a density like 0.006 or so in the editor for your corpses?<br /><br />This "mod", and the original one, come with some modified def files that balance monsters/ragdolls/moveables densities.<br /><br />About this been done months ago, i didn't saw anything... and better have it two times than none!  <img src="https://web.archive.org/web/20081122072102im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p205480" date="Posted: Mon Sep 29, 2008 11:23 am "><author>Hemebond</author><body><![CDATA[<div class="postbody">Thank you for sharing with the community. Much appreciated.</div>]]></body></post></posts></thread></xml>
