<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="23953"><title>monster_turret</title><posts><post id="p227533" date="Posted: Sat Sep 25, 2010 6:00 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">hi guys,<br /><br />how to tell a turret to instantly target and shoot since an enemy (even monsters) walk in range / sight ? i played with the spawnargs, neither auto_target, triggering it, .becomeAggressive(), etc. worked for me. somebody can help me?<br /><br />i just want a turret in a corner that fires on evrything thats not in his team.<br /><br />thx for help</div>]]></body></post><post id="p227555" date="Posted: Mon Sep 27, 2010 3:17 pm "><author>The Happy Friar</author><body><![CDATA[<div class="postbody">So did you trigger it to activate it or just set it up to be triggered?</div>]]></body></post><post id="p227564" date="Posted: Mon Sep 27, 2010 4:32 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">i tried trigger flag 0 and 1. i trigger it all time via sys.trigger. no difference if u trigger it with enemies around or not. auto_target 1 didnt help anyway. it only starts shooting if it gets attacked.</div>]]></body></post><post id="p227594" date="Posted: Mon Sep 27, 2010 10:55 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">The SDK is again the answer to your question - although I don't have a great answer for you yet.... do you have any experience in C++? If so it'd definitely be worth you downloading the code, building it, and adding some debug info so you can figure out exactly what is happening in your case.<br /><br />The possibilities I've found so far, in increasing order of likeliness:<br /><br /><ul><li>The ignored enemies have "notarget" = "1" in it's spawnArgs - this causes idAI::ReactTo to ignore them until they have been attacked. I suspect this isn't your issue though since the default notarget seems to be "0".<br /></li><li>your turret is "dormant". It looks like AI's are usually dormant until they're woken up by a player (not monster) being near (based on idEntity::DoDormantTests). Try setting "neverDormant" to "1" in the spawnArgs.<br /></li><li>There's something else that I've missed that would cause it to ignore it's enemies. Using C++ I'd debug this by putting a breakpoint / logging into rvMonsterTurret::State_Combat and see if it's selecting an enemy. If it isn't, then debug into CheckForEnemy to figure out why that isn't finding one when you think there should be.</li></ul></div>]]></body></post><post id="p227629" date="Posted: Tue Sep 28, 2010 6:08 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">thanks for your answer, i fixed my prob few secs ago. seemed to be something messed up with the setup. thanks anyway for taking care of it. im well experienced in c/c++ but its long time ago. ive used java the last few years for my job and want to get into it again.<br /><br />i already met some of those methods as i changed the ai sys a bit. but i have to work on the turrets anyway, so thanks for spoinling me some good points in the code.</div>]]></body></post><post id="p227639" date="Posted: Tue Sep 28, 2010 10:36 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Glad you've got it sorted. some people who stick to scripting don't have experience in c++ and struggle to figure things out, but running it up in a debugger with a few well placed breakpoints tends to help figure out what is going on far quicker than anything else</div>]]></body></post><post id="p227533" date="Posted: Sat Sep 25, 2010 6:00 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">hi guys,<br /><br />how to tell a turret to instantly target and shoot since an enemy (even monsters) walk in range / sight ? i played with the spawnargs, neither auto_target, triggering it, .becomeAggressive(), etc. worked for me. somebody can help me?<br /><br />i just want a turret in a corner that fires on evrything thats not in his team.<br /><br />thx for help</div>]]></body></post><post id="p227555" date="Posted: Mon Sep 27, 2010 3:17 pm "><author>The Happy Friar</author><body><![CDATA[<div class="postbody">So did you trigger it to activate it or just set it up to be triggered?</div>]]></body></post><post id="p227564" date="Posted: Mon Sep 27, 2010 4:32 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">i tried trigger flag 0 and 1. i trigger it all time via sys.trigger. no difference if u trigger it with enemies around or not. auto_target 1 didnt help anyway. it only starts shooting if it gets attacked.</div>]]></body></post><post id="p227594" date="Posted: Mon Sep 27, 2010 10:55 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">The SDK is again the answer to your question - although I don't have a great answer for you yet.... do you have any experience in C++? If so it'd definitely be worth you downloading the code, building it, and adding some debug info so you can figure out exactly what is happening in your case.<br /><br />The possibilities I've found so far, in increasing order of likeliness:<br /><br /><ul><li>The ignored enemies have "notarget" = "1" in it's spawnArgs - this causes idAI::ReactTo to ignore them until they have been attacked. I suspect this isn't your issue though since the default notarget seems to be "0".<br /></li><li>your turret is "dormant". It looks like AI's are usually dormant until they're woken up by a player (not monster) being near (based on idEntity::DoDormantTests). Try setting "neverDormant" to "1" in the spawnArgs.<br /></li><li>There's something else that I've missed that would cause it to ignore it's enemies. Using C++ I'd debug this by putting a breakpoint / logging into rvMonsterTurret::State_Combat and see if it's selecting an enemy. If it isn't, then debug into CheckForEnemy to figure out why that isn't finding one when you think there should be.</li></ul></div>]]></body></post><post id="p227629" date="Posted: Tue Sep 28, 2010 6:08 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">thanks for your answer, i fixed my prob few secs ago. seemed to be something messed up with the setup. thanks anyway for taking care of it. im well experienced in c/c++ but its long time ago. ive used java the last few years for my job and want to get into it again.<br /><br />i already met some of those methods as i changed the ai sys a bit. but i have to work on the turrets anyway, so thanks for spoinling me some good points in the code.</div>]]></body></post><post id="p227639" date="Posted: Tue Sep 28, 2010 10:36 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Glad you've got it sorted. some people who stick to scripting don't have experience in c++ and struggle to figure things out, but running it up in a debugger with a few well placed breakpoints tends to help figure out what is going on far quicker than anything else</div>]]></body></post><post id="p227533" date="Posted: Sat Sep 25, 2010 6:00 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">hi guys,<br /><br />how to tell a turret to instantly target and shoot since an enemy (even monsters) walk in range / sight ? i played with the spawnargs, neither auto_target, triggering it, .becomeAggressive(), etc. worked for me. somebody can help me?<br /><br />i just want a turret in a corner that fires on evrything thats not in his team.<br /><br />thx for help</div>]]></body></post><post id="p227555" date="Posted: Mon Sep 27, 2010 3:17 pm "><author>The Happy Friar</author><body><![CDATA[<div class="postbody">So did you trigger it to activate it or just set it up to be triggered?</div>]]></body></post><post id="p227564" date="Posted: Mon Sep 27, 2010 4:32 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">i tried trigger flag 0 and 1. i trigger it all time via sys.trigger. no difference if u trigger it with enemies around or not. auto_target 1 didnt help anyway. it only starts shooting if it gets attacked.</div>]]></body></post><post id="p227594" date="Posted: Mon Sep 27, 2010 10:55 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">The SDK is again the answer to your question - although I don't have a great answer for you yet.... do you have any experience in C++? If so it'd definitely be worth you downloading the code, building it, and adding some debug info so you can figure out exactly what is happening in your case.<br /><br />The possibilities I've found so far, in increasing order of likeliness:<br /><br /><ul><li>The ignored enemies have "notarget" = "1" in it's spawnArgs - this causes idAI::ReactTo to ignore them until they have been attacked. I suspect this isn't your issue though since the default notarget seems to be "0".<br /></li><li>your turret is "dormant". It looks like AI's are usually dormant until they're woken up by a player (not monster) being near (based on idEntity::DoDormantTests). Try setting "neverDormant" to "1" in the spawnArgs.<br /></li><li>There's something else that I've missed that would cause it to ignore it's enemies. Using C++ I'd debug this by putting a breakpoint / logging into rvMonsterTurret::State_Combat and see if it's selecting an enemy. If it isn't, then debug into CheckForEnemy to figure out why that isn't finding one when you think there should be.</li></ul></div>]]></body></post><post id="p227629" date="Posted: Tue Sep 28, 2010 6:08 pm "><author>bdmn</author><body><![CDATA[<div class="postbody">thanks for your answer, i fixed my prob few secs ago. seemed to be something messed up with the setup. thanks anyway for taking care of it. im well experienced in c/c++ but its long time ago. ive used java the last few years for my job and want to get into it again.<br /><br />i already met some of those methods as i changed the ai sys a bit. but i have to work on the turrets anyway, so thanks for spoinling me some good points in the code.</div>]]></body></post><post id="p227639" date="Posted: Tue Sep 28, 2010 10:36 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Glad you've got it sorted. some people who stick to scripting don't have experience in c++ and struggle to figure things out, but running it up in a debugger with a few well placed breakpoints tends to help figure out what is going on far quicker than anything else</div>]]></body></post></posts></thread></xml>
