<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="23999"><title>Curved patch z-fighting error</title><posts><post id="p227893" date="Posted: Mon Oct 11, 2010 11:12 pm "><author>printz</author><body><![CDATA[<div class="postbody">When I make concave bevel patches (with "bevel", then "matrix"-&gt;"invert") and close them with other patches (made with "simple patch mesh"), I get at the edge a strange z-fighting with white wireframes, both in the editor and in the game. The vertex placement looks like in the editor screenshot.<br /><br /><a href="https://web.archive.org/web/20101224235856/http://img229.imageshack.us/i/shot00007b.png/" class="postlink"><img src="https://web.archive.org/web/20101224235856im_/http://img229.imageshack.us/img229/96/shot00007b.th.png" alt="Image" /></a><a href="https://web.archive.org/web/20101224235856/http://img214.imageshack.us/i/bug1w.png/" class="postlink"><img src="https://web.archive.org/web/20101224235856im_/http://img214.imageshack.us/img214/92/bug1w.th.png" alt="Image" /></a><br /><br />I did something similar, but with convex bevels, and it didn't glitch. I can't just use the "End Cap" option, because I don't know how to differently texture each individual mesh (ceilings vs. the curved wall) of the big resulting patch.</div>]]></body></post><post id="p227894" date="Posted: Tue Oct 12, 2010 1:06 am "><author>aphexjh</author><body><![CDATA[<div class="postbody">this problem will persist as long as you use a patch.<br />possible work-arounds:<br /><br />1.use brushes with nodraw applied to all but the visible (top) surfaces. line the edges up with the curve, they should all be along snap-able grid points.<br />2. use a model from a 3d package, whose texture mapping will not be all wonky</div>]]></body></post><post id="p227896" date="Posted: Tue Oct 12, 2010 10:14 am "><author>gavavva</author><body><![CDATA[<div class="postbody">Or just, you know, make the patch correctly...<br /><br />Telling him NOT to make a patch isn't a fix, its not even a work around. Its like saying "Hey your cars broke and its raining, here take this cardboard box instead".</div>]]></body></post><post id="p227897" date="Posted: Tue Oct 12, 2010 10:25 am "><author>Tron</author><body><![CDATA[<div class="postbody">Have you made sure the the number of edges matches up between the two patches?</div>]]></body></post><post id="p227899" date="Posted: Tue Oct 12, 2010 6:02 pm "><author>printz</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Tron wrote:</div><div class="quotecontent">Have you made sure the the number of edges matches up between the two patches?</div><br />Sounds like the trivial problem of curves not really being curved but simulated as such through bumpmaps! Maybe what I'm seeing there are the true edges, in an eternal z-fight with the unmatching ones. I'll check it's this when I get back to editing. Probably I'll manually curve that vertical patch then... But then again, I don't remember seeing the error on those convex vats of metal within that same screenshot...<br /><br />EDIT: aphexjh's brush nodraw solution sounds good too, and I've learn something new too with it, nodraw.</div>]]></body></post><post id="p227902" date="Posted: Wed Oct 13, 2010 5:56 am "><author>Tron</author><body><![CDATA[<div class="postbody"><div class="quotetitle">printz wrote:</div><div class="quotecontent"><div class="quotetitle">Tron wrote:</div><div class="quotecontent">Have you made sure the the number of edges matches up between the two patches?</div><br />Sounds like the trivial problem of curves not really being curved but simulated as such through bumpmaps! Maybe what I'm seeing there are the true edges, in an eternal z-fight with the unmatching ones. I'll check it's this when I get back to editing. Probably I'll manually curve that vertical patch then... But then again, I don't remember seeing the error on those convex vats of metal within that same screenshot...<br /><br />EDIT: aphexjh's brush nodraw solution sounds good too, and I've learn something new too with it, nodraw.</div><br /><br /><br />They aren't simulated as curves through bump maps, just the shading.  In every other way patches are just as angular as brush work.  You can think of a patch as being a gridwork of quads, x*y quads in size.  Ultimately any patch is just a distorted square.<br /><br />Hit ctrl+s while having one patch selected, and note what its subdivision levels are for the height and width of the patch.  Then select the patch touching it and make sure that the edge of the patch touching the first one has the same number of subdivisions.<br /><br />There is a tutorial on making patches here:<br /><br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20101224235856/http://www.doom3world.org/phpbb2/viewtopic.php?t=4556">viewtopic.php?t=4556</a><!-- l --><br /><br />The screenshots don't work anymore, but all the information is in there that you need.</div>]]></body></post><post id="p227907" date="Posted: Wed Oct 13, 2010 9:18 am "><author>BNA!</author><body><![CDATA[<div class="postbody">Split the brush touching the curve along the touching edges of the curve.<br />Texture the unseen faces of the brush with caulk. <br />You want to naturalize the texture of the encap. <br />Instead of making an endcap you can also make a square patch mesh and drag the edges into position. <br />Don't increase the petch mesh subdivision to a higher setting unless you absolutely have to.</div>]]></body></post><post id="p227893" date="Posted: Mon Oct 11, 2010 11:12 pm "><author>printz</author><body><![CDATA[<div class="postbody">When I make concave bevel patches (with "bevel", then "matrix"-&gt;"invert") and close them with other patches (made with "simple patch mesh"), I get at the edge a strange z-fighting with white wireframes, both in the editor and in the game. The vertex placement looks like in the editor screenshot.<br /><br /><a href="https://web.archive.org/web/20101224232534/http://img229.imageshack.us/i/shot00007b.png/" class="postlink"><img src="https://web.archive.org/web/20101224232534im_/http://img229.imageshack.us/img229/96/shot00007b.th.png" alt="Image" /></a><a href="https://web.archive.org/web/20101224232534/http://img214.imageshack.us/i/bug1w.png/" class="postlink"><img src="https://web.archive.org/web/20101224232534im_/http://img214.imageshack.us/img214/92/bug1w.th.png" alt="Image" /></a><br /><br />I did something similar, but with convex bevels, and it didn't glitch. I can't just use the "End Cap" option, because I don't know how to differently texture each individual mesh (ceilings vs. the curved wall) of the big resulting patch.</div>]]></body></post><post id="p227894" date="Posted: Tue Oct 12, 2010 1:06 am "><author>aphexjh</author><body><![CDATA[<div class="postbody">this problem will persist as long as you use a patch.<br />possible work-arounds:<br /><br />1.use brushes with nodraw applied to all but the visible (top) surfaces. line the edges up with the curve, they should all be along snap-able grid points.<br />2. use a model from a 3d package, whose texture mapping will not be all wonky</div>]]></body></post><post id="p227896" date="Posted: Tue Oct 12, 2010 10:14 am "><author>gavavva</author><body><![CDATA[<div class="postbody">Or just, you know, make the patch correctly...<br /><br />Telling him NOT to make a patch isn't a fix, its not even a work around. Its like saying "Hey your cars broke and its raining, here take this cardboard box instead".</div>]]></body></post><post id="p227897" date="Posted: Tue Oct 12, 2010 10:25 am "><author>Tron</author><body><![CDATA[<div class="postbody">Have you made sure the the number of edges matches up between the two patches?</div>]]></body></post><post id="p227899" date="Posted: Tue Oct 12, 2010 6:02 pm "><author>printz</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Tron wrote:</div><div class="quotecontent">Have you made sure the the number of edges matches up between the two patches?</div><br />Sounds like the trivial problem of curves not really being curved but simulated as such through bumpmaps! Maybe what I'm seeing there are the true edges, in an eternal z-fight with the unmatching ones. I'll check it's this when I get back to editing. Probably I'll manually curve that vertical patch then... But then again, I don't remember seeing the error on those convex vats of metal within that same screenshot...<br /><br />EDIT: aphexjh's brush nodraw solution sounds good too, and I've learn something new too with it, nodraw.</div>]]></body></post><post id="p227902" date="Posted: Wed Oct 13, 2010 5:56 am "><author>Tron</author><body><![CDATA[<div class="postbody"><div class="quotetitle">printz wrote:</div><div class="quotecontent"><div class="quotetitle">Tron wrote:</div><div class="quotecontent">Have you made sure the the number of edges matches up between the two patches?</div><br />Sounds like the trivial problem of curves not really being curved but simulated as such through bumpmaps! Maybe what I'm seeing there are the true edges, in an eternal z-fight with the unmatching ones. I'll check it's this when I get back to editing. Probably I'll manually curve that vertical patch then... But then again, I don't remember seeing the error on those convex vats of metal within that same screenshot...<br /><br />EDIT: aphexjh's brush nodraw solution sounds good too, and I've learn something new too with it, nodraw.</div><br /><br /><br />They aren't simulated as curves through bump maps, just the shading.  In every other way patches are just as angular as brush work.  You can think of a patch as being a gridwork of quads, x*y quads in size.  Ultimately any patch is just a distorted square.<br /><br />Hit ctrl+s while having one patch selected, and note what its subdivision levels are for the height and width of the patch.  Then select the patch touching it and make sure that the edge of the patch touching the first one has the same number of subdivisions.<br /><br />There is a tutorial on making patches here:<br /><br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20101224232534/http://www.doom3world.org/phpbb2/viewtopic.php?t=4556">viewtopic.php?t=4556</a><!-- l --><br /><br />The screenshots don't work anymore, but all the information is in there that you need.</div>]]></body></post><post id="p227907" date="Posted: Wed Oct 13, 2010 9:18 am "><author>BNA!</author><body><![CDATA[<div class="postbody">Split the brush touching the curve along the touching edges of the curve.<br />Texture the unseen faces of the brush with caulk. <br />You want to naturalize the texture of the encap. <br />Instead of making an endcap you can also make a square patch mesh and drag the edges into position. <br />Don't increase the petch mesh subdivision to a higher setting unless you absolutely have to.</div>]]></body></post></posts></thread></xml>
