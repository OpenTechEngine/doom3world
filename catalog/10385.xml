<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="10385"><title>New ASSET : func_rotatingdoor : Final</title><posts><post id="p92924" date="Posted: Sat May 07, 2005 2:19 am "><author>S@TaNiC</author><body><![CDATA[<div class="postbody">New ASSET : func_rotatingdoor : Final<br /><br /><span style="text-decoration: underline">WHAT IS IT</span><br />	A new entity for your maps that allows you to create rotating doors. It is 100% script based so can be placed in any mod folder your developing maps for. NO SDK compiling and NO scripting necessary. If you use it all I ask for is a line in your credits/readme, no need to contact me for permission.<br /><br /><span style="text-decoration: underline">HOW TO INSTALL IT</span><br />	Place func_rotatingdoor.pk4 from <a href="https://web.archive.org/web/20081116223338/http://www.btinternet.com/~tangentizer/func_rotating_door.pk4" class="postlink">HERE</a> into your mod folder. <br />Add this line <div class="codetitle"><b>Code:</b></div><div class="codecontent">#include "script/func_rotatingdoor.script“ </div> to the end of the other #include’s in your mods doom_main.script file ( best option when developing maps) OR the top of every map script file that makes use of it ( best for released maps).<br />That’s it.<br /><br /><span style="text-decoration: underline">OTHER BITS INCLUDED</span><br />My test map is included rotating_door.map, it automatically sets g_showTriggers 1 and r_showPortals 1 for you so you can see where the triggers are, touching the trigger behind the airlock doors will turn these options off otherwise you will have to do it manually. Hey it’s a beta test map what you want<br /><br /><span style="text-decoration: underline">HOW TO USE IT</span><br />	Load up the editor, right click in the orthogonal view func-&gt;func_rotatingdoor, read the options in the entity info window.<br />If you want to add script for it in a map its basically a func_mover with door type functionality programmed on top of it so all func_mover commands will work, ive also added 2 functions Locked and Opened to give you the equivalent of func_door’s isLocked isOpen commands, but because thier not SDK events usage is $myrotatingdoor.callFunction(“Locked”);<br /><br /><span style="text-decoration: underline">EH?</span><br />	WHATS MY MOD FOLDER? :- <span style="font-weight: bold">base</span> if your still developing your maps there tut tut.<br /><br />WHERES DOOM_MAIN? :- If you haven’t already extracted it, its in pak000.pk4 in your base folder. Extract it to mod/script . Although if your making maps for someone elses mod it may be in any of their pk4’s you’ll have to hunt it down.<br />______________<br /><br />Thanks to voldemort for early testing and criticism.<br /><br />Please remember this is as Final as it going to get <img src="https://web.archive.org/web/20081116223338im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" />, although I have given it a good testing and got rid of the majority of bugs there maybe others I haven’t noticed (Im just sick of looking at it for the moment so thought it about time to post). Feel free to post any criticism, faults, stuff you like/dislike and any other options you think should have been included.  Maybe even other ideas for assets you would like to see.<br /><br /><br />S@aNiC..<br />_______________________<br /><br />UPDATE<br /><br />Ive tryed to make this with every thing i would of expected to find on an ID rotating door if there was such a thing.<br />K/V pairs.. (some descriptions have been cut down please see the editor entity info window for complete descriptions)<br /><br />  editor_usage   "Rotating Door. REMEMBER to place the origin at the point the door should rotate around"<br /><ul><span style="font-weight: bold">open_angle</span>			"vector of angles it will open to. Vector (Front Top Side) relative to editor view. + degrees rotates<br />										clockwise, - degrees rotates anticlockwise. default is '0 +90 0' degrees..(rotates 90 degrees clockwise around its origin in editor TOP view)"<br /><span style="font-weight: bold">auto_shut</span>				"default is 0 (NO). set to 1 to make door shut automatically after open_time seconds"<br /><span style="font-weight: bold">open_time</span>				"default is 5secs. not used unless auto_shut is set. number of seconds to remain open"<br /><span style="font-weight: bold">no_sound</span>				"clears all sounds for this rotating door. Useful for multiple teamed doors in one location."<br /><span style="font-weight: bold">triggerMaxs</span>			"ADVANCED. x,y,z units to add to doors trigger Maxs. defaults to '2 2 2'"<br /><span style="font-weight: bold">triggerMins</span>			"ADVANCED. x,y,z of units to add to doors trigger Mins. defaults to '-2 -2 -2'"<br /><span style="font-weight: bold">start_open</span>			"the door moves to its open position when spawned."<br /><span style="font-weight: bold">accel_time</span>			"how long it takes the door to accelerate to full speed."<br /><span style="font-weight: bold">decel_time</span>			"how long it takes the door to deccelerate to a stop."<br /><span style="font-weight: bold">move_time</span>				"how long it takes the door to complete a move.  cannot be used with 'move_speed'."<br /><span style="font-weight: bold">move_speed</span>			"how many units the door travels per second.  cannot be used with 'move_time'."<br /><span style="font-weight: bold">solidForTeam</span>		"whether door is solid to objects bound to it, or objects it is bound to."<br /><span style="font-weight: bold">damage</span>					"how much damage to cause entities that block door."<br /><span style="font-weight: bold">health</span>					"when non-zero, how much damage to take before triggering targets."<br /><span style="font-weight: bold">snd_accel</span>				"sound to play when acceleration starts."<br /><span style="font-weight: bold">snd_move</span>				"sound to play when movement starts."<br /><span style="font-weight: bold">snd_decel</span>				"sound to play when deceleration starts."<br /><span style="font-weight: bold">lock_status</span>			"if locked = 1 door just becomes unlocked, if locked = 2 door moves to opposite position when<br />										unlocked. Set key 'lock_status' to relock."<br /><span style="font-weight: bold">no_touch</span>				"if set to 1, door can't be opened by touching it, only by triggering it."<br /><span style="font-weight: bold">triggerClosed</span>		"name of entity to trigger when door closes, can be iterated with triggerClosed2, 3 etc."<br /><span style="font-weight: bold">triggerOpened</span>		"name of entity to trigger when door opens, can be iterated with triggerOpened2, 3 etc."<br /><span style="font-weight: bold">triggerBlocked</span>	"name of entity to trigger when door is blocked, can be iterated with triggerBlocked2, 3 etc."<br /><span style="font-weight: bold">snd_locked</span>			"sound to play if door is locked and player touches door."<br /><span style="font-weight: bold">snd_unlocked</span>		"sound to play when door is unlocked."<br /><span style="font-weight: bold">snd_locking</span>			"sound to play when door is locking."<br /><span style="font-weight: bold">snd_open</span>				"sound to play when door is opening."<br /><span style="font-weight: bold">snd_close</span>				"sound to play when door is closing."<br /><span style="font-weight: bold">snd_blocked</span>			"sound to play when door is blocked."<br /><span style="font-weight: bold">team</span>						"set this to make 2 or more func_rotating door's operate in synch."<br /><span style="font-weight: bold">lock_lights</span>			"these entitys will have thier material ShaderParm 7 set to 1/0 on unlocked/locked."<br /><span style="font-weight: bold">doorGui</span>					"name of entitys with Gui's associated with the door."<br /><span style="font-weight: bold">anyTouch</span>				"0 will only open for players, 1 can be opened by anything"<br /></ul>They will also use portals if present, but you have to make them yourself.<br /><br />Model with gui and locklights and brush door<br /><a href="https://web.archive.org/web/20081116223338/http://img245.echo.cx/my.php?image=guimod12vj.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img245.echo.cx/img245/1498/guimod12vj.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=guimod29it.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/6720/guimod29it.th.jpg" alt="Image" /></a><br /><br />Door model, Airlock doors<br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=model12qg.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/2903/model12qg.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=model25yo.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/748/model25yo.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=model36di.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/7225/model36di.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=model45yv.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/1544/model45yv.th.jpg" alt="Image" /></a><br /><br />Door model with door frame model and locklights<br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=modellights10ha.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/8171/modellights10ha.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=modellights22kq.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/6629/modellights22kq.th.jpg" alt="Image" /></a><br /><br />Multipart door using brushes, takes 2 minutes to make<br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=multi18il.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/1253/multi18il.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=multi25ym.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/8513/multi25ym.th.jpg" alt="Image" /></a><br /><br />Stairs using brushes<br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=other11qw.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/7412/other11qw.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=other24te.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/4163/other24te.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img232.echo.cx/my.php?image=other39tw.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img232.echo.cx/img232/2192/other39tw.th.jpg" alt="Image" /></a><br /><br />Teamed pair of door rotating different directions<br /><a href="https://web.archive.org/web/20081116223338/http://img150.echo.cx/my.php?image=wierd11ap.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img150.echo.cx/img150/3916/wierd11ap.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img150.echo.cx/my.php?image=wierd21yt.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img150.echo.cx/img150/8644/wierd21yt.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img150.echo.cx/my.php?image=wierd30iu.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img150.echo.cx/img150/8766/wierd30iu.th.jpg" alt="Image" /></a><br /><a href="https://web.archive.org/web/20081116223338/http://img150.echo.cx/my.php?image=wierd40pd.jpg" class="postlink"><img src="https://web.archive.org/web/20081116223338im_/http://img150.echo.cx/img150/2797/wierd40pd.th.jpg" alt="Image" /></a><br /><br />All these doors above are from the testmap.<br />_____________<br />EDIT: 15/01/08 Since PCGameMods no longer exists? ive updated link.</div>]]></body></post><post id="p92930" date="Posted: Sat May 07, 2005 4:04 am "><author>DoV_Tomas</author><body><![CDATA[<div class="postbody">This is a nice gift...thank you. <img src="https://web.archive.org/web/20081116223338im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />I know there were a few posts lately asking how to make rotating doors so this should give them a nice stock item to use. I'm just wondering, is this like a rotating door that goes around and around, or can it be used like a normal door that you'd find in most homes: as in it only rotates 90 degrees then back like a standard, ubiquitous door? A screenie would be nice for illustrative purposes and may encourage ppl to try it. 
<br /><br />To Rich and mod gang: I don't know if it's possible, but it may be nice to have a "pre-fad warehouse" section on this site where things like this door could be stashed for easy searching and retrieval. I saw a similar feature on someone's Q2 site and it seemed like a good idea. There may not be a whole lot to put in there now, but this door would be a nice one. No doubt others may follow if there is a good home for them.</div>]]></body></post><post id="p92981" date="Posted: Sat May 07, 2005 3:16 pm "><author>S@TaNiC</author><body><![CDATA[<div class="postbody">DoV_Tomas <div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I'm just wondering, is this like a rotating door that goes around and around, or can it be used like a normal door that you'd find in most homes: as in it only rotates 90 degrees then back like a standard, ubiquitous door?</div>
<br /><br />Its more like a normal door , has an angle to open to then closes this angle.
<br />Although theres a lot more you can do with it as it can swing on all axis.
<br /><br />Updated first post with some screens and a list of k/v's.</div>]]></body></post><post id="p92989" date="Posted: Sat May 07, 2005 4:21 pm "><author>Enforcer</author><body><![CDATA[<div class="postbody">I had the chance to try this out before i had to leave. Its very kewl but the fact that if you touch the door it closes! I dont like that! It can be a problem especially if its a tight space the door closes if even a pixel from the player touches the door!
<br /><br />I also dont like the way that the door closes and opens the same way i would prefer if it opened both ways and closed both ways! 
<br /><br />Very nice tho! it seems that people are starting to take hold of the scripting in doom 3</div>]]></body></post><post id="p92992" date="Posted: Sat May 07, 2005 4:54 pm "><author>voldemort</author><body><![CDATA[<div class="postbody">If any one remembers the snail machine  Using this you can reproduce it in seconds without scripting
<br /><br />Think beyond jsut doors this can be applied in a whole log of new ways
<br /><br />If any one asks me this is brilliant
<br /><br />you can replace both complex and simple coding simply with this one addition.</div>]]></body></post><post id="p92995" date="Posted: Sat May 07, 2005 4:57 pm "><author>S@TaNiC</author><body><![CDATA[<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Its very kewl but the fact that if you touch the door it closes! I dont like that! It can be a problem especially if its a tight space the door closes if even a pixel from the player touches the door! </div><br /><br />You can always set the door up as "no_touch" "1" so it dosnt create its own trigger then its down to you to place the trigger be it multi, once etc where ever you want it.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I also dont like the way that the door closes and opens the same way i would prefer if it opened both ways and closed both ways! </div>
<br /><br />From early design it was oneway only ( most house doors operate this way). May have a look at adding a new k/v though "bothways" or somthing similar, theres a couple of ways i could implement this , ill have a think about the best way to do it and see what i can come up with.
<br /><br />Thanks for your comments.</div>]]></body></post><post id="p92999" date="Posted: Sat May 07, 2005 5:13 pm "><author>voldemort</author><body><![CDATA[<div class="postbody">You allready can use it both ways if you use target_setkeyval</div>]]></body></post><post id="p93040" date="Posted: Sat May 07, 2005 11:49 pm "><author>elroacho</author><body><![CDATA[<div class="postbody">nice, i'll give it a go</div>]]></body></post><post id="p112160" date="Posted: Sat Sep 10, 2005 8:46 am "><author>mth</author><body><![CDATA[<div class="postbody">When i tried to put thta #include into my script, d3 don't want to start and shows me a warning in the blue console:
<br /><br />file D:\Doom 3\base\script\doom_main.script, line 99: newline inside string
<br /><br />how can i fix that thing?</div>]]></body></post><post id="p112162" date="Posted: Sat Sep 10, 2005 10:48 am "><author>OrbWeaver</author><body><![CDATA[<div class="postbody">At a guess, it sounds like you might have left the closing quotation mark off the #include directive.</div>]]></body></post><post id="p205604" date="Posted: Wed Oct 01, 2008 11:05 pm "><author>Doomguy87</author><body><![CDATA[<div class="postbody">ok when i put them in my map i make double doors like i want them, but then during render and in game the start open and open in 2 different directions and when i try to select them, they suddenly dont exist, i cant select them in render. i have no clue wat is going on. any help?<br /><br />Edit:doors face the right way but i save my map and BSP and the doors arent in the game. i do not get how that is possible.</div>]]></body></post></posts></thread></xml>
