<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="17130"><title>Q4 DMSP Mode: Help needed !!</title><posts><post id="p156416" date="Posted: Fri Sep 08, 2006 11:48 pm "><author>octav</author><body><![CDATA[<div class="postbody">There is a mode called DMSP for Q4  that basically mean: monsters in DM maps. A small script only make this possible.
<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20101225121630/http://www.iddevnet.com/quake4/MakeAMod-DMSP">http://www.iddevnet.com/quake4/MakeAMod-DMSP</a><!-- m -->
<br /><br />But there is a big difference from the original mode DMSP/2 by Aardappel:
<br />when u die, u leave the map instead of respawning in map like in regular DM to continue to fight monsters.
<br /><br />I would greatly appreciate if someone could help me by altering the script or showing me what to do for modifying the mode into a real monster deathmatch.(respawning instantly after death in map). I am not a coder and i only made/edit some q1 small mods.
<br />Also I really think the mode could become a very interesting one(i tested and it works in any dm-map by making aas files)
<br />Thanks</div>]]></body></post><post id="p159164" date="Posted: Mon Oct 09, 2006 12:49 am "><author>ionYz</author><body><![CDATA[<div class="postbody">I've looked through that tutorial (what few there are for Quake 4) and I think your biggest hurdle is by design. Their tutorial is based on modifying Single Player to work with a Mulitplayer map. They chose a multiplayer map because, "almost the entire layout is navigable without the use of jumppads or teleporters (which the AI doesn't pay attention to)", according Matt Breit.
<br /><br />So besides spawns and weapons being borked (they mention it) the game still believes its in SP mode so when you die it proceeds accordingly.
<br /><br />I'm not sure if you can change that logic without mucking with the SDK.</div>]]></body></post><post id="p159182" date="Posted: Mon Oct 09, 2006 10:39 am "><author>morbyte</author><body><![CDATA[<div class="postbody">which means: monsters wont sync over network when you think about a coop style mp...</div>]]></body></post><post id="p220480" date="Posted: Fri Nov 20, 2009 6:34 am "><author>(Leader)-Dante</author><body><![CDATA[<div class="postbody">In the mean time, to help to avoid dying you may try adding the marine classes to the dmsp_base.script in the pk4 file by adding lines such as sys.setSpawnArg("def_spawn_##", "char_marine"); where ## is the number of the monster in the spawn table after the last one listed. The actual table is located 4/5 down the script.<br /><br />Use classes such as:<br /><br />char_marine_shotgun<br />char_marine_hyperblaster<br />char_marine_tech_armed<br />char_marine_medic_armed &lt;- because those are the armed versions.<br /><br />Hope that may come in handy.<br /><br />-D.</div>]]></body></post><post id="p220491" date="Posted: Fri Nov 20, 2009 12:58 pm "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">You need to edit the SDK to fix this.Here is your problem:<br /><br />When you die the program exetuce this thing:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">if ( forceRespawn &amp;&amp; !gameLocal.isMultiplayer &amp;&amp; !g_testDeath.GetBool() ) {<br /><br />      gameLocal.sessionCommand = "died";<br />   }<br />         </div><br /><br />That means if you are forced to respawn and the class Multiplayer don't exist.... run session command died which means<br /><br />the end menu when you die in SP.<br /><br />Change that to this:<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">if ( forceRespawn &amp;&amp; !gameLocal.isMultiplayer &amp;&amp; !g_testDeath.GetBool() ) {<br /><br />       //gameLocal.sessionCommand = "died";<br />                SpawnFromSpawnSpot();<br />      forceRespawn = false;<br />      <br />   }<br />         </div><br /><br />Adding // before gameLocal.sessionCommand = "died"; will make it unusable.So the end menu never comes.<br /> SpawnFromSpawnSpot(); - this will spawn the player in the begining spawn point.<br />And in the end... you may set forceRespawn = false; to make a cycle because  SpawnFromSpawnSpot() make it = true;<br /><br />This is not for shure but... write it If you reacive errors. ( for forceRespawn = false; )<br /><br />You can find this in player.cpp in the Quake 4 SDK.You will need micfosoft visual c++ compilator 2008.<br />And you will need to build your own dll and replace it whit the original in the game000.pk4 file.<br />But don't replace that dll in this DMSP mode because If DMSP use different dll, the mod will not work.<br />Your new dll must be used in your custom mod.<br />Don't use SDK whit version 1.4.2 - this is beta and have errors.You can use versions from 1.0 to 1.3<br /><br />The rest is depending on you.Good luck. <img src="https://web.archive.org/web/20101225121630im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p220496" date="Posted: Fri Nov 20, 2009 5:43 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">1.4.2 is not beta. What errors are you getting?</div>]]></body></post><post id="p220500" date="Posted: Fri Nov 20, 2009 7:33 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">Would it not just be easier to use it's random spawing/tally code in an mp mod?</div>]]></body></post><post id="p220507" date="Posted: Sat Nov 21, 2009 2:25 pm "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">If you want to use MP mod, then you will have random spawns.Random spawns depending on the number of spawn points in your map.Dm spawn point,TMDM spawn point etc...But the red spawn point ( for SP I can't remeber it right now ) must exist on all cost.Because if you don't have this spawn point then.. the host can't enter in the game.Other spawn points is for the other players ( for deathmatch,team death match etc.. ).But If you want to use monsters in multiplayer.I can't help you there because you must program their intellect to work in multiplayer.Otherwise in most cases they will stand on the ground like statues.And now If you ask me "Can I make more than one red (SP spawn point)", the answer is no because you will get errors.You can make DM spawn points but... if you are using SP mode they will not work.So if you want random spawn points in SP you have to crate your custom spawn point whit the SDK that must use the right parameters to avoid errors.You can make another thing - make more than one red (SP spawn point) and tell in the SDK to use random number from one to the limit.Then you will have random spawning.But again I can't help you because I'm working on different places in the SDK.<br /><br />About 1.4.2 SDK version...Every time when I'm trying to reload my weapon or trying to view the mp score tab my game is crashing.This is only for the MPGame dll.Because in 1.4.2 there are to type of dll's - one for SP the other for MP.So I have tryed to download it from different places and... I'm reaciving the same error.If you look at the id software web page <br /><a href="https://web.archive.org/web/20101225121630/http://www.idsoftware.com/games/quake/quake4/index.php?game_section=updates" class="postlink">http://www.idsoftware.com/games/quake/quake4/index.php?game_section=updates</a><br /><br />see this down below - "Mod development teams seeking the Q4 1.4 Beta SDK, click here."<br />SDK beta means beta version.I was using 1.4.2 - the last version.<br />That's  confirm it.</div>]]></body></post><post id="p220619" date="Posted: Thu Nov 26, 2009 11:09 am "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">I want to apologize.Actually you can make more than one Info Player start points whit the editor.Strange why my last memories was that I have errors.Today I saw that I have two red Spawn points in my map... and my map is runing from 3 weeks.So there is no errors.I have add this two spawn points whitout to think.So I saw this minutes ago. <img src="https://web.archive.org/web/20101225121630im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />But again there is no clue that the game will use them in a random count.</div>]]></body></post><post id="p156416" date="Posted: Fri Sep 08, 2006 11:48 pm "><author>octav</author><body><![CDATA[<div class="postbody">There is a mode called DMSP for Q4  that basically mean: monsters in DM maps. A small script only make this possible.
<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20101225114212/http://www.iddevnet.com/quake4/MakeAMod-DMSP">http://www.iddevnet.com/quake4/MakeAMod-DMSP</a><!-- m -->
<br /><br />But there is a big difference from the original mode DMSP/2 by Aardappel:
<br />when u die, u leave the map instead of respawning in map like in regular DM to continue to fight monsters.
<br /><br />I would greatly appreciate if someone could help me by altering the script or showing me what to do for modifying the mode into a real monster deathmatch.(respawning instantly after death in map). I am not a coder and i only made/edit some q1 small mods.
<br />Also I really think the mode could become a very interesting one(i tested and it works in any dm-map by making aas files)
<br />Thanks</div>]]></body></post><post id="p159164" date="Posted: Mon Oct 09, 2006 12:49 am "><author>ionYz</author><body><![CDATA[<div class="postbody">I've looked through that tutorial (what few there are for Quake 4) and I think your biggest hurdle is by design. Their tutorial is based on modifying Single Player to work with a Mulitplayer map. They chose a multiplayer map because, "almost the entire layout is navigable without the use of jumppads or teleporters (which the AI doesn't pay attention to)", according Matt Breit.
<br /><br />So besides spawns and weapons being borked (they mention it) the game still believes its in SP mode so when you die it proceeds accordingly.
<br /><br />I'm not sure if you can change that logic without mucking with the SDK.</div>]]></body></post><post id="p159182" date="Posted: Mon Oct 09, 2006 10:39 am "><author>morbyte</author><body><![CDATA[<div class="postbody">which means: monsters wont sync over network when you think about a coop style mp...</div>]]></body></post><post id="p220480" date="Posted: Fri Nov 20, 2009 6:34 am "><author>(Leader)-Dante</author><body><![CDATA[<div class="postbody">In the mean time, to help to avoid dying you may try adding the marine classes to the dmsp_base.script in the pk4 file by adding lines such as sys.setSpawnArg("def_spawn_##", "char_marine"); where ## is the number of the monster in the spawn table after the last one listed. The actual table is located 4/5 down the script.<br /><br />Use classes such as:<br /><br />char_marine_shotgun<br />char_marine_hyperblaster<br />char_marine_tech_armed<br />char_marine_medic_armed &lt;- because those are the armed versions.<br /><br />Hope that may come in handy.<br /><br />-D.</div>]]></body></post><post id="p220491" date="Posted: Fri Nov 20, 2009 12:58 pm "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">You need to edit the SDK to fix this.Here is your problem:<br /><br />When you die the program exetuce this thing:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">if ( forceRespawn &amp;&amp; !gameLocal.isMultiplayer &amp;&amp; !g_testDeath.GetBool() ) {<br /><br />      gameLocal.sessionCommand = "died";<br />   }<br />         </div><br /><br />That means if you are forced to respawn and the class Multiplayer don't exist.... run session command died which means<br /><br />the end menu when you die in SP.<br /><br />Change that to this:<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">if ( forceRespawn &amp;&amp; !gameLocal.isMultiplayer &amp;&amp; !g_testDeath.GetBool() ) {<br /><br />       //gameLocal.sessionCommand = "died";<br />                SpawnFromSpawnSpot();<br />      forceRespawn = false;<br />      <br />   }<br />         </div><br /><br />Adding // before gameLocal.sessionCommand = "died"; will make it unusable.So the end menu never comes.<br /> SpawnFromSpawnSpot(); - this will spawn the player in the begining spawn point.<br />And in the end... you may set forceRespawn = false; to make a cycle because  SpawnFromSpawnSpot() make it = true;<br /><br />This is not for shure but... write it If you reacive errors. ( for forceRespawn = false; )<br /><br />You can find this in player.cpp in the Quake 4 SDK.You will need micfosoft visual c++ compilator 2008.<br />And you will need to build your own dll and replace it whit the original in the game000.pk4 file.<br />But don't replace that dll in this DMSP mode because If DMSP use different dll, the mod will not work.<br />Your new dll must be used in your custom mod.<br />Don't use SDK whit version 1.4.2 - this is beta and have errors.You can use versions from 1.0 to 1.3<br /><br />The rest is depending on you.Good luck. <img src="https://web.archive.org/web/20101225114212im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p220496" date="Posted: Fri Nov 20, 2009 5:43 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">1.4.2 is not beta. What errors are you getting?</div>]]></body></post><post id="p220500" date="Posted: Fri Nov 20, 2009 7:33 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">Would it not just be easier to use it's random spawing/tally code in an mp mod?</div>]]></body></post><post id="p220507" date="Posted: Sat Nov 21, 2009 2:25 pm "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">If you want to use MP mod, then you will have random spawns.Random spawns depending on the number of spawn points in your map.Dm spawn point,TMDM spawn point etc...But the red spawn point ( for SP I can't remeber it right now ) must exist on all cost.Because if you don't have this spawn point then.. the host can't enter in the game.Other spawn points is for the other players ( for deathmatch,team death match etc.. ).But If you want to use monsters in multiplayer.I can't help you there because you must program their intellect to work in multiplayer.Otherwise in most cases they will stand on the ground like statues.And now If you ask me "Can I make more than one red (SP spawn point)", the answer is no because you will get errors.You can make DM spawn points but... if you are using SP mode they will not work.So if you want random spawn points in SP you have to crate your custom spawn point whit the SDK that must use the right parameters to avoid errors.You can make another thing - make more than one red (SP spawn point) and tell in the SDK to use random number from one to the limit.Then you will have random spawning.But again I can't help you because I'm working on different places in the SDK.<br /><br />About 1.4.2 SDK version...Every time when I'm trying to reload my weapon or trying to view the mp score tab my game is crashing.This is only for the MPGame dll.Because in 1.4.2 there are to type of dll's - one for SP the other for MP.So I have tryed to download it from different places and... I'm reaciving the same error.If you look at the id software web page <br /><a href="https://web.archive.org/web/20101225114212/http://www.idsoftware.com/games/quake/quake4/index.php?game_section=updates" class="postlink">http://www.idsoftware.com/games/quake/quake4/index.php?game_section=updates</a><br /><br />see this down below - "Mod development teams seeking the Q4 1.4 Beta SDK, click here."<br />SDK beta means beta version.I was using 1.4.2 - the last version.<br />That's  confirm it.</div>]]></body></post><post id="p220619" date="Posted: Thu Nov 26, 2009 11:09 am "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">I want to apologize.Actually you can make more than one Info Player start points whit the editor.Strange why my last memories was that I have errors.Today I saw that I have two red Spawn points in my map... and my map is runing from 3 weeks.So there is no errors.I have add this two spawn points whitout to think.So I saw this minutes ago. <img src="https://web.archive.org/web/20101225114212im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />But again there is no clue that the game will use them in a random count.</div>]]></body></post><post id="p156416" date="Posted: Fri Sep 08, 2006 11:48 pm "><author>octav</author><body><![CDATA[<div class="postbody">There is a mode called DMSP for Q4  that basically mean: monsters in DM maps. A small script only make this possible.
<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20101225114212/http://www.iddevnet.com/quake4/MakeAMod-DMSP">http://www.iddevnet.com/quake4/MakeAMod-DMSP</a><!-- m -->
<br /><br />But there is a big difference from the original mode DMSP/2 by Aardappel:
<br />when u die, u leave the map instead of respawning in map like in regular DM to continue to fight monsters.
<br /><br />I would greatly appreciate if someone could help me by altering the script or showing me what to do for modifying the mode into a real monster deathmatch.(respawning instantly after death in map). I am not a coder and i only made/edit some q1 small mods.
<br />Also I really think the mode could become a very interesting one(i tested and it works in any dm-map by making aas files)
<br />Thanks</div>]]></body></post><post id="p159164" date="Posted: Mon Oct 09, 2006 12:49 am "><author>ionYz</author><body><![CDATA[<div class="postbody">I've looked through that tutorial (what few there are for Quake 4) and I think your biggest hurdle is by design. Their tutorial is based on modifying Single Player to work with a Mulitplayer map. They chose a multiplayer map because, "almost the entire layout is navigable without the use of jumppads or teleporters (which the AI doesn't pay attention to)", according Matt Breit.
<br /><br />So besides spawns and weapons being borked (they mention it) the game still believes its in SP mode so when you die it proceeds accordingly.
<br /><br />I'm not sure if you can change that logic without mucking with the SDK.</div>]]></body></post><post id="p159182" date="Posted: Mon Oct 09, 2006 10:39 am "><author>morbyte</author><body><![CDATA[<div class="postbody">which means: monsters wont sync over network when you think about a coop style mp...</div>]]></body></post><post id="p220480" date="Posted: Fri Nov 20, 2009 6:34 am "><author>(Leader)-Dante</author><body><![CDATA[<div class="postbody">In the mean time, to help to avoid dying you may try adding the marine classes to the dmsp_base.script in the pk4 file by adding lines such as sys.setSpawnArg("def_spawn_##", "char_marine"); where ## is the number of the monster in the spawn table after the last one listed. The actual table is located 4/5 down the script.<br /><br />Use classes such as:<br /><br />char_marine_shotgun<br />char_marine_hyperblaster<br />char_marine_tech_armed<br />char_marine_medic_armed &lt;- because those are the armed versions.<br /><br />Hope that may come in handy.<br /><br />-D.</div>]]></body></post><post id="p220491" date="Posted: Fri Nov 20, 2009 12:58 pm "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">You need to edit the SDK to fix this.Here is your problem:<br /><br />When you die the program exetuce this thing:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">if ( forceRespawn &amp;&amp; !gameLocal.isMultiplayer &amp;&amp; !g_testDeath.GetBool() ) {<br /><br />      gameLocal.sessionCommand = "died";<br />   }<br />         </div><br /><br />That means if you are forced to respawn and the class Multiplayer don't exist.... run session command died which means<br /><br />the end menu when you die in SP.<br /><br />Change that to this:<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">if ( forceRespawn &amp;&amp; !gameLocal.isMultiplayer &amp;&amp; !g_testDeath.GetBool() ) {<br /><br />       //gameLocal.sessionCommand = "died";<br />                SpawnFromSpawnSpot();<br />      forceRespawn = false;<br />      <br />   }<br />         </div><br /><br />Adding // before gameLocal.sessionCommand = "died"; will make it unusable.So the end menu never comes.<br /> SpawnFromSpawnSpot(); - this will spawn the player in the begining spawn point.<br />And in the end... you may set forceRespawn = false; to make a cycle because  SpawnFromSpawnSpot() make it = true;<br /><br />This is not for shure but... write it If you reacive errors. ( for forceRespawn = false; )<br /><br />You can find this in player.cpp in the Quake 4 SDK.You will need micfosoft visual c++ compilator 2008.<br />And you will need to build your own dll and replace it whit the original in the game000.pk4 file.<br />But don't replace that dll in this DMSP mode because If DMSP use different dll, the mod will not work.<br />Your new dll must be used in your custom mod.<br />Don't use SDK whit version 1.4.2 - this is beta and have errors.You can use versions from 1.0 to 1.3<br /><br />The rest is depending on you.Good luck. <img src="https://web.archive.org/web/20101225114212im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p220496" date="Posted: Fri Nov 20, 2009 5:43 pm "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">1.4.2 is not beta. What errors are you getting?</div>]]></body></post><post id="p220500" date="Posted: Fri Nov 20, 2009 7:33 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">Would it not just be easier to use it's random spawing/tally code in an mp mod?</div>]]></body></post><post id="p220507" date="Posted: Sat Nov 21, 2009 2:25 pm "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">If you want to use MP mod, then you will have random spawns.Random spawns depending on the number of spawn points in your map.Dm spawn point,TMDM spawn point etc...But the red spawn point ( for SP I can't remeber it right now ) must exist on all cost.Because if you don't have this spawn point then.. the host can't enter in the game.Other spawn points is for the other players ( for deathmatch,team death match etc.. ).But If you want to use monsters in multiplayer.I can't help you there because you must program their intellect to work in multiplayer.Otherwise in most cases they will stand on the ground like statues.And now If you ask me "Can I make more than one red (SP spawn point)", the answer is no because you will get errors.You can make DM spawn points but... if you are using SP mode they will not work.So if you want random spawn points in SP you have to crate your custom spawn point whit the SDK that must use the right parameters to avoid errors.You can make another thing - make more than one red (SP spawn point) and tell in the SDK to use random number from one to the limit.Then you will have random spawning.But again I can't help you because I'm working on different places in the SDK.<br /><br />About 1.4.2 SDK version...Every time when I'm trying to reload my weapon or trying to view the mp score tab my game is crashing.This is only for the MPGame dll.Because in 1.4.2 there are to type of dll's - one for SP the other for MP.So I have tryed to download it from different places and... I'm reaciving the same error.If you look at the id software web page <br /><a href="https://web.archive.org/web/20101225114212/http://www.idsoftware.com/games/quake/quake4/index.php?game_section=updates" class="postlink">http://www.idsoftware.com/games/quake/quake4/index.php?game_section=updates</a><br /><br />see this down below - "Mod development teams seeking the Q4 1.4 Beta SDK, click here."<br />SDK beta means beta version.I was using 1.4.2 - the last version.<br />That's  confirm it.</div>]]></body></post><post id="p220619" date="Posted: Thu Nov 26, 2009 11:09 am "><author>Shadowflamez</author><body><![CDATA[<div class="postbody">I want to apologize.Actually you can make more than one Info Player start points whit the editor.Strange why my last memories was that I have errors.Today I saw that I have two red Spawn points in my map... and my map is runing from 3 weeks.So there is no errors.I have add this two spawn points whitout to think.So I saw this minutes ago. <img src="https://web.archive.org/web/20101225114212im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />But again there is no clue that the game will use them in a random count.</div>]]></body></post></posts></thread></xml>
