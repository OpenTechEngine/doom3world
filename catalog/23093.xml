<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="23093"><title>Stream Packs</title><posts><post id="p218181" date="Posted: Wed Sep 02, 2009 12:04 am "><author>TinMan</author><body><![CDATA[<div class="postbody">As posted in a previous thread, people have been banging away at various wolf file formats at xentax.com, the first tool by Csimbi was for the global decls format, which let me pull a couple of files and to switch off that system :p<br /><br />Another major format is stream packs (.mpk,.spk), which pretty much store everything heh.<br />Anyway, asmxtx has a tool here:<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003132/http://forum.xentax.com/viewtopic.php?f=10&amp;t=3081&amp;st=0&amp;sk=t&amp;sd=a&amp;start=148">http://forum.xentax.com/viewtopic.php?f ... &amp;start=148</a><!-- m --><br /><br />It seems to do good, however some of his file extensions are wrong, and others incomplete.<br /><br />Edit: Bellox also has a tool with gui here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003132/http://www.daedalus-tools.mx.tc/">http://www.daedalus-tools.mx.tc/</a><!-- m -->, you can see his post in this thread.<br /><br />Now for recurring frustration, the xentax forums require an admin to activate your account when you registered, and from what I hear that happening is neither constant or punctual, so despite having register a few days ago I can't post.<br />Beyond the fact that I can't thank Csimbi and asmxtx , I also can't post the correct and complete the file extension information that asmxtx hasn't been able to.<br /><br />So here's the corrections, completions and information.<br /><br />.!!!AASS!!! = .aas28<br />Our old friend aas files, there's only one type in Wolf, and are based on a 28x28x24 bounding box.<br />Confirmation: assets.pk4/def/ai/aas.def, and the aas file itself contains:<br />fileExtension = "aas28"<br />Nice.<br /><br />.entities = .emap<br />It seems asmxtx took the wrong pointers from WolfMP which is based on the ETQW branch of idTech4, even though it does have some tech merged from wolf sp, mainly the md5r model format, it's apparent the the entities are different file formats. WolfMPs is ascii (same as etqw), Wolf sp is binary (the file even contain the text "binary entities" ).<br />Confirmation: The console points out - "loaded .map file maps/game/trainyard/trainyard.emap" etc.<br /><br />.!!!HKXA!!! = ??<br />In one of the files - hkaAnimationContainer<br />.!!!HKXR!!! = ??<br />In one of the files - hkaRagdollInstance<br />.!!!HKXS!!! = ??<br />Somewhat of a mystery, if not for below I'd assume skeleton, looking at it's references to shapes and physics I'm guessing it's the collision model for havok.<br />.!!!SKEL!!! = ???<br />Assuming skeleton for animated models from the name, looking at file it is havok data.<br /><br />All of the above referenced via same .hkx (except .skel) in .def files, which correspond to label in stream pack for each chunk that corresponds to the seperate .hkxwhatever files.<br />example "models/characters/_humanoid_male/humanoid_male.hkx", these are referenced for anims, clipmodels and skeletons. Havok data seems to have taken over some of the idTech4 stuff, md5anim, collision model.<br />I assume .hkx is a format that contains all of the above havok data, but in this case is split for file streamer.<br /><br />.MD5R<br />Yes, Ravens evolution of MD5mesh, Wolf MP seems to have inherited this format, no doubt for ease of transfer of assets from SP to MP.<br /><br />.procb = .proc (unshure)<br />.procb is definately for WolfMP, inherited from ETQW proc binary, however looking at the two file formats we see an amusing reversal of the entities situation, wolf sp proc is ascii.<br />The file contains:<br />MD5RProcVersion 7<br />also<br />file "hospital_vb1.MD5RBin" - many references to different md5rbins<br />Seems a great advancment off idTech4s .proc files, instead of including models within the proc as ascii it references a md5rbin.<br />So, extension? Who knows, I'm guessing still .proc<br /><br />====<br />AAS Musings.<br />With most humanoid in wolf, using the 28x28 would be fine, but you see it running into troubles with the sniffers and the particle cannon soldiers - don't quote me on that though (yet), i'd have to take a closer look.<br />Doom 3s smallest aas bounds is 48x48x82, Quake4s 32x32x79, Qwars is 32x32x79<br />I guess the closer size is to get close cover points  - I haven't checked the actual bounds of any of the actors yet.<br />The low z bound (24) is obviously for the few spots where sniffers come out of crawlspaces, but again it's a potential for navigation troubles.<br />It's really a trade off for aas sizes that fit the majority of your actors bounds and the amount of memory you want to spend, each new aas type is a new aas map.</div>]]></body></post><post id="p218191" date="Posted: Wed Sep 02, 2009 5:24 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Are the folks over there documenting the specifications for these archive types or distributing their tools as open source? Also, has anyone tried these console commands...<br /><br /><div class="quotetitle">www.modwiki.net wrote:</div><div class="quotecontent">compileStreamPack 	 compiles a single stream pack/asl file<br />compileStreamPacks 	compiles all stream pack/asl files in a given dir tree </div><br /><br />It might be possible to roll your own packs via the console.</div>]]></body></post><post id="p218194" date="Posted: Wed Sep 02, 2009 8:47 am "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Also linked in that forum post is another tool, written in C# and released as GPL - see here: <a href="https://web.archive.org/web/20130320003132/http://daedalus-tools.mx.tc/" class="postlink">http://daedalus-tools.mx.tc/</a>. Looks much more user friendly than the DOS mode thing the other guy has done <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /></div>]]></body></post><post id="p218218" date="Posted: Wed Sep 02, 2009 6:23 pm "><author>parsonsbear</author><body><![CDATA[<div class="postbody">Interesting- any idea what md5r adds to the format? I get the impression there's LOD models packed in now?</div>]]></body></post><post id="p218226" date="Posted: Wed Sep 02, 2009 8:21 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">TinMan, I can't say anything for sure, but I believe that the files in the assets.pk4 are incomplete/different and are not the latest files like those that are in the stream packs, so I wouldn't assume things like only one aas size and things like that. I get this from the fact that a lot of the entities in the defs (mainly triggers and targets) are invalid and cannot be spawned. My guess is the assets.pk4 is probably something the should have been removed or is a placeholder of some kind for when/if the sdk comes out giving us the full assets.pk4. Or I might be completely wrong.</div>]]></body></post><post id="p218230" date="Posted: Wed Sep 02, 2009 9:14 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks Rich, Anthony, one of my weaknesses is I often skim over some things that I should have noted for further investigation. Anyhoo I've sent an email the that tools guy. <br />I'll poke away at the tool source, I haven't really done any file format stuff before (having being insulated it by having most of my programming done in the confines of idtech4), but it is something I want to rectify and this at least is a starting example.<br />I'll have a poke at compileStreamPack when I have a chance too.<br /><br />Sikkpin:<br />The ones that can't be spawned seem to be due to the spawn packs with the assets not being loaded, you can test this by spawning stuff that doesn't load in one map in a another where that entity has an instance due to being placed in a map.<br />I do agree with some files not being in assets though, they are likely in the .decls files in the map streampacks.<br />And from the few files I've checked from a extracted globals.decls the decls in assets.pk4 are the same.<br />Also with the current state of the .decls extraction tool I can't really confirm if there's some more files in that that aren't in assets.pk4, the fonts files were a lucky break in a sense.</div>]]></body></post><post id="p218232" date="Posted: Wed Sep 02, 2009 9:50 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@TinMan i'm glad at least one person knows some of these mysterious file extensions, i'll correct them in my tool @ <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003132/http://daedalus-tools.mx.tc/">http://daedalus-tools.mx.tc/</a><!-- m --><br />thx<br /><br />because of the spk/mpk file format: each file starts with a magic number (4 bytes), then come 1-n chunks...<br /><br />each chunk consists of a magic number referring to the format (4 bytes), the uncompressed size (4 bytes), the compressed size (4 bytes) and then a zlib-compressed block (sizes only refer to this block)...<br /><br />each block (uncompressed) contains a file table and then the files:<br />the file table contains a bunch of 0-terminated strings (path + filename) and after each string 2x the size of the corresponding file (2x 4 bytes)<br /><br />the files themselves are always aligned to 4-byte boundaries, the padding bytes are somehow not always 0, which i dont understand <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":-(" title="Sad" /><br /><br />if you run into trouble, look in my sourcecode <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><br />hope i got everything right <br /><br />hope it helps, enjoy</div>]]></body></post><post id="p218236" date="Posted: Wed Sep 02, 2009 10:41 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks bellox, was just looking through your source now, big points for the references to modwiki <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Also<br />BRAI = .brain<br />referenced in various defs<br />"brain" "common/cinematic_trigger.brain"<br />It's looking like a graph (again with disclaimer of little experiece with different file formats) for the previously guessed at behaviour tree/task network.<br /><br />PBBF<br />This is an odd one, you are giving them md5rbin extension, it seems right, the filenames seem to match those in .proc<br />On the flipside there's mention of playback files, which would match the magic number, various mentions of playback in console cvars and cmds. "listPlaybacks lists playback decls". <br />This system was also in Quake 4 but I never looked at the system myself.<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003132/http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29">http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29</a><!-- m --><br />It certainly doesn't seem to be what's output anyhoo.<br />I can't find evidence of playbacks being used/referenced however.<br />One theory they stopped using it at some point and just reused the magic number for md5rbin without renaming it, odd but the only thing I can think of to explain it.<br /><br />DECL = .decls<br />As seen is assets.pk4/maps/game/global/<br />This is a compilation of a lot of different decl files. <br />As mentioned, Csimbi made a tool for this, but I was hoping for an improved version as his outputs in a way that can rebuild the .decls (which we don't really need imho), rather than in a way that can be worked with.<br /><br />I'll have to get up all my poking and prodding onto modwiki<br />Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p218246" date="Posted: Thu Sep 03, 2009 3:33 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div><br /><br />I did but not anymore. I spent the last two weeks or so writing a Python bot to screen scrape the recent changes list, determine which new articles are spam, present me with the results, and then wait for my confirmation before taking action.<br /><br />This morning at 4:48am an anti-spam bot was born...<br /><br /><a href="https://web.archive.org/web/20130320003132/http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0" class="postlink">http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0</a><br /><br />... and as you can see, PyBot is doing his new job very well. <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_twisted.gif" alt=":twisted:" title="Twisted Evil" /></div>]]></body></post><post id="p218256" date="Posted: Thu Sep 03, 2009 1:04 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">is there  a way to extract - hear the sounds files , spk  files ?<br />I would like to mod the game so that the nazis npc speak german.<br />I mean only for the german soldiers during fights, I think it would add to the atmosphere .. <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />pretty much like crysis on delta difficulty where the koreans actually speaks korean<br />allies and everything else remains english. <br />I already have the germans speech files, problem is I have to go through every sound file to discover which files are for npc only ...<br /><br />nevermind Bellox tool is working pretty well, thanx Bellox !<br />now I have to test it, let me know if interest is there,  I might upload it here once I am done with it ...</div>]]></body></post><post id="p218269" date="Posted: Thu Sep 03, 2009 11:47 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">@vertex007 of course i'm interested, i'm think these english tracks with german accent sound entirely stupid <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /></div>]]></body></post><post id="p218311" date="Posted: Sat Sep 05, 2009 11:02 am "><author>Megazoid</author><body><![CDATA[<div class="postbody">Hi. I just wanted to say thanks for the unpacker <span style="font-weight: bold">bellox902</span>, it was very useful and simple to use. Have you considered a re-packer at all, or is that not possible with the available information?<br /><br /><span style="font-weight: bold">vertex007</span>: Sound like a cool idea  <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /></div>]]></body></post><post id="p218313" date="Posted: Sat Sep 05, 2009 11:11 am "><author>vertex007</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Megazoid wrote:</div><div class="quotecontent">Have you considered a re-packer at all, or is that not possible with the available information?<br /></div><br /><br />yes a re-packer would be great, I was working on that language mod and was like 80% done but due to the structure of some spk content I can´t really finish it properly without a working repacker.<br />so far it is working good but then  suddenly the germans start to  speak english again on some maps/situations things get mixed up ...</div>]]></body></post><post id="p218324" date="Posted: Sat Sep 05, 2009 2:14 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">i'll see what i can do, but i'll need a little time</div>]]></body></post><post id="p218423" date="Posted: Wed Sep 09, 2009 1:05 am "><author>Sebultura</author><body><![CDATA[<div class="postbody">blah</div>]]></body></post><post id="p218605" date="Posted: Sat Sep 12, 2009 2:51 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@vertex007 ok, i tried to add packing functionality for mp3 files, but i have only tested it with one sound file in the game, so if you have any trouble, let me know<br />greetings, enjoy</div>]]></body></post><post id="p218611" date="Posted: Sat Sep 12, 2009 8:28 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks  bellox902  for the update !<br />I just ran your mp3 packer and it seems to work flawlessly !<br />good job !<br /><br />now I can complete the mod<br /><br />thanks again</div>]]></body></post><post id="p218635" date="Posted: Sun Sep 13, 2009 12:46 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">to bellox902, Megazoid and  all whom it may concern, the Language mod is now completed and can be downloaded here:<br /><br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20130320003132/http://www.doom3world.org/phpbb2/viewtopic.php?f=68&amp;t=23136">viewtopic.php?f=68&amp;t=23136</a><!-- l --><br /><br />see Language Pack <br /><br />enjoy</div>]]></body></post><post id="p218661" date="Posted: Sun Sep 13, 2009 8:55 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">good job double-o-seven  <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p218708" date="Posted: Mon Sep 14, 2009 9:52 pm "><author>FireFly</author><body><![CDATA[<div class="postbody">Nice job vertex007, I've added a mirror for your language pack here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003132/http://www.wolfedit.com/files/wolf/mods/mods.html">http://www.wolfedit.com/files/wolf/mods/mods.html</a><!-- m --><br /><br />@bellox902 : Would it be possible to create a re-packer for the textures ( dds) files also ? This way we could create our own skin mods or even change the whole atmosphere of the game...  <img src="https://web.archive.org/web/20130320003132im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p218709" date="Posted: Mon Sep 14, 2009 10:45 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks FireFly  <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />I just checked your mirrors, Language Pack is ok but if you click on Wolf Redux you get Risk a4 instead, just saying ..<br />also if you click on Forums from the download site you get an Error 404.<br />but cool site you got there, keep up the good work !<br />cheers</div>]]></body></post><post id="p218714" date="Posted: Tue Sep 15, 2009 8:27 am "><author>FireFly</author><body><![CDATA[<div class="postbody">Errors should be fixed now  <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  Thanks for the feedback.</div>]]></body></post><post id="p218718" date="Posted: Tue Sep 15, 2009 9:26 am "><author>vertex007</author><body><![CDATA[<div class="postbody">perfect !<br />no problem, mate, shit happens !<br />thanks again for the mirrors</div>]]></body></post><post id="p218822" date="Posted: Fri Sep 18, 2009 2:39 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@FireFly wow, you people here are really ambitious, but i'll see what i can do <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br />I think repacking textures might not be that easy, since the spk/mpk-files that contain textures also contain other chunks.<br />The best solution would probably be to unpack the raw chunks, only modify the necessary ones and repack them with the other chunks.<br />I was also thinking of making a gui which shows the images (have allready implemented dxtn decompression) so they can just be replaced in the program, this would leave less room for errors.</div>]]></body></post><post id="p220511" date="Posted: Sun Nov 22, 2009 1:32 am "><author>pe.si.cha</author><body><![CDATA[<div class="postbody">I have decompress a file english.spk. I make change in fonts on cz.<br />I need compress all files on file english. spk.  Is it posible?<br />Can You send me any software?</div>]]></body></post><post id="p218709" date="Posted: Mon Sep 14, 2009 10:45 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks FireFly  <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />I just checked your mirrors, Language Pack is ok but if you click on Wolf Redux you get Risk a4 instead, just saying ..<br />also if you click on Forums from the download site you get an Error 404.<br />but cool site you got there, keep up the good work !<br />cheers</div>]]></body></post><post id="p218714" date="Posted: Tue Sep 15, 2009 8:27 am "><author>FireFly</author><body><![CDATA[<div class="postbody">Errors should be fixed now  <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  Thanks for the feedback.</div>]]></body></post><post id="p218718" date="Posted: Tue Sep 15, 2009 9:26 am "><author>vertex007</author><body><![CDATA[<div class="postbody">perfect !<br />no problem, mate, shit happens !<br />thanks again for the mirrors</div>]]></body></post><post id="p218822" date="Posted: Fri Sep 18, 2009 2:39 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@FireFly wow, you people here are really ambitious, but i'll see what i can do <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br />I think repacking textures might not be that easy, since the spk/mpk-files that contain textures also contain other chunks.<br />The best solution would probably be to unpack the raw chunks, only modify the necessary ones and repack them with the other chunks.<br />I was also thinking of making a gui which shows the images (have allready implemented dxtn decompression) so they can just be replaced in the program, this would leave less room for errors.</div>]]></body></post><post id="p220511" date="Posted: Sun Nov 22, 2009 1:32 am "><author>pe.si.cha</author><body><![CDATA[<div class="postbody">I have decompress a file english.spk. I make change in fonts on cz.<br />I need compress all files on file english. spk.  Is it posible?<br />Can You send me any software?</div>]]></body></post><post id="p218181" date="Posted: Wed Sep 02, 2009 12:04 am "><author>TinMan</author><body><![CDATA[<div class="postbody">As posted in a previous thread, people have been banging away at various wolf file formats at xentax.com, the first tool by Csimbi was for the global decls format, which let me pull a couple of files and to switch off that system :p<br /><br />Another major format is stream packs (.mpk,.spk), which pretty much store everything heh.<br />Anyway, asmxtx has a tool here:<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://forum.xentax.com/viewtopic.php?f=10&amp;t=3081&amp;st=0&amp;sk=t&amp;sd=a&amp;start=148">http://forum.xentax.com/viewtopic.php?f ... &amp;start=148</a><!-- m --><br /><br />It seems to do good, however some of his file extensions are wrong, and others incomplete.<br /><br />Edit: Bellox also has a tool with gui here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.daedalus-tools.mx.tc/">http://www.daedalus-tools.mx.tc/</a><!-- m -->, you can see his post in this thread.<br /><br />Now for recurring frustration, the xentax forums require an admin to activate your account when you registered, and from what I hear that happening is neither constant or punctual, so despite having register a few days ago I can't post.<br />Beyond the fact that I can't thank Csimbi and asmxtx , I also can't post the correct and complete the file extension information that asmxtx hasn't been able to.<br /><br />So here's the corrections, completions and information.<br /><br />.!!!AASS!!! = .aas28<br />Our old friend aas files, there's only one type in Wolf, and are based on a 28x28x24 bounding box.<br />Confirmation: assets.pk4/def/ai/aas.def, and the aas file itself contains:<br />fileExtension = "aas28"<br />Nice.<br /><br />.entities = .emap<br />It seems asmxtx took the wrong pointers from WolfMP which is based on the ETQW branch of idTech4, even though it does have some tech merged from wolf sp, mainly the md5r model format, it's apparent the the entities are different file formats. WolfMPs is ascii (same as etqw), Wolf sp is binary (the file even contain the text "binary entities" ).<br />Confirmation: The console points out - "loaded .map file maps/game/trainyard/trainyard.emap" etc.<br /><br />.!!!HKXA!!! = ??<br />In one of the files - hkaAnimationContainer<br />.!!!HKXR!!! = ??<br />In one of the files - hkaRagdollInstance<br />.!!!HKXS!!! = ??<br />Somewhat of a mystery, if not for below I'd assume skeleton, looking at it's references to shapes and physics I'm guessing it's the collision model for havok.<br />.!!!SKEL!!! = ???<br />Assuming skeleton for animated models from the name, looking at file it is havok data.<br /><br />All of the above referenced via same .hkx (except .skel) in .def files, which correspond to label in stream pack for each chunk that corresponds to the seperate .hkxwhatever files.<br />example "models/characters/_humanoid_male/humanoid_male.hkx", these are referenced for anims, clipmodels and skeletons. Havok data seems to have taken over some of the idTech4 stuff, md5anim, collision model.<br />I assume .hkx is a format that contains all of the above havok data, but in this case is split for file streamer.<br /><br />.MD5R<br />Yes, Ravens evolution of MD5mesh, Wolf MP seems to have inherited this format, no doubt for ease of transfer of assets from SP to MP.<br /><br />.procb = .proc (unshure)<br />.procb is definately for WolfMP, inherited from ETQW proc binary, however looking at the two file formats we see an amusing reversal of the entities situation, wolf sp proc is ascii.<br />The file contains:<br />MD5RProcVersion 7<br />also<br />file "hospital_vb1.MD5RBin" - many references to different md5rbins<br />Seems a great advancment off idTech4s .proc files, instead of including models within the proc as ascii it references a md5rbin.<br />So, extension? Who knows, I'm guessing still .proc<br /><br />====<br />AAS Musings.<br />With most humanoid in wolf, using the 28x28 would be fine, but you see it running into troubles with the sniffers and the particle cannon soldiers - don't quote me on that though (yet), i'd have to take a closer look.<br />Doom 3s smallest aas bounds is 48x48x82, Quake4s 32x32x79, Qwars is 32x32x79<br />I guess the closer size is to get close cover points  - I haven't checked the actual bounds of any of the actors yet.<br />The low z bound (24) is obviously for the few spots where sniffers come out of crawlspaces, but again it's a potential for navigation troubles.<br />It's really a trade off for aas sizes that fit the majority of your actors bounds and the amount of memory you want to spend, each new aas type is a new aas map.</div>]]></body></post><post id="p218191" date="Posted: Wed Sep 02, 2009 5:24 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Are the folks over there documenting the specifications for these archive types or distributing their tools as open source? Also, has anyone tried these console commands...<br /><br /><div class="quotetitle">www.modwiki.net wrote:</div><div class="quotecontent">compileStreamPack 	 compiles a single stream pack/asl file<br />compileStreamPacks 	compiles all stream pack/asl files in a given dir tree </div><br /><br />It might be possible to roll your own packs via the console.</div>]]></body></post><post id="p218194" date="Posted: Wed Sep 02, 2009 8:47 am "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Also linked in that forum post is another tool, written in C# and released as GPL - see here: <a href="https://web.archive.org/web/20130320003153/http://daedalus-tools.mx.tc/" class="postlink">http://daedalus-tools.mx.tc/</a>. Looks much more user friendly than the DOS mode thing the other guy has done <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /></div>]]></body></post><post id="p218218" date="Posted: Wed Sep 02, 2009 6:23 pm "><author>parsonsbear</author><body><![CDATA[<div class="postbody">Interesting- any idea what md5r adds to the format? I get the impression there's LOD models packed in now?</div>]]></body></post><post id="p218226" date="Posted: Wed Sep 02, 2009 8:21 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">TinMan, I can't say anything for sure, but I believe that the files in the assets.pk4 are incomplete/different and are not the latest files like those that are in the stream packs, so I wouldn't assume things like only one aas size and things like that. I get this from the fact that a lot of the entities in the defs (mainly triggers and targets) are invalid and cannot be spawned. My guess is the assets.pk4 is probably something the should have been removed or is a placeholder of some kind for when/if the sdk comes out giving us the full assets.pk4. Or I might be completely wrong.</div>]]></body></post><post id="p218230" date="Posted: Wed Sep 02, 2009 9:14 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks Rich, Anthony, one of my weaknesses is I often skim over some things that I should have noted for further investigation. Anyhoo I've sent an email the that tools guy. <br />I'll poke away at the tool source, I haven't really done any file format stuff before (having being insulated it by having most of my programming done in the confines of idtech4), but it is something I want to rectify and this at least is a starting example.<br />I'll have a poke at compileStreamPack when I have a chance too.<br /><br />Sikkpin:<br />The ones that can't be spawned seem to be due to the spawn packs with the assets not being loaded, you can test this by spawning stuff that doesn't load in one map in a another where that entity has an instance due to being placed in a map.<br />I do agree with some files not being in assets though, they are likely in the .decls files in the map streampacks.<br />And from the few files I've checked from a extracted globals.decls the decls in assets.pk4 are the same.<br />Also with the current state of the .decls extraction tool I can't really confirm if there's some more files in that that aren't in assets.pk4, the fonts files were a lucky break in a sense.</div>]]></body></post><post id="p218232" date="Posted: Wed Sep 02, 2009 9:50 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@TinMan i'm glad at least one person knows some of these mysterious file extensions, i'll correct them in my tool @ <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://daedalus-tools.mx.tc/">http://daedalus-tools.mx.tc/</a><!-- m --><br />thx<br /><br />because of the spk/mpk file format: each file starts with a magic number (4 bytes), then come 1-n chunks...<br /><br />each chunk consists of a magic number referring to the format (4 bytes), the uncompressed size (4 bytes), the compressed size (4 bytes) and then a zlib-compressed block (sizes only refer to this block)...<br /><br />each block (uncompressed) contains a file table and then the files:<br />the file table contains a bunch of 0-terminated strings (path + filename) and after each string 2x the size of the corresponding file (2x 4 bytes)<br /><br />the files themselves are always aligned to 4-byte boundaries, the padding bytes are somehow not always 0, which i dont understand <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":-(" title="Sad" /><br /><br />if you run into trouble, look in my sourcecode <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><br />hope i got everything right <br /><br />hope it helps, enjoy</div>]]></body></post><post id="p218236" date="Posted: Wed Sep 02, 2009 10:41 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks bellox, was just looking through your source now, big points for the references to modwiki <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Also<br />BRAI = .brain<br />referenced in various defs<br />"brain" "common/cinematic_trigger.brain"<br />It's looking like a graph (again with disclaimer of little experiece with different file formats) for the previously guessed at behaviour tree/task network.<br /><br />PBBF<br />This is an odd one, you are giving them md5rbin extension, it seems right, the filenames seem to match those in .proc<br />On the flipside there's mention of playback files, which would match the magic number, various mentions of playback in console cvars and cmds. "listPlaybacks lists playback decls". <br />This system was also in Quake 4 but I never looked at the system myself.<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29">http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29</a><!-- m --><br />It certainly doesn't seem to be what's output anyhoo.<br />I can't find evidence of playbacks being used/referenced however.<br />One theory they stopped using it at some point and just reused the magic number for md5rbin without renaming it, odd but the only thing I can think of to explain it.<br /><br />DECL = .decls<br />As seen is assets.pk4/maps/game/global/<br />This is a compilation of a lot of different decl files. <br />As mentioned, Csimbi made a tool for this, but I was hoping for an improved version as his outputs in a way that can rebuild the .decls (which we don't really need imho), rather than in a way that can be worked with.<br /><br />I'll have to get up all my poking and prodding onto modwiki<br />Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p218246" date="Posted: Thu Sep 03, 2009 3:33 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div><br /><br />I did but not anymore. I spent the last two weeks or so writing a Python bot to screen scrape the recent changes list, determine which new articles are spam, present me with the results, and then wait for my confirmation before taking action.<br /><br />This morning at 4:48am an anti-spam bot was born...<br /><br /><a href="https://web.archive.org/web/20130320003153/http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0" class="postlink">http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0</a><br /><br />... and as you can see, PyBot is doing his new job very well. <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_twisted.gif" alt=":twisted:" title="Twisted Evil" /></div>]]></body></post><post id="p218256" date="Posted: Thu Sep 03, 2009 1:04 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">is there  a way to extract - hear the sounds files , spk  files ?<br />I would like to mod the game so that the nazis npc speak german.<br />I mean only for the german soldiers during fights, I think it would add to the atmosphere .. <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />pretty much like crysis on delta difficulty where the koreans actually speaks korean<br />allies and everything else remains english. <br />I already have the germans speech files, problem is I have to go through every sound file to discover which files are for npc only ...<br /><br />nevermind Bellox tool is working pretty well, thanx Bellox !<br />now I have to test it, let me know if interest is there,  I might upload it here once I am done with it ...</div>]]></body></post><post id="p218269" date="Posted: Thu Sep 03, 2009 11:47 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">@vertex007 of course i'm interested, i'm think these english tracks with german accent sound entirely stupid <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /></div>]]></body></post><post id="p218311" date="Posted: Sat Sep 05, 2009 11:02 am "><author>Megazoid</author><body><![CDATA[<div class="postbody">Hi. I just wanted to say thanks for the unpacker <span style="font-weight: bold">bellox902</span>, it was very useful and simple to use. Have you considered a re-packer at all, or is that not possible with the available information?<br /><br /><span style="font-weight: bold">vertex007</span>: Sound like a cool idea  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /></div>]]></body></post><post id="p218313" date="Posted: Sat Sep 05, 2009 11:11 am "><author>vertex007</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Megazoid wrote:</div><div class="quotecontent">Have you considered a re-packer at all, or is that not possible with the available information?<br /></div><br /><br />yes a re-packer would be great, I was working on that language mod and was like 80% done but due to the structure of some spk content I can´t really finish it properly without a working repacker.<br />so far it is working good but then  suddenly the germans start to  speak english again on some maps/situations things get mixed up ...</div>]]></body></post><post id="p218324" date="Posted: Sat Sep 05, 2009 2:14 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">i'll see what i can do, but i'll need a little time</div>]]></body></post><post id="p218423" date="Posted: Wed Sep 09, 2009 1:05 am "><author>Sebultura</author><body><![CDATA[<div class="postbody">blah</div>]]></body></post><post id="p218605" date="Posted: Sat Sep 12, 2009 2:51 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@vertex007 ok, i tried to add packing functionality for mp3 files, but i have only tested it with one sound file in the game, so if you have any trouble, let me know<br />greetings, enjoy</div>]]></body></post><post id="p218611" date="Posted: Sat Sep 12, 2009 8:28 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks  bellox902  for the update !<br />I just ran your mp3 packer and it seems to work flawlessly !<br />good job !<br /><br />now I can complete the mod<br /><br />thanks again</div>]]></body></post><post id="p218635" date="Posted: Sun Sep 13, 2009 12:46 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">to bellox902, Megazoid and  all whom it may concern, the Language mod is now completed and can be downloaded here:<br /><br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20130320003153/http://www.doom3world.org/phpbb2/viewtopic.php?f=68&amp;t=23136">viewtopic.php?f=68&amp;t=23136</a><!-- l --><br /><br />see Language Pack <br /><br />enjoy</div>]]></body></post><post id="p218661" date="Posted: Sun Sep 13, 2009 8:55 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">good job double-o-seven  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p218708" date="Posted: Mon Sep 14, 2009 9:52 pm "><author>FireFly</author><body><![CDATA[<div class="postbody">Nice job vertex007, I've added a mirror for your language pack here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.wolfedit.com/files/wolf/mods/mods.html">http://www.wolfedit.com/files/wolf/mods/mods.html</a><!-- m --><br /><br />@bellox902 : Would it be possible to create a re-packer for the textures ( dds) files also ? This way we could create our own skin mods or even change the whole atmosphere of the game...  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p218709" date="Posted: Mon Sep 14, 2009 10:45 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks FireFly  <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />I just checked your mirrors, Language Pack is ok but if you click on Wolf Redux you get Risk a4 instead, just saying ..<br />also if you click on Forums from the download site you get an Error 404.<br />but cool site you got there, keep up the good work !<br />cheers</div>]]></body></post><post id="p218714" date="Posted: Tue Sep 15, 2009 8:27 am "><author>FireFly</author><body><![CDATA[<div class="postbody">Errors should be fixed now  <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  Thanks for the feedback.</div>]]></body></post><post id="p218718" date="Posted: Tue Sep 15, 2009 9:26 am "><author>vertex007</author><body><![CDATA[<div class="postbody">perfect !<br />no problem, mate, shit happens !<br />thanks again for the mirrors</div>]]></body></post><post id="p218822" date="Posted: Fri Sep 18, 2009 2:39 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@FireFly wow, you people here are really ambitious, but i'll see what i can do <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br />I think repacking textures might not be that easy, since the spk/mpk-files that contain textures also contain other chunks.<br />The best solution would probably be to unpack the raw chunks, only modify the necessary ones and repack them with the other chunks.<br />I was also thinking of making a gui which shows the images (have allready implemented dxtn decompression) so they can just be replaced in the program, this would leave less room for errors.</div>]]></body></post><post id="p220511" date="Posted: Sun Nov 22, 2009 1:32 am "><author>pe.si.cha</author><body><![CDATA[<div class="postbody">I have decompress a file english.spk. I make change in fonts on cz.<br />I need compress all files on file english. spk.  Is it posible?<br />Can You send me any software?</div>]]></body></post><post id="p218709" date="Posted: Mon Sep 14, 2009 10:45 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks FireFly  <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />I just checked your mirrors, Language Pack is ok but if you click on Wolf Redux you get Risk a4 instead, just saying ..<br />also if you click on Forums from the download site you get an Error 404.<br />but cool site you got there, keep up the good work !<br />cheers</div>]]></body></post><post id="p218714" date="Posted: Tue Sep 15, 2009 8:27 am "><author>FireFly</author><body><![CDATA[<div class="postbody">Errors should be fixed now  <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  Thanks for the feedback.</div>]]></body></post><post id="p218718" date="Posted: Tue Sep 15, 2009 9:26 am "><author>vertex007</author><body><![CDATA[<div class="postbody">perfect !<br />no problem, mate, shit happens !<br />thanks again for the mirrors</div>]]></body></post><post id="p218822" date="Posted: Fri Sep 18, 2009 2:39 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@FireFly wow, you people here are really ambitious, but i'll see what i can do <img src="https://web.archive.org/web/20130320003336im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br />I think repacking textures might not be that easy, since the spk/mpk-files that contain textures also contain other chunks.<br />The best solution would probably be to unpack the raw chunks, only modify the necessary ones and repack them with the other chunks.<br />I was also thinking of making a gui which shows the images (have allready implemented dxtn decompression) so they can just be replaced in the program, this would leave less room for errors.</div>]]></body></post><post id="p220511" date="Posted: Sun Nov 22, 2009 1:32 am "><author>pe.si.cha</author><body><![CDATA[<div class="postbody">I have decompress a file english.spk. I make change in fonts on cz.<br />I need compress all files on file english. spk.  Is it posible?<br />Can You send me any software?</div>]]></body></post><post id="p218181" date="Posted: Wed Sep 02, 2009 12:04 am "><author>TinMan</author><body><![CDATA[<div class="postbody">As posted in a previous thread, people have been banging away at various wolf file formats at xentax.com, the first tool by Csimbi was for the global decls format, which let me pull a couple of files and to switch off that system :p<br /><br />Another major format is stream packs (.mpk,.spk), which pretty much store everything heh.<br />Anyway, asmxtx has a tool here:<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://forum.xentax.com/viewtopic.php?f=10&amp;t=3081&amp;st=0&amp;sk=t&amp;sd=a&amp;start=148">http://forum.xentax.com/viewtopic.php?f ... &amp;start=148</a><!-- m --><br /><br />It seems to do good, however some of his file extensions are wrong, and others incomplete.<br /><br />Edit: Bellox also has a tool with gui here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.daedalus-tools.mx.tc/">http://www.daedalus-tools.mx.tc/</a><!-- m -->, you can see his post in this thread.<br /><br />Now for recurring frustration, the xentax forums require an admin to activate your account when you registered, and from what I hear that happening is neither constant or punctual, so despite having register a few days ago I can't post.<br />Beyond the fact that I can't thank Csimbi and asmxtx , I also can't post the correct and complete the file extension information that asmxtx hasn't been able to.<br /><br />So here's the corrections, completions and information.<br /><br />.!!!AASS!!! = .aas28<br />Our old friend aas files, there's only one type in Wolf, and are based on a 28x28x24 bounding box.<br />Confirmation: assets.pk4/def/ai/aas.def, and the aas file itself contains:<br />fileExtension = "aas28"<br />Nice.<br /><br />.entities = .emap<br />It seems asmxtx took the wrong pointers from WolfMP which is based on the ETQW branch of idTech4, even though it does have some tech merged from wolf sp, mainly the md5r model format, it's apparent the the entities are different file formats. WolfMPs is ascii (same as etqw), Wolf sp is binary (the file even contain the text "binary entities" ).<br />Confirmation: The console points out - "loaded .map file maps/game/trainyard/trainyard.emap" etc.<br /><br />.!!!HKXA!!! = ??<br />In one of the files - hkaAnimationContainer<br />.!!!HKXR!!! = ??<br />In one of the files - hkaRagdollInstance<br />.!!!HKXS!!! = ??<br />Somewhat of a mystery, if not for below I'd assume skeleton, looking at it's references to shapes and physics I'm guessing it's the collision model for havok.<br />.!!!SKEL!!! = ???<br />Assuming skeleton for animated models from the name, looking at file it is havok data.<br /><br />All of the above referenced via same .hkx (except .skel) in .def files, which correspond to label in stream pack for each chunk that corresponds to the seperate .hkxwhatever files.<br />example "models/characters/_humanoid_male/humanoid_male.hkx", these are referenced for anims, clipmodels and skeletons. Havok data seems to have taken over some of the idTech4 stuff, md5anim, collision model.<br />I assume .hkx is a format that contains all of the above havok data, but in this case is split for file streamer.<br /><br />.MD5R<br />Yes, Ravens evolution of MD5mesh, Wolf MP seems to have inherited this format, no doubt for ease of transfer of assets from SP to MP.<br /><br />.procb = .proc (unshure)<br />.procb is definately for WolfMP, inherited from ETQW proc binary, however looking at the two file formats we see an amusing reversal of the entities situation, wolf sp proc is ascii.<br />The file contains:<br />MD5RProcVersion 7<br />also<br />file "hospital_vb1.MD5RBin" - many references to different md5rbins<br />Seems a great advancment off idTech4s .proc files, instead of including models within the proc as ascii it references a md5rbin.<br />So, extension? Who knows, I'm guessing still .proc<br /><br />====<br />AAS Musings.<br />With most humanoid in wolf, using the 28x28 would be fine, but you see it running into troubles with the sniffers and the particle cannon soldiers - don't quote me on that though (yet), i'd have to take a closer look.<br />Doom 3s smallest aas bounds is 48x48x82, Quake4s 32x32x79, Qwars is 32x32x79<br />I guess the closer size is to get close cover points  - I haven't checked the actual bounds of any of the actors yet.<br />The low z bound (24) is obviously for the few spots where sniffers come out of crawlspaces, but again it's a potential for navigation troubles.<br />It's really a trade off for aas sizes that fit the majority of your actors bounds and the amount of memory you want to spend, each new aas type is a new aas map.</div>]]></body></post><post id="p218191" date="Posted: Wed Sep 02, 2009 5:24 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Are the folks over there documenting the specifications for these archive types or distributing their tools as open source? Also, has anyone tried these console commands...<br /><br /><div class="quotetitle">www.modwiki.net wrote:</div><div class="quotecontent">compileStreamPack 	 compiles a single stream pack/asl file<br />compileStreamPacks 	compiles all stream pack/asl files in a given dir tree </div><br /><br />It might be possible to roll your own packs via the console.</div>]]></body></post><post id="p218194" date="Posted: Wed Sep 02, 2009 8:47 am "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Also linked in that forum post is another tool, written in C# and released as GPL - see here: <a href="https://web.archive.org/web/20130320003153/http://daedalus-tools.mx.tc/" class="postlink">http://daedalus-tools.mx.tc/</a>. Looks much more user friendly than the DOS mode thing the other guy has done <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /></div>]]></body></post><post id="p218218" date="Posted: Wed Sep 02, 2009 6:23 pm "><author>parsonsbear</author><body><![CDATA[<div class="postbody">Interesting- any idea what md5r adds to the format? I get the impression there's LOD models packed in now?</div>]]></body></post><post id="p218226" date="Posted: Wed Sep 02, 2009 8:21 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">TinMan, I can't say anything for sure, but I believe that the files in the assets.pk4 are incomplete/different and are not the latest files like those that are in the stream packs, so I wouldn't assume things like only one aas size and things like that. I get this from the fact that a lot of the entities in the defs (mainly triggers and targets) are invalid and cannot be spawned. My guess is the assets.pk4 is probably something the should have been removed or is a placeholder of some kind for when/if the sdk comes out giving us the full assets.pk4. Or I might be completely wrong.</div>]]></body></post><post id="p218230" date="Posted: Wed Sep 02, 2009 9:14 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks Rich, Anthony, one of my weaknesses is I often skim over some things that I should have noted for further investigation. Anyhoo I've sent an email the that tools guy. <br />I'll poke away at the tool source, I haven't really done any file format stuff before (having being insulated it by having most of my programming done in the confines of idtech4), but it is something I want to rectify and this at least is a starting example.<br />I'll have a poke at compileStreamPack when I have a chance too.<br /><br />Sikkpin:<br />The ones that can't be spawned seem to be due to the spawn packs with the assets not being loaded, you can test this by spawning stuff that doesn't load in one map in a another where that entity has an instance due to being placed in a map.<br />I do agree with some files not being in assets though, they are likely in the .decls files in the map streampacks.<br />And from the few files I've checked from a extracted globals.decls the decls in assets.pk4 are the same.<br />Also with the current state of the .decls extraction tool I can't really confirm if there's some more files in that that aren't in assets.pk4, the fonts files were a lucky break in a sense.</div>]]></body></post><post id="p218232" date="Posted: Wed Sep 02, 2009 9:50 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@TinMan i'm glad at least one person knows some of these mysterious file extensions, i'll correct them in my tool @ <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://daedalus-tools.mx.tc/">http://daedalus-tools.mx.tc/</a><!-- m --><br />thx<br /><br />because of the spk/mpk file format: each file starts with a magic number (4 bytes), then come 1-n chunks...<br /><br />each chunk consists of a magic number referring to the format (4 bytes), the uncompressed size (4 bytes), the compressed size (4 bytes) and then a zlib-compressed block (sizes only refer to this block)...<br /><br />each block (uncompressed) contains a file table and then the files:<br />the file table contains a bunch of 0-terminated strings (path + filename) and after each string 2x the size of the corresponding file (2x 4 bytes)<br /><br />the files themselves are always aligned to 4-byte boundaries, the padding bytes are somehow not always 0, which i dont understand <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":-(" title="Sad" /><br /><br />if you run into trouble, look in my sourcecode <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><br />hope i got everything right <br /><br />hope it helps, enjoy</div>]]></body></post><post id="p218236" date="Posted: Wed Sep 02, 2009 10:41 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks bellox, was just looking through your source now, big points for the references to modwiki <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Also<br />BRAI = .brain<br />referenced in various defs<br />"brain" "common/cinematic_trigger.brain"<br />It's looking like a graph (again with disclaimer of little experiece with different file formats) for the previously guessed at behaviour tree/task network.<br /><br />PBBF<br />This is an odd one, you are giving them md5rbin extension, it seems right, the filenames seem to match those in .proc<br />On the flipside there's mention of playback files, which would match the magic number, various mentions of playback in console cvars and cmds. "listPlaybacks lists playback decls". <br />This system was also in Quake 4 but I never looked at the system myself.<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29">http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29</a><!-- m --><br />It certainly doesn't seem to be what's output anyhoo.<br />I can't find evidence of playbacks being used/referenced however.<br />One theory they stopped using it at some point and just reused the magic number for md5rbin without renaming it, odd but the only thing I can think of to explain it.<br /><br />DECL = .decls<br />As seen is assets.pk4/maps/game/global/<br />This is a compilation of a lot of different decl files. <br />As mentioned, Csimbi made a tool for this, but I was hoping for an improved version as his outputs in a way that can rebuild the .decls (which we don't really need imho), rather than in a way that can be worked with.<br /><br />I'll have to get up all my poking and prodding onto modwiki<br />Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p218246" date="Posted: Thu Sep 03, 2009 3:33 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div><br /><br />I did but not anymore. I spent the last two weeks or so writing a Python bot to screen scrape the recent changes list, determine which new articles are spam, present me with the results, and then wait for my confirmation before taking action.<br /><br />This morning at 4:48am an anti-spam bot was born...<br /><br /><a href="https://web.archive.org/web/20130320003153/http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0" class="postlink">http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0</a><br /><br />... and as you can see, PyBot is doing his new job very well. <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_twisted.gif" alt=":twisted:" title="Twisted Evil" /></div>]]></body></post><post id="p218256" date="Posted: Thu Sep 03, 2009 1:04 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">is there  a way to extract - hear the sounds files , spk  files ?<br />I would like to mod the game so that the nazis npc speak german.<br />I mean only for the german soldiers during fights, I think it would add to the atmosphere .. <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />pretty much like crysis on delta difficulty where the koreans actually speaks korean<br />allies and everything else remains english. <br />I already have the germans speech files, problem is I have to go through every sound file to discover which files are for npc only ...<br /><br />nevermind Bellox tool is working pretty well, thanx Bellox !<br />now I have to test it, let me know if interest is there,  I might upload it here once I am done with it ...</div>]]></body></post><post id="p218269" date="Posted: Thu Sep 03, 2009 11:47 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">@vertex007 of course i'm interested, i'm think these english tracks with german accent sound entirely stupid <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /></div>]]></body></post><post id="p218311" date="Posted: Sat Sep 05, 2009 11:02 am "><author>Megazoid</author><body><![CDATA[<div class="postbody">Hi. I just wanted to say thanks for the unpacker <span style="font-weight: bold">bellox902</span>, it was very useful and simple to use. Have you considered a re-packer at all, or is that not possible with the available information?<br /><br /><span style="font-weight: bold">vertex007</span>: Sound like a cool idea  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /></div>]]></body></post><post id="p218313" date="Posted: Sat Sep 05, 2009 11:11 am "><author>vertex007</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Megazoid wrote:</div><div class="quotecontent">Have you considered a re-packer at all, or is that not possible with the available information?<br /></div><br /><br />yes a re-packer would be great, I was working on that language mod and was like 80% done but due to the structure of some spk content I can´t really finish it properly without a working repacker.<br />so far it is working good but then  suddenly the germans start to  speak english again on some maps/situations things get mixed up ...</div>]]></body></post><post id="p218324" date="Posted: Sat Sep 05, 2009 2:14 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">i'll see what i can do, but i'll need a little time</div>]]></body></post><post id="p218423" date="Posted: Wed Sep 09, 2009 1:05 am "><author>Sebultura</author><body><![CDATA[<div class="postbody">blah</div>]]></body></post><post id="p218605" date="Posted: Sat Sep 12, 2009 2:51 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@vertex007 ok, i tried to add packing functionality for mp3 files, but i have only tested it with one sound file in the game, so if you have any trouble, let me know<br />greetings, enjoy</div>]]></body></post><post id="p218611" date="Posted: Sat Sep 12, 2009 8:28 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks  bellox902  for the update !<br />I just ran your mp3 packer and it seems to work flawlessly !<br />good job !<br /><br />now I can complete the mod<br /><br />thanks again</div>]]></body></post><post id="p218635" date="Posted: Sun Sep 13, 2009 12:46 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">to bellox902, Megazoid and  all whom it may concern, the Language mod is now completed and can be downloaded here:<br /><br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20130320003153/http://www.doom3world.org/phpbb2/viewtopic.php?f=68&amp;t=23136">viewtopic.php?f=68&amp;t=23136</a><!-- l --><br /><br />see Language Pack <br /><br />enjoy</div>]]></body></post><post id="p218661" date="Posted: Sun Sep 13, 2009 8:55 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">good job double-o-seven  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p218708" date="Posted: Mon Sep 14, 2009 9:52 pm "><author>FireFly</author><body><![CDATA[<div class="postbody">Nice job vertex007, I've added a mirror for your language pack here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.wolfedit.com/files/wolf/mods/mods.html">http://www.wolfedit.com/files/wolf/mods/mods.html</a><!-- m --><br /><br />@bellox902 : Would it be possible to create a re-packer for the textures ( dds) files also ? This way we could create our own skin mods or even change the whole atmosphere of the game...  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p218709" date="Posted: Mon Sep 14, 2009 10:45 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks FireFly  <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />I just checked your mirrors, Language Pack is ok but if you click on Wolf Redux you get Risk a4 instead, just saying ..<br />also if you click on Forums from the download site you get an Error 404.<br />but cool site you got there, keep up the good work !<br />cheers</div>]]></body></post><post id="p218714" date="Posted: Tue Sep 15, 2009 8:27 am "><author>FireFly</author><body><![CDATA[<div class="postbody">Errors should be fixed now  <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  Thanks for the feedback.</div>]]></body></post><post id="p218718" date="Posted: Tue Sep 15, 2009 9:26 am "><author>vertex007</author><body><![CDATA[<div class="postbody">perfect !<br />no problem, mate, shit happens !<br />thanks again for the mirrors</div>]]></body></post><post id="p218822" date="Posted: Fri Sep 18, 2009 2:39 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@FireFly wow, you people here are really ambitious, but i'll see what i can do <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br />I think repacking textures might not be that easy, since the spk/mpk-files that contain textures also contain other chunks.<br />The best solution would probably be to unpack the raw chunks, only modify the necessary ones and repack them with the other chunks.<br />I was also thinking of making a gui which shows the images (have allready implemented dxtn decompression) so they can just be replaced in the program, this would leave less room for errors.</div>]]></body></post><post id="p220511" date="Posted: Sun Nov 22, 2009 1:32 am "><author>pe.si.cha</author><body><![CDATA[<div class="postbody">I have decompress a file english.spk. I make change in fonts on cz.<br />I need compress all files on file english. spk.  Is it posible?<br />Can You send me any software?</div>]]></body></post><post id="p218181" date="Posted: Wed Sep 02, 2009 12:04 am "><author>TinMan</author><body><![CDATA[<div class="postbody">As posted in a previous thread, people have been banging away at various wolf file formats at xentax.com, the first tool by Csimbi was for the global decls format, which let me pull a couple of files and to switch off that system :p<br /><br />Another major format is stream packs (.mpk,.spk), which pretty much store everything heh.<br />Anyway, asmxtx has a tool here:<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://forum.xentax.com/viewtopic.php?f=10&amp;t=3081&amp;st=0&amp;sk=t&amp;sd=a&amp;start=148">http://forum.xentax.com/viewtopic.php?f ... &amp;start=148</a><!-- m --><br /><br />It seems to do good, however some of his file extensions are wrong, and others incomplete.<br /><br />Edit: Bellox also has a tool with gui here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.daedalus-tools.mx.tc/">http://www.daedalus-tools.mx.tc/</a><!-- m -->, you can see his post in this thread.<br /><br />Now for recurring frustration, the xentax forums require an admin to activate your account when you registered, and from what I hear that happening is neither constant or punctual, so despite having register a few days ago I can't post.<br />Beyond the fact that I can't thank Csimbi and asmxtx , I also can't post the correct and complete the file extension information that asmxtx hasn't been able to.<br /><br />So here's the corrections, completions and information.<br /><br />.!!!AASS!!! = .aas28<br />Our old friend aas files, there's only one type in Wolf, and are based on a 28x28x24 bounding box.<br />Confirmation: assets.pk4/def/ai/aas.def, and the aas file itself contains:<br />fileExtension = "aas28"<br />Nice.<br /><br />.entities = .emap<br />It seems asmxtx took the wrong pointers from WolfMP which is based on the ETQW branch of idTech4, even though it does have some tech merged from wolf sp, mainly the md5r model format, it's apparent the the entities are different file formats. WolfMPs is ascii (same as etqw), Wolf sp is binary (the file even contain the text "binary entities" ).<br />Confirmation: The console points out - "loaded .map file maps/game/trainyard/trainyard.emap" etc.<br /><br />.!!!HKXA!!! = ??<br />In one of the files - hkaAnimationContainer<br />.!!!HKXR!!! = ??<br />In one of the files - hkaRagdollInstance<br />.!!!HKXS!!! = ??<br />Somewhat of a mystery, if not for below I'd assume skeleton, looking at it's references to shapes and physics I'm guessing it's the collision model for havok.<br />.!!!SKEL!!! = ???<br />Assuming skeleton for animated models from the name, looking at file it is havok data.<br /><br />All of the above referenced via same .hkx (except .skel) in .def files, which correspond to label in stream pack for each chunk that corresponds to the seperate .hkxwhatever files.<br />example "models/characters/_humanoid_male/humanoid_male.hkx", these are referenced for anims, clipmodels and skeletons. Havok data seems to have taken over some of the idTech4 stuff, md5anim, collision model.<br />I assume .hkx is a format that contains all of the above havok data, but in this case is split for file streamer.<br /><br />.MD5R<br />Yes, Ravens evolution of MD5mesh, Wolf MP seems to have inherited this format, no doubt for ease of transfer of assets from SP to MP.<br /><br />.procb = .proc (unshure)<br />.procb is definately for WolfMP, inherited from ETQW proc binary, however looking at the two file formats we see an amusing reversal of the entities situation, wolf sp proc is ascii.<br />The file contains:<br />MD5RProcVersion 7<br />also<br />file "hospital_vb1.MD5RBin" - many references to different md5rbins<br />Seems a great advancment off idTech4s .proc files, instead of including models within the proc as ascii it references a md5rbin.<br />So, extension? Who knows, I'm guessing still .proc<br /><br />====<br />AAS Musings.<br />With most humanoid in wolf, using the 28x28 would be fine, but you see it running into troubles with the sniffers and the particle cannon soldiers - don't quote me on that though (yet), i'd have to take a closer look.<br />Doom 3s smallest aas bounds is 48x48x82, Quake4s 32x32x79, Qwars is 32x32x79<br />I guess the closer size is to get close cover points  - I haven't checked the actual bounds of any of the actors yet.<br />The low z bound (24) is obviously for the few spots where sniffers come out of crawlspaces, but again it's a potential for navigation troubles.<br />It's really a trade off for aas sizes that fit the majority of your actors bounds and the amount of memory you want to spend, each new aas type is a new aas map.</div>]]></body></post><post id="p218191" date="Posted: Wed Sep 02, 2009 5:24 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Are the folks over there documenting the specifications for these archive types or distributing their tools as open source? Also, has anyone tried these console commands...<br /><br /><div class="quotetitle">www.modwiki.net wrote:</div><div class="quotecontent">compileStreamPack 	 compiles a single stream pack/asl file<br />compileStreamPacks 	compiles all stream pack/asl files in a given dir tree </div><br /><br />It might be possible to roll your own packs via the console.</div>]]></body></post><post id="p218194" date="Posted: Wed Sep 02, 2009 8:47 am "><author>AnthonyJa</author><body><![CDATA[<div class="postbody">Also linked in that forum post is another tool, written in C# and released as GPL - see here: <a href="https://web.archive.org/web/20130320003153/http://daedalus-tools.mx.tc/" class="postlink">http://daedalus-tools.mx.tc/</a>. Looks much more user friendly than the DOS mode thing the other guy has done <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";)" title="Wink" /></div>]]></body></post><post id="p218218" date="Posted: Wed Sep 02, 2009 6:23 pm "><author>parsonsbear</author><body><![CDATA[<div class="postbody">Interesting- any idea what md5r adds to the format? I get the impression there's LOD models packed in now?</div>]]></body></post><post id="p218226" date="Posted: Wed Sep 02, 2009 8:21 pm "><author>Sikkpin</author><body><![CDATA[<div class="postbody">TinMan, I can't say anything for sure, but I believe that the files in the assets.pk4 are incomplete/different and are not the latest files like those that are in the stream packs, so I wouldn't assume things like only one aas size and things like that. I get this from the fact that a lot of the entities in the defs (mainly triggers and targets) are invalid and cannot be spawned. My guess is the assets.pk4 is probably something the should have been removed or is a placeholder of some kind for when/if the sdk comes out giving us the full assets.pk4. Or I might be completely wrong.</div>]]></body></post><post id="p218230" date="Posted: Wed Sep 02, 2009 9:14 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks Rich, Anthony, one of my weaknesses is I often skim over some things that I should have noted for further investigation. Anyhoo I've sent an email the that tools guy. <br />I'll poke away at the tool source, I haven't really done any file format stuff before (having being insulated it by having most of my programming done in the confines of idtech4), but it is something I want to rectify and this at least is a starting example.<br />I'll have a poke at compileStreamPack when I have a chance too.<br /><br />Sikkpin:<br />The ones that can't be spawned seem to be due to the spawn packs with the assets not being loaded, you can test this by spawning stuff that doesn't load in one map in a another where that entity has an instance due to being placed in a map.<br />I do agree with some files not being in assets though, they are likely in the .decls files in the map streampacks.<br />And from the few files I've checked from a extracted globals.decls the decls in assets.pk4 are the same.<br />Also with the current state of the .decls extraction tool I can't really confirm if there's some more files in that that aren't in assets.pk4, the fonts files were a lucky break in a sense.</div>]]></body></post><post id="p218232" date="Posted: Wed Sep 02, 2009 9:50 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@TinMan i'm glad at least one person knows some of these mysterious file extensions, i'll correct them in my tool @ <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://daedalus-tools.mx.tc/">http://daedalus-tools.mx.tc/</a><!-- m --><br />thx<br /><br />because of the spk/mpk file format: each file starts with a magic number (4 bytes), then come 1-n chunks...<br /><br />each chunk consists of a magic number referring to the format (4 bytes), the uncompressed size (4 bytes), the compressed size (4 bytes) and then a zlib-compressed block (sizes only refer to this block)...<br /><br />each block (uncompressed) contains a file table and then the files:<br />the file table contains a bunch of 0-terminated strings (path + filename) and after each string 2x the size of the corresponding file (2x 4 bytes)<br /><br />the files themselves are always aligned to 4-byte boundaries, the padding bytes are somehow not always 0, which i dont understand <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":-(" title="Sad" /><br /><br />if you run into trouble, look in my sourcecode <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /><br />hope i got everything right <br /><br />hope it helps, enjoy</div>]]></body></post><post id="p218236" date="Posted: Wed Sep 02, 2009 10:41 pm "><author>TinMan</author><body><![CDATA[<div class="postbody">Thanks bellox, was just looking through your source now, big points for the references to modwiki <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Also<br />BRAI = .brain<br />referenced in various defs<br />"brain" "common/cinematic_trigger.brain"<br />It's looking like a graph (again with disclaimer of little experiece with different file formats) for the previously guessed at behaviour tree/task network.<br /><br />PBBF<br />This is an odd one, you are giving them md5rbin extension, it seems right, the filenames seem to match those in .proc<br />On the flipside there's mention of playback files, which would match the magic number, various mentions of playback in console cvars and cmds. "listPlaybacks lists playback decls". <br />This system was also in Quake 4 but I never looked at the system myself.<br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29">http://www.modwiki.net/wiki/PLAYBACK_%28file_format%29</a><!-- m --><br />It certainly doesn't seem to be what's output anyhoo.<br />I can't find evidence of playbacks being used/referenced however.<br />One theory they stopped using it at some point and just reused the magic number for md5rbin without renaming it, odd but the only thing I can think of to explain it.<br /><br />DECL = .decls<br />As seen is assets.pk4/maps/game/global/<br />This is a compilation of a lot of different decl files. <br />As mentioned, Csimbi made a tool for this, but I was hoping for an improved version as his outputs in a way that can rebuild the .decls (which we don't really need imho), rather than in a way that can be worked with.<br /><br />I'll have to get up all my poking and prodding onto modwiki<br />Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p218246" date="Posted: Thu Sep 03, 2009 3:33 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody"><div class="quotetitle">TinMan wrote:</div><div class="quotecontent">Rich, looks like you were having a rough time with spammers <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div><br /><br />I did but not anymore. I spent the last two weeks or so writing a Python bot to screen scrape the recent changes list, determine which new articles are spam, present me with the results, and then wait for my confirmation before taking action.<br /><br />This morning at 4:48am an anti-spam bot was born...<br /><br /><a href="https://web.archive.org/web/20130320003153/http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0" class="postlink">http://www.modwiki.net/w/index.php?title=Special:Recentchanges&amp;hidebots=0</a><br /><br />... and as you can see, PyBot is doing his new job very well. <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_twisted.gif" alt=":twisted:" title="Twisted Evil" /></div>]]></body></post><post id="p218256" date="Posted: Thu Sep 03, 2009 1:04 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">is there  a way to extract - hear the sounds files , spk  files ?<br />I would like to mod the game so that the nazis npc speak german.<br />I mean only for the german soldiers during fights, I think it would add to the atmosphere .. <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />pretty much like crysis on delta difficulty where the koreans actually speaks korean<br />allies and everything else remains english. <br />I already have the germans speech files, problem is I have to go through every sound file to discover which files are for npc only ...<br /><br />nevermind Bellox tool is working pretty well, thanx Bellox !<br />now I have to test it, let me know if interest is there,  I might upload it here once I am done with it ...</div>]]></body></post><post id="p218269" date="Posted: Thu Sep 03, 2009 11:47 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">@vertex007 of course i'm interested, i'm think these english tracks with german accent sound entirely stupid <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=";-)" title="Wink" /></div>]]></body></post><post id="p218311" date="Posted: Sat Sep 05, 2009 11:02 am "><author>Megazoid</author><body><![CDATA[<div class="postbody">Hi. I just wanted to say thanks for the unpacker <span style="font-weight: bold">bellox902</span>, it was very useful and simple to use. Have you considered a re-packer at all, or is that not possible with the available information?<br /><br /><span style="font-weight: bold">vertex007</span>: Sound like a cool idea  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /></div>]]></body></post><post id="p218313" date="Posted: Sat Sep 05, 2009 11:11 am "><author>vertex007</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Megazoid wrote:</div><div class="quotecontent">Have you considered a re-packer at all, or is that not possible with the available information?<br /></div><br /><br />yes a re-packer would be great, I was working on that language mod and was like 80% done but due to the structure of some spk content I can´t really finish it properly without a working repacker.<br />so far it is working good but then  suddenly the germans start to  speak english again on some maps/situations things get mixed up ...</div>]]></body></post><post id="p218324" date="Posted: Sat Sep 05, 2009 2:14 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">i'll see what i can do, but i'll need a little time</div>]]></body></post><post id="p218423" date="Posted: Wed Sep 09, 2009 1:05 am "><author>Sebultura</author><body><![CDATA[<div class="postbody">blah</div>]]></body></post><post id="p218605" date="Posted: Sat Sep 12, 2009 2:51 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@vertex007 ok, i tried to add packing functionality for mp3 files, but i have only tested it with one sound file in the game, so if you have any trouble, let me know<br />greetings, enjoy</div>]]></body></post><post id="p218611" date="Posted: Sat Sep 12, 2009 8:28 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks  bellox902  for the update !<br />I just ran your mp3 packer and it seems to work flawlessly !<br />good job !<br /><br />now I can complete the mod<br /><br />thanks again</div>]]></body></post><post id="p218635" date="Posted: Sun Sep 13, 2009 12:46 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">to bellox902, Megazoid and  all whom it may concern, the Language mod is now completed and can be downloaded here:<br /><br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20130320003153/http://www.doom3world.org/phpbb2/viewtopic.php?f=68&amp;t=23136">viewtopic.php?f=68&amp;t=23136</a><!-- l --><br /><br />see Language Pack <br /><br />enjoy</div>]]></body></post><post id="p218661" date="Posted: Sun Sep 13, 2009 8:55 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">good job double-o-seven  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p218708" date="Posted: Mon Sep 14, 2009 9:52 pm "><author>FireFly</author><body><![CDATA[<div class="postbody">Nice job vertex007, I've added a mirror for your language pack here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20130320003153/http://www.wolfedit.com/files/wolf/mods/mods.html">http://www.wolfedit.com/files/wolf/mods/mods.html</a><!-- m --><br /><br />@bellox902 : Would it be possible to create a re-packer for the textures ( dds) files also ? This way we could create our own skin mods or even change the whole atmosphere of the game...  <img src="https://web.archive.org/web/20130320003153im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p218709" date="Posted: Mon Sep 14, 2009 10:45 pm "><author>vertex007</author><body><![CDATA[<div class="postbody">thanks FireFly  <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br />I just checked your mirrors, Language Pack is ok but if you click on Wolf Redux you get Risk a4 instead, just saying ..<br />also if you click on Forums from the download site you get an Error 404.<br />but cool site you got there, keep up the good work !<br />cheers</div>]]></body></post><post id="p218714" date="Posted: Tue Sep 15, 2009 8:27 am "><author>FireFly</author><body><![CDATA[<div class="postbody">Errors should be fixed now  <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  Thanks for the feedback.</div>]]></body></post><post id="p218718" date="Posted: Tue Sep 15, 2009 9:26 am "><author>vertex007</author><body><![CDATA[<div class="postbody">perfect !<br />no problem, mate, shit happens !<br />thanks again for the mirrors</div>]]></body></post><post id="p218822" date="Posted: Fri Sep 18, 2009 2:39 pm "><author>bellox902</author><body><![CDATA[<div class="postbody">hi<br />@FireFly wow, you people here are really ambitious, but i'll see what i can do <img src="https://web.archive.org/web/20130320002438im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":-)" title="Smile" /><br />I think repacking textures might not be that easy, since the spk/mpk-files that contain textures also contain other chunks.<br />The best solution would probably be to unpack the raw chunks, only modify the necessary ones and repack them with the other chunks.<br />I was also thinking of making a gui which shows the images (have allready implemented dxtn decompression) so they can just be replaced in the program, this would leave less room for errors.</div>]]></body></post><post id="p220511" date="Posted: Sun Nov 22, 2009 1:32 am "><author>pe.si.cha</author><body><![CDATA[<div class="postbody">I have decompress a file english.spk. I make change in fonts on cz.<br />I need compress all files on file english. spk.  Is it posible?<br />Can You send me any software?</div>]]></body></post></posts></thread></xml>
