<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="26460"><title>Evenly lighting a room</title><posts><post id="p246053" date="Posted: Fri Jan 11, 2013 2:40 am "><author>Jx423</author><body><![CDATA[<div class="postbody">I need some help evenly lighting a white room.<br /><br />When I use a point-light, I get hotspots on the wall. I tried to mitigate this problem by lowering the brightness, but this caused the room to look like a grey-scale gradient, which is not the look I want.<br /><br />I think the solution might be parallel lights, but I am not sure how to use these. Every attempt just ends in confusion or frustration, even after reading the Katsbit's page on parallel lights.<br /><br />How can I use the lighting to get an evenly lit room? (I am using a white texture for the room.)</div>]]></body></post><post id="p246054" date="Posted: Fri Jan 11, 2013 3:28 am "><author>motorsep</author><body><![CDATA[<div class="postbody">Add an extra stage to your white material:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br /> blend add<br /> map textures/my_white_room_texture.tga<br /> rgb 5.0 // varying that value you can make your texture appear fullbright <br />}</div></div>]]></body></post><post id="p246055" date="Posted: Fri Jan 11, 2013 5:16 am "><author>Jx423</author><body><![CDATA[<div class="postbody"><div class="quotetitle">motorsep wrote:</div><div class="quotecontent">Add an extra stage to your white material:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br /> blend add<br /> map textures/my_white_room_texture.tga<br /> rgb 5.0 // varying that value you can make your texture appear fullbright <br />}</div></div><br /><br /><br />I take it I am supposed to add this to the .mtr file. Is there a way to know whether or not it worked?<br /><br />Also, once I successfully change the code, what would be the best way to light the room?<br /><br />Thanks for the help.</div>]]></body></post><post id="p246056" date="Posted: Fri Jan 11, 2013 5:34 am "><author>motorsep</author><body><![CDATA[<div class="postbody">Yeah, that's for material.<br /><br />Let's say you have materials/white_color.mtr decl which contains following material declaration:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/white_rooms/white_color<br />{<br />   {<br />      blend diffusemap<br />      map textures/white_rooms/white.tga<br />   }<br />}</div><br /><br />when you add second stage, it'll look like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/white_rooms/white_color<br />{<br />   {<br />      blend diffusemap<br />      map textures/white_rooms/white.tga<br />   }<br />   {<br />      blend add<br />      map textures/white_rooms/white.tga<br />      rgb 5.0<br />   }<br />}</div><br /><br />It's not code per se, it's how materials are defined for idTech 3 an idTech 4 engines.<br /><br />You still need light to have shadows cast by the models/brushes and you probably want to make that light with "nodiffuse" "1" and "nospecular" "1" so it won't interfere with your fullbright room. So the light source will only allow for shadows to be cast. If you are going to have models in that room (and if your whole game will be made with such levels) you might want to have every material with such second stage. Or you can add ambient lights into your levels to make have lighting on models to go along with the overall style of the levels.</div>]]></body></post><post id="p246067" date="Posted: Fri Jan 11, 2013 9:13 am "><author>smurkenstein</author><body><![CDATA[<div class="postbody">Its been a very long time since I edited in doom, but can't you just float a few lights in the room, above head height, not too bright, obviously don't use a model as you'll see it floating there. Tweak the position/luminosity/colour switches to make it nice and even.</div>]]></body></post><post id="p246068" date="Posted: Fri Jan 11, 2013 9:17 am "><author>motorsep</author><body><![CDATA[<div class="postbody">It all depends on his art style. The less lights, especially moving ones, the better for performance.</div>]]></body></post><post id="p246070" date="Posted: Fri Jan 11, 2013 10:17 am "><author>bkt</author><body><![CDATA[<div class="postbody"><a href="https://web.archive.org/web/20130320004028/http://www.katsbits.com/tutorials/idtech/dynamic-outdoor-lighting-techniques.php" class="postlink">Kat's bits tut using parallel lights</a>.</div>]]></body></post><post id="p246071" date="Posted: Fri Jan 11, 2013 1:43 pm "><author>Tron</author><body><![CDATA[<div class="postbody">If you're feeling really energetic, follow the technique that Lunaran used for his Q4 map Strombine:<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320004028/http://lunaran.com/page.php?id=165">http://lunaran.com/page.php?id=165</a><!-- m --></div>]]></body></post><post id="p246074" date="Posted: Fri Jan 11, 2013 4:20 pm "><author>aphexjh</author><body><![CDATA[<div class="postbody">I have found 2 methods useful, if I am going to divorce myself from ambient lights (which i think can still be acceptable if used subtly, especially as seen in strombine). <br /><br />The first method involves 2 lights:<br />- <span style="font-weight: bold">1 point light</span> which <span style="font-weight: bold">casts shadows</span> (this can also be a directional light if desired, and should originate from the light source) <br /><br />- <span style="font-weight: bold">1 directional light</span> which <span style="font-weight: bold">does not cast shadows</span> (this should originate or mimic the direction of the major reflecting surface of your choice, for instance the floor)<br /><br /><img src="https://web.archive.org/web/20130320004028im_/http://i45.tinypic.com/2ln8x8p.jpg" alt="Image" /><br /><br />The second method is essentially identical to the first, although i think it offers more versatility in lighting because i tend to think that point lights look better than directional ones.  It basically entails changing the second light to a point light and moving the origin to a position which represents the major reflecting light source. To be clear it requires: <br /><br />- <span style="font-weight: bold">1 point light</span> which <span style="font-weight: bold">casts shadows</span> (this can also be a directional light if desired, and should originate from the light source) <br /><br />- <span style="font-weight: bold">1 point light</span> which <span style="font-weight: bold">does not cast shadows</span> (this should originate or mimic the direction of the major reflecting surface of your choice, for instance the floor)<br /><br /><img src="https://web.archive.org/web/20130320004028im_/http://i45.tinypic.com/22c2aa.jpg" alt="Image" /><br /><br />In either case <span style="font-weight: bold">the second light</span>, which simulates reflected light, should be at most <span style="font-weight: bold">half the brightness of the main light source</span>.  Which means you should change the second and non-shadow casting light to a <span style="font-weight: bold">dark grey</span> (or another dark color, for instance a dark brown might be appropriate in a cave with dirt floors).</div>]]></body></post><post id="p246079" date="Posted: Fri Jan 11, 2013 8:14 pm "><author>Jx423</author><body><![CDATA[<div class="postbody"><div class="quotetitle">motorsep wrote:</div><div class="quotecontent">Yeah, that's for material.<br /><br />Let's say you have materials/white_color.mtr decl which contains following material declaration:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/white_rooms/white_color<br />{<br />   {<br />      blend diffusemap<br />      map textures/white_rooms/white.tga<br />   }<br />}</div><br /><br />when you add second stage, it'll look like this:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/white_rooms/white_color<br />{<br />   {<br />      blend diffusemap<br />      map textures/white_rooms/white.tga<br />   }<br />   {<br />      blend add<br />      map textures/white_rooms/white.tga<br />      rgb 5.0<br />   }<br />}</div><br /><br />It's not code per se, it's how materials are defined for idTech 3 an idTech 4 engines.<br /><br />You still need light to have shadows cast by the models/brushes and you probably want to make that light with "nodiffuse" "1" and "nospecular" "1" so it won't interfere with your fullbright room. So the light source will only allow for shadows to be cast. If you are going to have models in that room (and if your whole game will be made with such levels) you might want to have every material with such second stage. Or you can add ambient lights into your levels to make have lighting on models to go along with the overall style of the levels.</div><br /><br />Right now, I have a .mtr file with all of my custom textures. The part with my white texture information reads:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/custom/white<br />{<br />   diffusemap   textures/custom/white_d.tga<br />   <br /><br />}</div><br /><br />Your code seems to have a segment which refers to a specific map. My map is named "white". I am not sure if I am supposed to include another step that refers to this map of what.<br /><br />So with my code, how exactly would everything read after following your instructions?</div>]]></body></post><post id="p246080" date="Posted: Fri Jan 11, 2013 8:17 pm "><author>motorsep</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Jx423 wrote:</div><div class="quotecontent">Right now, I have a .mtr file with all of my custom textures. The part with my white texture information reads:<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/custom/white<br />{<br />   diffusemap   textures/custom/white_d.tga<br />   <br /><br />}</div><br /><br />Your code seems to have a segment which refers to a specific map. My map is named "white". I am not sure if I am supposed to include another step that refers to this map of what.</div><br /><br />diffusemap	textures/custom/white_d.tga is a shortcut for:<br /><br />blend diffusemap<br />map textures/custom/white_d.tga<br /><br />This way if you don't need to do any "magic" with your diffuse stage, you can save yourself time by using shortcut.<br /><br /><div class="quotetitle">Jx423 wrote:</div><div class="quotecontent">So with my code, how exactly would everything read after following your instructions?</div><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">textures/custom/white<br />{<br />       diffusemap   textures/custom/white_d.tga<br />       {<br />             blend add<br />             map textures/custom/white_d.tga<br />             rgb 5.0<br />       }<br />}</div></div>]]></body></post><post id="p246081" date="Posted: Fri Jan 11, 2013 8:56 pm "><author>Jx423</author><body><![CDATA[<div class="postbody">Perfect.<br /><br />I keep seeing 'ambient' lights mentioned. Can you explain to me what these are?</div>]]></body></post><post id="p246082" date="Posted: Fri Jan 11, 2013 9:04 pm "><author>motorsep</author><body><![CDATA[<div class="postbody">Pretty informative:<br /><!-- l --><a class="postlink-local" href="https://web.archive.org/web/20130320004028/http://www.doom3world.org/phpbb2/viewtopic.php?f=39&amp;t=21230&amp;start=0&amp;st=0&amp;sk=t&amp;sd=a&amp;hilit=ambient+light">viewtopic.php?f=39&amp;t=21230&amp;start=0&amp;st=0&amp;sk=t&amp;sd=a&amp;hilit=ambient+light</a><!-- l --><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20130320004028/http://www.trisoup.net/temp/d3ambient/">http://www.trisoup.net/temp/d3ambient/</a><!-- m --></div>]]></body></post><post id="p246084" date="Posted: Sat Jan 12, 2013 12:50 am "><author>rebb</author><body><![CDATA[<div class="postbody">Since there's not that much info on what ambient lights actually are in those links and modwiki seems to be down :<br /><br />Ambient lights are a special type of light in Doom3 specifically made for "evenly lighting" an area.<br />They behave sort of like standard lights without shadowcasting, except they have no actual origin from where the light emanates - their look depends a lot on the lightImage / lightFalloffImage and how they are implemented in the lighting shader of the game.<br /><br />Unfortunately they are pretty ugly in stock Doom3, so if you want to use them you will probably need a shader mod or an adjusted binary based on the source releases, to improve their look.</div>]]></body></post><post id="p246140" date="Posted: Tue Jan 15, 2013 8:39 pm "><author>Jx423</author><body><![CDATA[<div class="postbody"><div class="quotetitle">rebb wrote:</div><div class="quotecontent">Since there's not that much info on what ambient lights actually are in those links and modwiki seems to be down :<br /><br />Ambient lights are a special type of light in Doom3 specifically made for "evenly lighting" an area.<br />They behave sort of like standard lights without shadowcasting, except they have no actual origin from where the light emanates - their look depends a lot on the lightImage / lightFalloffImage and how they are implemented in the lighting shader of the game.<br /><br />Unfortunately they are pretty ugly in stock Doom3, so if you want to use them you will probably need a shader mod or an adjusted binary based on the source releases, to improve their look.</div><br /><br />Where are they located in the editor?</div>]]></body></post><post id="p246141" date="Posted: Tue Jan 15, 2013 9:22 pm "><author>chimueloeldragon2011</author><body><![CDATA[<div class="postbody">Just create a light and then open the light editor (J)<br />From the list select lights/ambientlight, they're at the top below the fog lights</div>]]></body></post><post id="p246147" date="Posted: Wed Jan 16, 2013 4:32 am "><author>nbohr1more</author><body><![CDATA[<div class="postbody">One thing that hasn't been mentioned is that truly flat lighting requires a that there be no falloff for either XY or Z. There are lights materials with "nofalloff" that are specifically for that type of lighting whether ambient or standard. Or you can make your own using the "_white" dynamic internal image for both the projection image and falloff image.</div>]]></body></post><post id="p246148" date="Posted: Wed Jan 16, 2013 4:49 am "><author>motorsep</author><body><![CDATA[<div class="postbody">You don't really need lights for flat lighting. Why waste resources and you can cheat and have same visuals <img src="https://web.archive.org/web/20130320004028im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p246223" date="Posted: Mon Jan 21, 2013 10:00 pm "><author>Jx423</author><body><![CDATA[<div class="postbody"><div class="quotetitle">chimueloeldragon2011 wrote:</div><div class="quotecontent">Just create a light and then open the light editor (J)<br />From the list select lights/ambientlight, they're at the top below the fog lights</div><br /><br />Thanks</div>]]></body></post></posts></thread></xml>
