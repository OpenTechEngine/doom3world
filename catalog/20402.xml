<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="20402"><title>Muzzle flash and smoke</title><posts><post id="p187277" date="Posted: Sat Aug 25, 2007 12:22 pm "><author>wal</author><body><![CDATA[<div class="postbody">I really need to be able to skin the muzzle flash and smoke so I can hide them but it doesn't seem to be possible. I thought about doing it with an emitter and binding it to the muzzle joint but would that help? I take it a skin wont effect that either, but maybe it could be turned on or off when needed? If this is right, how would it be achieved. Never done anything with emitters before.</div>]]></body></post><post id="p187293" date="Posted: Sat Aug 25, 2007 7:32 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">The bad news is that you cannot bind an emitter to the weapon...  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>]]></body></post><post id="p187341" date="Posted: Sun Aug 26, 2007 8:54 pm "><author>ajm113</author><body><![CDATA[<div class="postbody">I don't think the textures area has any thing that would be good for a flash grenade in the first place and it won't kill you to take a look around in the .prt area. <br /><br />Just make a new .ptr file and just go where the grenade explosion in some other .ptr is and just copy and paste it in your new file and rename the title to something else in the code.<br /><br />Then create a test map first that will trigger the func_emitter with your effect and play around with it until you get a good effect. That is how I do it when I am trying to create new emitters. <br /><br />Then when you get a good effect going, just create a mod and copy the gernade.def file place it in your mod's def folder and open the file up and change the explosion effect to your flash. Just look at the comments in the .def area.<br /><br />Safe, Clean, Fun.</div>]]></body></post><post id="p193619" date="Posted: Mon Jan 07, 2008 10:03 pm "><author>wal</author><body><![CDATA[<div class="postbody">I made a manual muzzlesmoke thread if anyone wants it. Just give it key:smoke val:whatever.prt. It works well but I'd like to trim it because it's causing an overflow. How do I tell it to just add one every time. I assume it's all the checks that are slowing it down because it's exactly the same as before on screen.<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">void weapon_plasmagun::Fire() {<br />   float currentTime;<br />   float ammoClip = ammoInClip();<br />   float number = 1;<br />   entity owner = getOwner();<br />   entity weapon_ent = owner.getWeaponEntity();<br />   entity particle1 = sys.spawn( "func_emitter" );<br />   entity particle2 = sys.spawn( "func_emitter" );<br />   entity particle3 = sys.spawn( "func_emitter" );<br />   entity particle4 = sys.spawn( "func_emitter" );<br />   entity particle5 = sys.spawn( "func_emitter" );<br />   entity particle6 = sys.spawn( "func_emitter" );<br />   entity particle7 = sys.spawn( "func_emitter" );<br />   entity particle8 = sys.spawn( "func_emitter" );<br />   string fx = getKey( "smoke" );<br />   vector org = weapon_ent.getJointPos( weapon_ent.getJointHandle ( "barrel" ) );<br />   next_attack = sys.getTime() + PLASMAGUN_FIRERATE;<br />   sys.setSpawnArg( "model", fx );<br /><br />   if ( ammoClip == PLASMAGUN_LOWAMMO ) {<br />      startSound( "snd_lowammo", SND_CHANNEL_ITEM, true );<br />   }<br />   if ( number == 1 ) {<br />      particle1.setOrigin( org );<br />      particle1.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 2;<br />   } else if ( number == 2 ) {<br />      particle2.setOrigin( org );<br />      particle2.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 3;<br />   } else if ( number == 3 ) {<br />      particle3.setOrigin( org );<br />      particle3.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 4;<br />   } else if ( number == 4 ) {<br />      particle4.setOrigin( org );<br />      particle4.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 5;<br />   } else if ( number == 5 ) {<br />      particle5.setOrigin( org );<br />      particle5.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 6;<br />   } else if ( number == 6 ) {<br />      particle6.setOrigin( org );<br />      particle6.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 7;<br />   } else if ( number == 7 ) {<br />      particle7.setOrigin( org );<br />      particle7.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 8;<br />   } else if ( number == 8 ) {<br />      particle8.setOrigin( org );<br />      particle8.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      number = 1;<br />   }<br />   launchProjectiles( PLASMAGUN_NUMPROJECTILES, spread, 0, 1.0, 1.0 );<br />   playAnim( ANIMCHANNEL_ALL, "fire" );<br /><br />   while( !animDone( ANIMCHANNEL_ALL, PLASMAGUN_FIRE_TO_IDLE ) ) {<br />      currentTime = sys.getTime();<br />      ammoClip = ammoInClip();<br />      if ( ( currentTime &gt;= next_attack ) &amp;&amp; WEAPON_ATTACK &amp;&amp; ( ammoClip &gt; 0 ) ) {<br />         weaponState( "Fire", 0 );<br />      }<br />      waitFrame();<br />   }<br />   weaponState( "Idle", PLASMAGUN_FIRE_TO_IDLE );<br />}</div></div>]]></body></post><post id="p193625" date="Posted: Tue Jan 08, 2008 9:49 am "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">i don't understand:<br />1- why do you spawn 8 func_emitters instead of 1... and they are without any SpawnArg<br />2- why do you do sys.setSpawnArg( "model", fx ); after they are spawned<br />3- where those entities are removed. <br /><br />This is the way you should spawn an entity<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">sys.setSpawnArg( "origin", v );<br />          sys.setSpawnArg( "model", "gflamerhand.prt" );<br />          sys.spawn( "func_emitter" );</div><br /><br />you need to remove the old entities or you'll soon hit the limit of 4096 entities</div>]]></body></post><post id="p193629" date="Posted: Tue Jan 08, 2008 5:18 pm "><author>wal</author><body><![CDATA[<div class="postbody">1-The plasmasmoke.prt lasts for one second and the plasma gun fires 8 times a second, so 8 emitters need to be running at the same time or it will remove the particles after 0.125 seconds. There will never be more than 8 because there's only 1 entity for each. It just updates the origin and restarts the particle.<br /><br />2-<span style="font-weight: bold">sys.setSpawnArg( "model", fx );</span> is before they are spawned, not after. <span style="font-weight: bold">particle1.setOrigin( org );</span> is when one is spawned. <span style="font-weight: bold">entity particle1 = sys.spawn( "func_emitter" );</span> just tells it what to spawn.<br /><br />3-They are removed on the Lower thread.<br /><br />It’s not the amount of entitys that are causing an overflow and it’s not an error that causes it to crash or anything, it just comes up with an overflow warning in the console and it’s messing with the snds because it’s struggling to keep up. I need to tell it to use particle+1 unless over a certain number else { start again. <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>]]></body></post><post id="p193698" date="Posted: Thu Jan 10, 2008 9:42 pm "><author>wal</author><body><![CDATA[<div class="postbody">Oh PISS. It doesn't replace the emitters. I assumed it did because it was removing the particle, so this will go over the limit of entities. I must have miscounted when I tested it before. Never mind, easily fixed:<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">void weapon_plasmagun::Fire() {<br />   float currentTime;<br />   float ammoClip = ammoInClip();<br />   float number = 1;<br />   entity owner = getOwner();<br />   entity weapon_ent = owner.getWeaponEntity();<br />   entity particle1;<br />   entity particle2;<br />   entity particle3;<br />   entity particle4;<br />   entity particle5;<br />   entity particle6;<br />   entity particle7;<br />   entity particle8;<br />   entity particle9;<br />   string fx = getKey( "smoke" );<br />   vector org = weapon_ent.getJointPos( weapon_ent.getJointHandle ( "barrel" ) );<br />   next_attack = sys.getTime() + PLASMAGUN_FIRERATE;<br />   sys.setSpawnArg( "model", fx );<br /><br />   if ( ammoClip == PLASMAGUN_LOWAMMO ) {<br />      startSound( "snd_lowammo", SND_CHANNEL_ITEM, true );<br />   }<br />   if ( number == 1 ) {<br />      particle1 = sys.spawn( "func_emitter" );<br />      particle1.setOrigin( org );<br />      particle1.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle2.remove();<br />      number = 2;<br />   } else if ( number == 2 ) {<br />      particle2 = sys.spawn( "func_emitter" );<br />      particle2.setOrigin( org );<br />      particle2.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />       particle3.remove();<br />      number = 3;<br />   } else if ( number == 3 ) {<br />      particle3 = sys.spawn( "func_emitter" );<br />      particle3.setOrigin( org );<br />      particle3.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle4.remove();<br />      number = 4;<br />   } else if ( number == 4 ) {<br />      particle4 = sys.spawn( "func_emitter" );<br />      particle4.setOrigin( org );<br />      particle4.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle5.remove();<br />      number = 5;<br />   } else if ( number == 5 ) {<br />      particle5 = sys.spawn( "func_emitter" );<br />      particle5.setOrigin( org );<br />      particle5.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle6.remove();<br />      number = 6;<br />   } else if ( number == 6 ) {<br />      particle6 = sys.spawn( "func_emitter" );<br />      particle6.setOrigin( org );<br />      particle6.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle7.remove();<br />      number = 7;<br />   } else if ( number == 7 ) {<br />      particle7 = sys.spawn( "func_emitter" );<br />      particle7.setOrigin( org );<br />      particle7.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle8.remove();<br />      number = 8;<br />   } else if ( number == 8 ) {<br />      particle8 = sys.spawn( "func_emitter" );<br />      particle8.setOrigin( org );<br />      particle8.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle9.remove();<br />      number = 9;<br />   } else if ( number == 9 ) {<br />      particle9 = sys.spawn( "func_emitter" );<br />      particle9.setOrigin( org );<br />      particle9.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />      particle1.remove();<br />      number = 1;<br />   }<br />   launchProjectiles( PLASMAGUN_NUMPROJECTILES, spread, 0, 1.0, 1.0 );<br />   playAnim( ANIMCHANNEL_ALL, "fire" );<br /><br />   while( !animDone( ANIMCHANNEL_ALL, PLASMAGUN_FIRE_TO_IDLE ) ) {<br />      currentTime = sys.getTime();<br />      ammoClip = ammoInClip();<br /><br />      if ( ( currentTime &gt;= next_attack ) &amp;&amp; WEAPON_ATTACK &amp;&amp; ( ammoClip &gt; 0 ) ) {<br />         weaponState( "Fire", 0 );<br />      }<br />      waitFrame();<br />   }<br />   weaponState( "Idle", PLASMAGUN_FIRE_TO_IDLE );<br />}</div><br />I assume then, that is was removing the particle because you can only have one active emitter of a certain name <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /> Hopefully I'll be able to trim this at some point to make it run better, my poor computer can't cope.</div>]]></body></post><post id="p193729" date="Posted: Fri Jan 11, 2008 2:34 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody"><div class="quotetitle">wal wrote:</div><div class="quotecontent">2-<span style="font-weight: bold">sys.setSpawnArg( "model", fx );</span> is before they are spawned, not after. <span style="font-weight: bold">particle1.setOrigin( org );</span> is when one is spawned. <span style="font-weight: bold">entity particle1 = sys.spawn( "func_emitter" );</span> just tells it what to spawn.</div><br />This is not true.<br />the entity is spawned when <span style="font-weight: bold">entity particle1 = sys.spawn( "func_emitter" );</span> is executed.<br /><span style="font-weight: bold">particle1.setOrigin( org );</span> only set the entity in the new place (probably '0 0 0' is the default one)<br /><br />The following examples are equivalent (I've used both in the past)<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">sys.setSpawnArg( "model", fx );<br />particle3 = sys.spawn( "func_emitter" );<br />particle3.setOrigin( org );</div><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">sys.setSpawnArg( "model", fx );<br />sys.setSpawnArg( "origin", org );<br />particle3 = sys.spawn( "func_emitter" );</div><br /><br /><div class="quotetitle">wal wrote:</div><div class="quotecontent">1-The plasmasmoke.prt lasts for one second and the plasma gun fires 8 times a second, so 8 emitters need to be running at the same time or it will remove the particles after 0.125 seconds. There will never be more than 8 because there's only 1 entity for each. It just updates the origin and restarts the particle.</div><br />Even in the last code you posted new entities are spawned every time so it's not true that you are using again the old ones.<br /><br /><div class="quotetitle">wal wrote:</div><div class="quotecontent">3-They are removed on the Lower thread.<br /></div><br />That is impossible because the entities are declared inside the Fire() thread so cannot be visible from outside of it.<br />Even the last code you posted have some problems: <br />- every time the Fire() thread is lauched new variables are instantiated so particleX is null and you are not removing the old ones.<br />- if you change weapon and than you select the plasma again all the script variables are instantiated again and you've lost the reference to the old ones.<br /><br />So i suggest you to check carefully you script because right now it can reach the maximum entities limit... and the map will be blocked.  <br />I'd declare particleX variables outside the plasmagun scriptobject so they'll be never lost.<br /><br /><div class="quotetitle">wal wrote:</div><div class="quotecontent">It’s not the amount of entitys that are causing an overflow and it’s not an error that causes it to crash or anything, it just comes up with an overflow warning in the console and it’s messing with the snds because it’s struggling to keep up. </div><br />Don't know what are you talking about but I think a cannot help you  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div>]]></body></post><post id="p193736" date="Posted: Fri Jan 11, 2008 5:08 pm "><author>wal</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent"><div class="quotetitle">wal wrote:</div><div class="quotecontent">2-<span style="font-weight: bold">sys.setSpawnArg( "model", fx );</span> is before they are spawned, not after. <span style="font-weight: bold">particle1.setOrigin( org );</span> is when one is spawned. <span style="font-weight: bold">entity particle1 = sys.spawn( "func_emitter" );</span> just tells it what to spawn.</div><br />This is not true.<br />the entity is spawned when <span style="font-weight: bold">entity particle1 = sys.spawn( "func_emitter" );</span> is executed.<br /><span style="font-weight: bold">particle1.setOrigin( org );</span> only set the entity in the new place (probably '0 0 0' is the default one)</div><br />Really.  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" />   That’s not how it reads to me. ( I’m not saying I think your wrong, just that it seems quite illogical to me ). In fact after reading my post again it comes off as quite arrogant. Those answers were meant as my current understanding of the code, not definitive statements. To me it says next time particle1 is written, spawn an emitter with the designation of particle1. As for the placement of the spawn arg line, the first code I posted does work in that it accurately recreates the automatic muzzle smoke, so it must at least respawn the emitter when it gets to the .setOrigin line, right <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent"><div class="quotetitle">wal wrote:</div><div class="quotecontent">1-The plasmasmoke.prt lasts for one second and the plasma gun fires 8 times a second, so 8 emitters need to be running at the same time or it will remove the particles after 0.125 seconds. There will never be more than 8 because there's only 1 entity for each. It just updates the origin and restarts the particle.</div><br />Even in the last code you posted new entities are spawned every time so it's not true that you are using again the old ones.</div><br />Yep, in the first one I thought it was reusing them, then I realised it wasn’t so I wrote the second one.<br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent"><div class="quotetitle">wal wrote:</div><div class="quotecontent">3-They are removed on the Lower thread.<br /></div><br />That is impossible because the entities are declared inside the Fire() thread so cannot be visible from outside of it.<br />Even the last code you posted have some problems: <br />- every time the Fire() thread is lauched new variables are instantiated so particleX is null and you are not removing the old ones.<br />- if you change weapon and than you select the plasma again all the script variables are instantiated again and you've lost the reference to the old ones.<br />So i suggest you to check carefully you script because right now it can reach the maximum entities limit... and the map will be blocked. <br />I'd declare particleX variables outside the plasmagun scriptobject so they'll be never lost.</div><br />Yea, it’s done a bit differently in my script, I condensed it into one thread so as to not take up loads of space on the board until it’s final. I have the <span style="font-weight: bold">entity particle1;</span> ect lines in the <span style="font-weight: bold">object weapon_plasmagun : weapon_base {</span> section. Will they still not get removed <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent"><div class="quotetitle">wal wrote:</div><div class="quotecontent">It’s not the amount of entitys that are causing an overflow and it’s not an error that causes it to crash or anything, it just comes up with an overflow warning in the console and it’s messing with the snds because it’s struggling to keep up. </div><br />Don't know what are you talking about but I think a cannot help you <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_confused.gif" alt=":?" title="Confused" /></div><br />It’s just causing it to miss the snd_fire most of the time as far as I can tell. Very annoying. It says <div class="codetitle"><b>Code:</b></div><div class="codecontent">IDRENDERWORLDLOCAL::RESIZEINTERACTIONTABLE: OVERFLOWED INTERACTIONTABLEWIDTH, DUMPING</div></div>]]></body></post><post id="p193741" date="Posted: Fri Jan 11, 2008 6:17 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody">The particles are probably spawned in '0 0 0' and then moved to the location specified with setOrigin( org );<br /><br />from doom_events<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">// Sets the current position of this entity (relative to it's bind parent if any).<br />scriptEvent   void    setOrigin( vector origin );<br /><br />// Creates an entity of the specified classname and returns a reference to the entity.<br />scriptEvent   entity   spawn( string classname );<br /><br />// Sets a key/value pair to be used when a new entity is spawned.<br />scriptEvent   void    setSpawnArg( string key, string value );<br /></div><br /><br />setOrigin simply update the position. you can even use it on the player and he'll be "teleported".<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">I have the entity particle1; ect lines in the object weapon_plasmagun : weapon_base { section. Will they still not get removed <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /></div><br />If you remove them on weapon lowering they should be ok.<br /><br />Oh well... i'll write what i'd do. But I fear I'll finish your mod before the mine  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br />Just joking lol  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">entity particle1; //global variable<br />entity particle2; //global variable<br /><br />object weapon_plasmagun : weapon_base {<br /><br />//...<br /><br /><br />void weapon_plasmagun::spawn_emitters_if_needed() {<br />   if(!particle1){<br />     sys.setSpawnArg( "model", fx );<br />     sys.setSpawnArg( "origin", '0 0 0' ); //somewhere far from the map<br />     particle1 = sys.spawn( "func_emitter" );<br />   }<br />   if(!particle2){<br />     sys.setSpawnArg( "model", fx );<br />     sys.setSpawnArg( "origin", '0 0 0' ); //somewhere far from the map<br />     particle2 = sys.spawn( "func_emitter" );<br />   }<br />}<br /><br />void weapon_plasmagun::init() { //executed every time the plasma is selected<br />  //...<br />  spawn_emitters_if_needed();<br />}<br /><br /><br />void weapon_plasmagun::Fire() {<br />   //...<br />   if ( number == 1 ) {<br />      particle1.setOrigin( org );<br />      particle1.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />   } else if ( number == 2 ) {<br />      particle2.setOrigin( org );<br />      particle2.setShaderParm( SHADERPARM_TIMEOFFSET, -sys.getTime() );<br />   }<br />}<br /><br />}//end object</div><br /><br />So...<br />- spawn the emitters only the first time the plasma is selected<br />- store their reference in global variables (never lose their values )<br />- never remove them... simply reuse.<br />- simple and working without side effects  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br />Do the same for all the 8 emitters.<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">IDRENDERWORLDLOCAL::RESIZEINTERACTIONTABLE: OVERFLOWED INTERACTIONTABLEWIDTH, DUMPING</div><br />You are lucky! I know something about it. <br />I had this problem in my mod time ago... so I searched everywhere (intenet and souce code) but nothing useful found. Then i did a lot of tests to understand the problem... and the result is that there is sort of table allocated (for interactions) when a map is loaded.<br />The lenght of this table is about the number of entities that have collisions + about 100.<br />The "100" is an extra probably used for entities dinamically spawned during the game like gibs and the ones spawned by scripts.<br />If you exceed the limits of this table that warning will be shown and the game will go much slower. Expecially in big areas with lots of objects.<br />If you reload the map this time the table will be larger (don't know why) so it was initially hard to reproduce the error.  <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /><br /><br />Conclusions:<br />- it may happen because you script is spawing too many entities ( like i said before  )<br />- yes, emitters seems having something to do with collisions.<br />- other than always make sure your scripts are removing what you don't need anymore, you could "trick" the game: create an empty box in the space and fill it with about 100 exploding_barrels. At the beginning of the map remove them all --&gt; now you have some more free space in that damn table.<br /><br />I know you are thinking "I'll put there 500 barrels instead of 100 so I'll have more space". The bad news is that it seems like it doesn't work in this way and after that about 100 entities removed you always gain the same amount of space in the table.<br /><br />This idea saved me :-]</div>]]></body></post><post id="p193750" date="Posted: Fri Jan 11, 2008 8:49 pm "><author>wal</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent">The particles are probably spawned in '0 0 0' and then moved to the location specified with setOrigin( org );</div><br />But on the first code I posted, <span style="font-weight: bold">sys.setSpawnArg( "model", fx );</span> is after the sys.spawn lines like you said. So if they’re spawning on the <span style="font-weight: bold">entity particle1 = sys.spawn( "func_emitter" );</span> lines why do they have the right particle model assigned <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent">setOrigin simply update the position. you can even use it on the player and he'll be "teleported".</div><br /><img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> I know, that part of the mod is already done <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent">Oh well... i'll write what i'd do.</div><br />Cheers for the code and help, as always. <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /><br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent">- it may happen because you script is spawing too many entities ( like i said before )</div><br />Are you saying that even if removed, the entities are staying on that table and causing the overflow <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><br /><br /><div class="quotetitle">Ivan_the_B wrote:</div><div class="quotecontent">- yes, emitters seems having something to do with collisions.</div><br />Particles interacting with each other maybe <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /></div>]]></body></post><post id="p193754" date="Posted: Fri Jan 11, 2008 9:17 pm "><author>Ivan_the_B</author><body><![CDATA[<div class="postbody"><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">But on the first code I posted, sys.setSpawnArg( "model", fx ); is after the sys.spawn lines like you said. So if they’re spawning on the entity particle1 = sys.spawn( "func_emitter" ); lines why do they have the right particle model assigned </div><br />I think that the first ones have no model so you shouldn't see them... and that sys.setSpawnArg( "model", fx ); is used from the sequent call to sys.spawn( "func_emitter" ); and so on...<br />Not sure, but it makes sense.<br />I'd like to do some more tests on this...<br /><br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">Are you saying that even if removed, the entities are staying on that table and causing the overflow <img src="https://web.archive.org/web/20070509181516im_/http://www.doom3world.org/phpbb2/images/" /><!--
     FILE ARCHIVED ON 18:15:16 May 9, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 6:12:13 Sep 26, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
--></div></div>]]></body></post></posts></thread></xml>
