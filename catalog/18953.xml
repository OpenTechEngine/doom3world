<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="18953"><title>Ragdoll Poppy Head Reinflated</title><posts><post id="p172699" date="Posted: Sat Mar 10, 2007 11:37 pm "><author>Ishtvan</author><body><![CDATA[<div class="postbody">I remember in the past there was a lot of effort to fix env_ragdoll_poppy's head, because, let's face it, it's the only vanilla D3 ragdoll with boobies.  I don't recall this problem ever being solved, did a search of the more recent poppy-related threads and didn't find any fixes.&#13;<br /><br />You can of course create your own model and ragdoll from scratch, but I stumbled upon a way to fix poppy.  As you might know, the model's head in the mesh is fine.  What happens is that the af_pos animation ("initial.md5") deforms the vertices in the head to give you the popped head.  Apparently this couldn't be fixed in an animation program because we were missing some of the original meshes it was exported from?&#13;<br /><br />Anyway, exported md5 animations are text files, and since this one only has one frame, it's feasible to edit the individual joint positions by hand (with a text editor) until you get back to an un-popped head.&#13;<br /><br />I didn't have the patience to get it perfect, so in my verison the top of the head is slightly deformed.   I commented the head-related joints in the file below in case anyone with more patience than me wants to fix it though.  The coordinate system for the joints in this file seems to be :&#13;<br />x : front/back&#13;<br />y : up/down&#13;<br />z : to her left or right &#13;<br />(I mostly tweaked z to un-pop the head, x and y still need some work)&#13;<br /><br />Here is the updated animation file:&#13;<br /><span style="font-weight: bold">initial.md5anim</span>&#13;<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">MD5Version 10<br />commandline "anim models/monsters/zombie/zfem/cycles/initial.mb -dest models/md5/characters/poppy/initial.md5anim -game Doom -prefix FEM_ -keep LkneeVector RkneeVector Lball_r Rball_r HEAD_headcontrol HEAD_neckcontrol HEAD_loneckcontrol HEAD_Leyeaim HEAD_Reyeaim -parent HEAD_Head HEAD_headcontrol -parent HEAD_Reyeaim HEAD_Head -parent HEAD_Leyeaim HEAD_Head -parent HEAD_headcontrol HEAD_neckcontrol -parent HEAD_neckcontrol HEAD_loneckcontrol -parent HEAD_Neck HEAD_neckcontrol -parent HEAD_Jaw HEAD_Head -parent HEAD_mouth12 HEAD_Head -parent HEAD_mouth1 HEAD_Head -parent HEAD_mouth2 HEAD_Head -parent HEAD_mouth3 HEAD_Head -parent HEAD_mouth4 HEAD_Jaw -parent HEAD_mouth5 HEAD_Jaw -parent HEAD_mouth6 HEAD_Jaw -parent HEAD_mouth7 HEAD_Jaw -parent HEAD_mouth8 HEAD_Jaw -parent HEAD_mouth9 HEAD_Head -parent HEAD_mouth10 HEAD_Head -parent HEAD_mouth11 HEAD_Head -parent HEAD_tongue1 HEAD_Jaw -parent HEAD_Lcheek HEAD_Head -parent HEAD_Rcheek HEAD_Head -parent HEAD_Rnostril HEAD_Head -parent HEAD_Lnostril HEAD_Head -parent HEAD_Lsmile HEAD_Head -parent HEAD_Rsmile HEAD_Head -parent HEAD_Rcheek HEAD_Head -parent HEAD_Lcheek HEAD_Head -parent HEAD_Lsneer HEAD_Head -parent HEAD_Rsneer HEAD_Head -parent HEAD_Lbrow1 HEAD_Head -parent HEAD_Lbrow2 HEAD_Head -parent HEAD_Lbrow3 HEAD_Head -parent HEAD_Rbrow1 HEAD_Head -parent HEAD_Rbrow2 HEAD_Head -parent HEAD_Rbrow3 HEAD_Head -parent HEAD_Ruplid HEAD_Head -parent HEAD_Rlolid HEAD_Head -parent HEAD_Luplid HEAD_Head -parent HEAD_Llolid HEAD_Head -parent HEAD_Lside HEAD_Head -parent HEAD_Rside HEAD_Head -skipmesh ZFEMMESH -prefix POPPY_ -align ALL -prefix ZFEM_"<br /><br />numFrames 5<br />numJoints 92<br />frameRate 24<br />numAnimatedComponents 0<br /><br />hierarchy {<br />   "origin"   -1 0 0   //<br />   "Body2"   0 0 0   // origin<br />   "Hips"   1 0 0   // Body2<br />   "Lupleg"   2 0 0   // Hips<br />   "Lloleg"   3 0 0   // Lupleg<br />   "Lankle_r"   4 0 0   // Lloleg<br />   "Lball_r"   5 0 0   // Lankle_r<br />   "Ltoe_r"   6 0 0   // Lball_r<br />   "LkneeVector"   4 0 0   // Lloleg<br />   "Rupleg"   2 0 0   // Hips<br />   "Rloleg"   9 0 0   // Rupleg<br />   "Rankle_r"   10 0 0   // Rloleg<br />   "Rball_r"   11 0 0   // Rankle_r<br />   "Rtoe_r"   12 0 0   // Rball_r<br />   "RkneeVector"   10 0 0   // Rloleg<br />   "Waist"   1 0 0   // Body2<br />   "Belly"   15 0 0   // Waist<br />   "Chest"   15 0 0   // Waist<br />   "Ribs"   17 0 0   // Chest<br />   "Lrib"   18 0 0   // Ribs<br />   "Lbreast1"   19 0 0   // Lrib<br />   "Lbreast2"   19 0 0   // Lrib<br />   "Rrib"   18 0 0   // Ribs<br />   "Rbreast1"   22 0 0   // Rrib<br />   "Rbreast2"   22 0 0   // Rrib<br />   "Shoulders"   17 0 0   // Chest<br />   "HEAD_loneckcontrol"   25 0 0   // Shoulders<br />   "HEAD_Loneck"   26 0 0   // HEAD_loneckcontrol<br />   "HEAD_neckcontrol"   26 0 0   // HEAD_loneckcontrol<br />   "HEAD_headcontrol"   28 0 0   // HEAD_neckcontrol<br />   "HEAD_Head"   29 0 0   // HEAD_headcontrol<br />   "HEAD_Jaw"   30 0 0   // HEAD_Head<br />   "HEAD_mouth4"   31 0 0   // HEAD_Jaw<br />   "HEAD_mouth6"   31 0 0   // HEAD_Jaw<br />   "HEAD_mouth7"   31 0 0   // HEAD_Jaw<br />   "HEAD_Lbrow1"   30 0 0   // HEAD_Head<br />   "HEAD_Lbrow3"   30 0 0   // HEAD_Head<br />   "HEAD_Lcheek"   30 0 0   // HEAD_Head<br />   "HEAD_Leyeaim"   30 0 0   // HEAD_Head<br />   "HEAD_Llolid"   30 0 0   // HEAD_Head<br />   "HEAD_Lnostril"   30 0 0   // HEAD_Head<br />   "HEAD_Lside"   30 0 0   // HEAD_Head<br />   "HEAD_Lup1"   41 0 0   // HEAD_Lside<br />   "HEAD_Lup2"   41 0 0   // HEAD_Lside<br />   "HEAD_Lup3"   41 0 0   // HEAD_Lside<br />   "HEAD_Lup4"   41 0 0   // HEAD_Lside<br />   "HEAD_Lup5"   41 0 0   // HEAD_Lside<br />   "HEAD_Lsneer"   30 0 0   // HEAD_Head<br />   "HEAD_Luplid"   30 0 0   // HEAD_Head<br />   "HEAD_Rbrow2"   30 0 0   // HEAD_Head<br />   "HEAD_Rbrow3"   30 0 0   // HEAD_Head<br />   "HEAD_Rcheek"   30 0 0   // HEAD_Head<br />   "HEAD_Reyeaim"   30 0 0   // HEAD_Head<br />   "HEAD_Rlolid"   30 0 0   // HEAD_Head<br />   "HEAD_Rnostril"   30 0 0   // HEAD_Head<br />   "HEAD_Rsneer"   30 0 0   // HEAD_Head<br />   "HEAD_Rup1"   30 0 0   // HEAD_Head<br />   "HEAD_Rup2"   30 0 0   // HEAD_Head<br />   "HEAD_Rup3"   30 0 0   // HEAD_Head<br />   "HEAD_Rup4"   30 0 0   // HEAD_Head<br />   "HEAD_Ruplid"   30 0 0   // HEAD_Head<br />   "HEAD_mouth1"   30 0 0   // HEAD_Head<br />   "HEAD_mouth10"   30 0 0   // HEAD_Head<br />   "HEAD_mouth11"   30 0 0   // HEAD_Head<br />   "HEAD_mouth12"   30 0 0   // HEAD_Head<br />   "HEAD_mouth2"   30 0 0   // HEAD_Head<br />   "HEAD_mouth3"   30 0 0   // HEAD_Head<br />   "HEAD_mouth9"   30 0 0   // HEAD_Head<br />   "Lshldr"   25 0 0   // Shoulders<br />   "Luparm_orbit"   68 0 0   // Lshldr<br />   "Luparm"   69 0 0   // Luparm_orbit<br />   "Lloarm"   70 0 0   // Luparm<br />   "Lhand"   71 0 0   // Lloarm<br />   "Lfings1"   72 0 0   // Lhand<br />   "Lfings2"   73 0 0   // Lfings1<br />   "Lindex1"   72 0 0   // Lhand<br />   "Lindex2"   75 0 0   // Lindex1<br />   "Lthumb1"   72 0 0   // Lhand<br />   "Lthumb2"   77 0 0   // Lthumb1<br />   "Lthumb3"   78 0 0   // Lthumb2<br />   "Rshldr"   25 0 0   // Shoulders<br />   "Ruparm_orbit"   80 0 0   // Rshldr<br />   "Ruparm"   81 0 0   // Ruparm_orbit<br />   "Rloarm"   82 0 0   // Ruparm<br />   "Rhand"   83 0 0   // Rloarm<br />   "Rfings1"   84 0 0   // Rhand<br />   "Rfings2"   85 0 0   // Rfings1<br />   "Rindex1"   84 0 0   // Rhand<br />   "Rindex2"   87 0 0   // Rindex1<br />   "Rthumb1"   84 0 0   // Rhand<br />   "Rthumb2"   89 0 0   // Rthumb1<br />   "Rthumb3"   90 0 0   // Rthumb2<br />}<br /><br />bounds {<br />   ( -7.8634295464 -31.5119857788 -2.1707663536 ) ( 10.3316850662 31.4964923859 73.6259155273 )<br />   ( -7.8634295464 -31.5119857788 -2.1707663536 ) ( 10.3316850662 31.4964923859 73.6259155273 )<br />   ( -7.8634295464 -31.5119857788 -2.1707663536 ) ( 10.3316850662 31.4964923859 73.6259155273 )<br />   ( -7.8634295464 -31.5119857788 -2.1707663536 ) ( 10.3316850662 31.4964923859 73.6259155273 )<br />   ( -7.8634295464 -31.5119857788 -2.1707663536 ) ( 10.3316850662 31.4964923859 73.6259155273 )<br />}<br /><br />baseframe {<br />   ( 0 0 0 ) ( -0.5 -0.5 -0.5 )<br />   ( 0 43.1856498718 -0.0223946571 ) ( 0 0 0 )<br />   ( -0.0137862284 -0.6963691711 0.076674819 ) ( 0 0 0 )<br />   ( 3.7589502335 -3.3768577576 -1.0152584314 ) ( -0.5919291973 0.6173754334 0.3537799418 )<br />   ( 18.0218143463 -0.0000000108 -0.0000000945 ) ( -0.9983987808 0.0565435998 0.0016210955 )<br />   ( 17.8942718506 -0.158931464 -0.1545503885 ) ( -0.9116398692 0.3404016495 -0.0490636192 )<br />   ( 3.9715108871 -0.0000000214 0.0000000916 ) ( 0.0009427207 0.0016345219 -0.4084754586 )<br />   ( 4.66979599 -0.0000003523 -0.0000000186 ) ( 0.0369436219 -0.7061409354 -0.0369436704 )<br />   ( -7.4996709824 -5.4869742393 3.4335608482 ) ( -0.4838022292 0.4906479418 -0.394975692 )<br />   ( -3.6192998886 -3.3769035339 -1.015255332 ) ( 0.3895028532 0.3654288948 -0.6097578406 )<br />   ( -18.0218143463 0.0000030355 0.000001919 ) ( -0.9983996749 0.0565278754 0.0016135409 )<br />   ( -17.894235611 0.1589259505 0.1545315087 ) ( -0.9150241017 0.3377744853 -0.045364581 )<br />   ( -3.9715013504 0.0000057862 -0.0000220183 ) ( 0.000318554 -0.0005415765 -0.4109456837 )<br />   ( -4.6698198318 -0.0000029643 0.0000574071 ) ( 0.0369436555 -0.7061411142 -0.0369436443 )<br />   ( 7.5678596497 5.8202190399 -3.240183115 ) ( 0 0 0 )<br />   ( -0.0137862284 0.5804100037 -0.020015955 ) ( 0.489020139 0.5107438564 -0.489020139 )<br />   ( 1.9863948822 -4.3054242134 0 ) ( -0.489020139 -0.5107438564 0.489020139 )<br />   ( 5.4127931595 -0.000000013 -0 ) ( 0 0 -0.0217237379 )<br />   ( 3.450553894 -0.4913929701 0 ) ( -0.5302598476 -0.4677868187 0.5302598476 )<br />   ( 2.4638986588 0.0773459375 2.2809045315 ) ( -0 -0 -0 )<br />   ( 1.224067688 -1.4911464453 2.8511309624 ) ( 0 0 0 )<br />   ( 1.770222187 2.7798860073 3.1103248596 ) ( 0 0 0 )<br />   ( -2.677819252 0.0773459375 2.2809045315 ) ( -0 0 -0 )<br />   ( -1.649597168 -1.5829679966 2.7992925644 ) ( 0 0 0 )<br />   ( -1.5192661285 2.720908165 3.1103246212 ) ( 0 0 0 )<br />   ( 10.8412132263 -0 -0 ) ( -0.4773953557 -0.5209105611 0.6230407953 )<br />   ( -1.311046958 3.7636535168 -0.5662123561 ) ( 0.0606448315 0.0094986288 -0.1664422452 )<br />   ( 0 0 0 ) ( -0.6069879532 -0.3627196848 -0.6069880128 )    // HEAD_loneckcontrol<br />   ( 0 0 0 ) ( 0 0 0 )<br />   ( -0.0000000256 3.2236731052 1.7341183424 ) ( 0 0 0 )<br />   ( 0.0000000014 -0.0119935898 -0.7066866755 ) ( 0.6845471263 -0.1771869808 0.6845470667 )<br />   ( 2.2767748833 -0.3592760265 0.0000000013 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 0.8542355895 -1.3715035915 2.1892092228 ) ( 0 0 0 )<br />   ( 0.0280730296 -1.5065647364 2.5145969391 ) ( 0 0 0 )<br />   ( -0.4614234865 -1.4746969938 2.4852528572 ) ( 0 0 0 )<br />   ( 3.6230509281 -3.7402172089 0.5060653687 ) ( -0.6845471263 0.1771869808 -0.6845470667 ) // Lbrow1<br />   ( 2.6389195919 -3.2253220081 2.3026432991 ) ( -0.6845471263 0.1771869808 -0.6845470667 ) // Lbrow3<br /><br />//   ( 3.5431244373 -1.3818171024 2.1364636421 ) ( -0.6845471263 0.1771869808 -0.6845470667 )   // HEAD_Lcheek<br />   ( 3.7169122696 -1.3096830845 2.0902404785 ) ( -0.6845471263 0.1771869808 -0.6845470667 )   <br />   ( 11.1242446899 -7.771112442 1.3034796715 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 3.4376173019 -2.6336610317 1.3310400248 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.6916103363 -1.6869620085 0.5235376954 ) ( -0.6845471263 0.1771869808 -0.6845470667 )  // Lnostril<br /><br />// Left side of head (her left)<br /><br />//   ( 0.4286166728 -0.9906396866 -0.3900017738 ) ( -0.6938128471 0.1364687681 -0.6728939414 )   // Lside<br />   ( 0.0 -1.0 2.0 ) ( -0.6938128471 0.1364687681 -0.6728939414 )   // Lside<br /><br />/*<br />   ( -1.0225673914 4.6549630165 -2.7476656437 ) ( 0 0 0 )   // HEAD_Lside // Head_Lup*<br />   ( -0.5744276643 5.0565361977 -0.160653159 ) ( 0 0 0 )<br />   ( -0.3872285485 4.6549611092 2.4303877354 ) ( 0 0 0 )<br />   ( -0.7512248755 2.9642355442 3.3872187138 ) ( 0 0 0 )<br />   ( 1.8449177742 1.6323928833 -1.1751410961 ) ( 0 0 0 )<br />*/<br /><br />   ( -1.0225673914 4.6549630165 2.1 ) ( 0 0 0 )   // HEAD_Lside // Head_Lup*<br />   ( -0.5744276643 5.0565361977 2.5 ) ( 0 0 0 )<br />   ( -0.3872285485 4.6549611092 2.4303877354 ) ( 0 0 0 )<br />   ( -0.7512248755 2.9642355442 2.7 ) ( 0 0 0 )<br />//   ( 1.8449177742 1.6323928833 -1.1751410961 ) ( 0 0 0 )<br />   ( 1.8449177742 1.8 -1.1751410961 ) ( 0 0 0 )<br /><br /><br />   ( 4.2044348717 -1.1674215794 1.2327826023 ) ( -0.6845471263 0.1771869808 -0.6845470667 )  // Lsneer<br />   ( 3.2474899292 -2.9752087593 1.3285182714 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 3.3107159138 -3.7463514805 -1.3953477144 ) ( -0.6845471263 0.1771869808 -0.6845470667 ) // Rbrow1<br />   ( 2.6309907436 -3.2191624641 -2.4140770435 ) ( -0.6845471263 0.1771869808 -0.6845470667 ) // Rbrow2<br />   ( 3.7169122696 -1.3096830845 -2.0902404785 ) ( -0.6845471263 0.1771869808 -0.6845470667 )  // Rcheek<br />   ( 11.1242446899 -7.771112442 -1.3324167728 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 3.4735527039 -2.5558443069 -1.3724600077 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.6859769821 -1.6810542345 -0.5383117795 ) ( -0.6845471263 0.1771869808 -0.6845470667 )  // Rnostril<br />   ( 4.310529232 -1.13187325 -1.136282444 ) ( -0.6845471263 0.1771869808 -0.6845470667 )     // Rsneer<br /><br />// Right side of head (her right)<br /><br />/*<br />   ( -1.5056577921 -5.3065214157 1.3836669922 ) ( -0.657137692 0.2610938251 -0.7012890577 ) // Head_Rup*<br />   ( -2.9442951679 -4.9132056236 0.2059836686 ) ( 0.5528964996 -0.4408009052 0.6973272562 )<br />   ( 0.7707132101 -5.7653346062 -0.0309859514 ) ( -0.657137692 0.2610938251 -0.7012890577 )<br />   ( -1.5889712572 -1.857666254 1.3118476868 ) ( -0.7044837475 0.0608496666 -0.6455364823 )<br />*/<br /><br />   ( -1.5056577921 -5.3065214157 -2.1) ( -0.657137692 0.2610938251 -0.7012890577 ) // Head_Rup*<br />   ( -2.9442951679 -4.9132056236 -2.5 ) ( 0.5528964996 -0.4408009052 0.6973272562 )<br />   ( 0.7707132101 -5.7653346062 -2.43 ) ( -0.657137692 0.2610938251 -0.7012890577 )<br />   ( -1.5889712572 -1.857666254 -2.7 ) ( -0.7044837475 0.0608496666 -0.6455364823 )<br /><br /><br />   ( 3.248349905 -2.9750723839 -1.3710342646 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.9183044434 -0.8475732803 0.4651765823 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.8483986855 -0.6778939962 -0.764295876 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.9643473625 -0.8482082486 -0.4474513829 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 5.1084890366 -0.9303343296 0.0414915495 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.8361077309 -0.6983295679 0.774045527 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.6655392647 -0.2995946109 1.0123944283 ) ( -0.6845471263 0.1771869808 -0.6845470667 )<br />   ( 4.689250946 -0.370718807 -0.9672999382 ) ( -0.6845471263 0.1771869808 -0.6845470667 )  // END HEAD<br /><br />   ( 1.0419477224 0.8354093432 -0.0686270669 ) ( 0.0606448315 0.0094986288 -0.1664422452 )<br />   ( 4.1898469925 -0.3463885486 0.2832107842 ) ( 0.6840079427 -0.1792570055 0.1792570204 )<br />   ( 0.6512306929 -0.0000002211 -0.0000013145 ) ( 0.0443283245 -0.0038588026 -0.1294138134 )<br />   ( 12.3206386566 -0.3713859916 -0.0000004639 ) ( -0.9787433743 0.2050886899 -0.0000000003 )<br />   ( 11.7315607071 -0.0021823216 -0.0000000114 ) ( 0.9999997616 -0.0007293375 -0.0000000029 )<br />   ( 3.0851910114 0.0408807993 0.1540689319 ) ( -0.9598379731 0.1254891753 0.1152889431 )<br />   ( 1.8771651983 -0.0238588173 -0.1484737247 ) ( 0.6710903049 0.0788944364 0.1368901283 )<br />   ( 2.5037248135 -1.4566944838 0.6685180664 ) ( 0.0276589151 0.0979392156 0.1898349077 )<br />   ( 1.6979913712 -0.0135910716 -0.0910645053 ) ( 0.0090438994 -0.3638843 -0.0116379606 )<br />   ( -0.2067041397 -0.8535499573 -0.1908653229 ) ( -0.0643448904 -0.2036238313 0.418235302 )<br />   ( 1.8744200468 0.2324068397 -0.01773756 ) ( 0.1427479982 -0.0091636563 -0.2026928812 )<br />   ( 1.0329301357 -0.293186754 -0.0731938556 ) ( -0.0000000142 -0.0000000215 -0.643456161 )<br />   ( -1.335721612 0.0077269692 -0.0648713335 ) ( 0.0606448315 0.0094986288 -0.1664422452 )<br />   ( -4.1897935867 -0.3463966846 0.2832066119 ) ( -0.6840079427 -0.1792570055 -0.1792570204 )<br />   ( -0.6512257457 -0.0000001398 0.00000416 ) ( 0.4518254995 0.5778833628 0.4095492959 )<br />   ( 0.0000067477 -12.3206701279 0.3714001179 ) ( 0.0000000023 -0.9787433743 0.205088675 )<br />   ( 0.0000712661 -11.7315454483 0.0021813302 ) ( -0.0000000015 -0.999999702 0.0007293382 )<br />   ( -0.154035449 -3.0851371288 -0.040871989 ) ( 0.115288958 -0.9598379135 0.1254891753 )<br />   ( 0.1484596878 -1.8772188425 0.0238986108 ) ( 0.0023708297 -0.0556247756 -0.5898250341 )<br />   ( -0.6684617996 -2.5036659241 1.4567043781 ) ( 0.1878599524 -0.0388709232 -0.2416272461 )<br />   ( 0.0911196694 -1.6980032921 0.0135788424 ) ( 0.0040869908 -0.6970413923 -0.7170166969 )<br />   ( 0.1908719242 0.2067209333 0.853548944 ) ( 0.4182352722 -0.0643449202 -0.2036238462 )<br />   ( 0.0177467056 -1.8744425774 -0.2324259132 ) ( -0.2026928365 0.1427479833 -0.0091636404 )<br />   ( 0.0732726753 -1.0329115391 0.2932074964 ) ( -0.704469502 -0.0610133633 -0.7044695616 )<br />}<br /><br />frame 0 {<br />}<br /><br />frame 1 {<br />}<br /><br />frame 2 {<br />}<br /><br />frame 3 {<br />}<br /><br />frame 4 {<br />}<br /></div><br /><br />You can either overwrite the original file, or, more conveniently, put this wherever you want and create a new def for a fixed poppy:<br /><br />Lets suppose you put the new "initial" anim in &lt;directory&gt;/initial.md5anim<br /><br /><span style="font-weight: bold">/defs/env_ragdoll_poppy_fixed</span><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">model env_ragdoll_poppy_fixed <br />{<br />   mesh      models/md5/characters/poppy/poppy.md5mesh<br />   anim af_pose      &lt;directory&gt;/initial.md5anim<br />}<br /><br />entityDef env_ragdoll_poppy_fixed<br />{<br />   "inherit"    "env_ragdoll_poppy"<br />   "model"   "env_ragdoll_poppy_fixed"<br />}<br /></div>&#13;<br /><br />As I said, the top of her head/hair is still a bit weird.  If anyone wants to fix that, you can test it relatively rapidly by keeping the anim open in a text editor, running in windowed mode.  Each time you make  change to the file, type "reloadanims" in the console, then "spawn env_ragdoll_poppy_fixed".  The new one that spawns will use your updated initial anim.</div>]]></body></post><post id="p172711" date="Posted: Sun Mar 11, 2007 1:58 am "><author>The Happy Friar</author><body><![CDATA[<div class="postbody">got any screens?</div>]]></body></post><post id="p172714" date="Posted: Sun Mar 11, 2007 2:30 am "><author>Kristus</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Ishtvan wrote:</div><div class="quotecontent"> Apparently this couldn't be fixed in an animation program because we were missing some of the original meshes it was exported from?</div>&#13;<br /><br />Lies&#13;<br /><br />all that makes the head end up like that is that the bones are moved in to give it that shape and then the texture are changed on it. It's not big things, and it's not hard to make a new animation for it.</div>]]></body></post><post id="p172767" date="Posted: Sun Mar 11, 2007 7:15 pm "><author>Ishtvan</author><body><![CDATA[<div class="postbody">Here is a screen:&#13;<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20070509181516/http://img.photobucket.com/albums/v241/Ishtvan/poppy_fixed.jpg">http://img.photobucket.com/albums/v241/ ... _fixed.jpg</a><!-- m -->&#13;<br /><br />@Kristus: I wasn't sure, hence the question mark.  So you have an animation program that can work backwards from a .MD5Mesh and tweak a .md5anim?  I thought those were usually exported as a last step and required having the rig in other programs first?  I don't know much about animating though.&#13;<br />[EDIT: I guess you could re-rig the model from scratch.  My method might be faster than that, if you just want the head fixed on the ragdoll.]&#13;<br /><br />The textures don't need changing, env_ragdoll_poppy has the normal texture by default.[/img]</div>]]></body></post><post id="p172773" date="Posted: Sun Mar 11, 2007 9:05 pm "><author>Kristus</author><body><![CDATA[<div class="postbody">The mesh isn't deformed in it's initial state.&#13;<br />It's deformed by the animation ran just before she dies.&#13;<br /><br />You don't need to rerig anything. You just need to replace the animation, and unless you want her to be dead still. You would have to make new animations for her anyway, since there's only a few animations, these to be exact.&#13;<br /><br />models/md5/characters/poppy/initial.md5anim&#13;<br />models/md5/cinematics/enpro/fem_lostintrostart.md5anim&#13;<br />models/md5/cinematics/enpro/fem_lostintro1.md5anim&#13;<br />models/md5/cinematics/enpro/fem_lostintro2.md5anim</div>]]></body></post><post id="p172777" date="Posted: Sun Mar 11, 2007 9:55 pm "><author>Ishtvan</author><body><![CDATA[<div class="postbody">Yeah, I realize that you'd have to make new animations for a live poppy.  My objective was just to fix the head on the ragdoll, which is deformed in the af_pose animation (initial.md5) as you say.  What I did was to replace the animation, just via text editing because I have no idea how to use animation software.  I don't know if animation software can extract existing rigging/weighting from existing MD5meshes or not.</div>]]></body></post><post id="p172778" date="Posted: Sun Mar 11, 2007 9:55 pm "><author>Ishtvan</author><body><![CDATA[<div class="postbody">Yeah, I realize that you'd have to make new animations for a live poppy.  My objective was just to fix the head on the ragdoll, which is deformed in the af_pose animation (initial.md5) as you say.  What I did was to replace the animation, just via text editing because I have no idea how to use animation software.  I don't know if animation software can extract existing rigging/weighting from existing MD5meshes or not.</div>]]></body></post></posts></thread></xml>
