<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="9017"><title>Proper water assets</title><posts><post id="p79054" date="Posted: Thu Feb 24, 2005 6:08 am "><author>idiom</author><body><![CDATA[<div class="postbody">Inolen and I have been working for a little while on getting water to look and work properly in Doom3. We now have a proper fresnel effected water shader and proper swimmable water with sounds and splash effects (just placeholders) for the communuity to use.
<br /><br /><img src="https://web.archive.org/web/20081121123651im_/http://cratematch.doom3reference.com/water_640.jpg" alt="Image" /><br /><br /><img src="https://web.archive.org/web/20081121123651im_/http://www.gamingforums.org/forum/files/shot00032.jpg" alt="Image" /><br /><br />You can download it <a href="https://web.archive.org/web/20081121123651/http://cratematch.doom3reference.com/water.zip" class="postlink">here</a> thanks to doom3reference.com.
<br /><br />To install just unzip to your Doom3 directory and load up water as a mod. There is a testmap called 'water' that shows working water.
<br /><br />Make sure you read the readme if you want to use these assets for your own project.
<br /><br />We are aware of the problem when you're half in the water and the mirror effect reflects the inside of the player model. We think there might be a way to work around this but inolen is busy working on other projects atm.</div>]]></body></post><post id="p79056" date="Posted: Thu Feb 24, 2005 6:13 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Oh my god.
<br />That second pic is picturesque.
<br /><br />Downloading now.
<br /><br />Edit: Well it looks fantastic. I dig the proper reflection, and I see what you mean about the player model.
<br /><br />You said its swim\shootable? felt like a plexiglass covering was over it. shot and felt like a solid surface.
<br /><br />but by the way it runs real nice. not a rescource hog. nice.</div>]]></body></post><post id="p79064" date="Posted: Thu Feb 24, 2005 6:37 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Jehar wrote:</div><div class="quotecontent">Oh my god.<br />That second pic is picturesque.<br /><br />Downloading now.<br /><br />Edit: Well it looks fantastic. I dig the proper reflection, and I see what you mean about the player model.<br /><br />You said its swim\shootable? felt like a plexiglass covering was over it. shot and felt like a solid surface.<br /><br />but by the way it runs real nice. not a rescource hog. nice.</div>
<br /><br />You need to make the water a func_water.</div>]]></body></post><post id="p79066" date="Posted: Thu Feb 24, 2005 6:38 am "><author>Jehar</author><body><![CDATA[<div class="postbody">watashiwa baka.
<br /><br />conslole command?
<br /><img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /></div>]]></body></post><post id="p79069" date="Posted: Thu Feb 24, 2005 6:39 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">Holy piss on a stick that's amazing.  I'm going swimming!  
<br /><br />G</div>]]></body></post><post id="p79070" date="Posted: Thu Feb 24, 2005 6:40 am "><author>iceheart</author><body><![CDATA[<div class="postbody">inolen: You forgot to say "oops" <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" />.</div>]]></body></post><post id="p79072" date="Posted: Thu Feb 24, 2005 6:41 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Jah im not quite too deep into d3 editing yet.
<br />So far im just here for the ride.
<br />So what would it take to make the func_water in the TEST map.
<br /><br />&gt;.&gt;
<br />&lt;.&lt;</div>]]></body></post><post id="p79075" date="Posted: Thu Feb 24, 2005 6:46 am "><author>idiom</author><body><![CDATA[<div class="postbody">DOH! Sorry guys, forgot to make the testmap with a func_water. Will do that and upload again.</div>]]></body></post><post id="p79076" date="Posted: Thu Feb 24, 2005 6:47 am "><author>Jehar</author><body><![CDATA[<div class="postbody">danke sehr</div>]]></body></post><post id="p79077" date="Posted: Thu Feb 24, 2005 6:48 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">idiom wrote:</div><div class="quotecontent">DOH! Sorry guys, forgot to make the testmap with a func_water. Will do that and upload again.</div>
<br /><br />What a douche. <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p79078" date="Posted: Thu Feb 24, 2005 6:56 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Updated.</div>]]></body></post><post id="p79079" date="Posted: Thu Feb 24, 2005 6:56 am "><author>Dinky</author><body><![CDATA[<div class="postbody">Wow... fantastic job.... *downloads*
<br /><br />Mmmm the other guy said it's shootable... I'm not getting anything on this side, am I doing something wrong?</div>]]></body></post><post id="p79082" date="Posted: Thu Feb 24, 2005 7:13 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Jah me neither. 
<br /><br />I assume that crate was put there to push in and get some splash?
<br /><br />One of the few thing i dislike about the d3 engine is the way it currently handles fog. It still "clips" the way it did in q3 and even doom. 
<br /><br />Why oh why?
<br /><br />by clipping you know what i mean right? you see "layers" of the fog in parralel lines. If one thing could be improved on the engine, I would say this is the thing most in need.
<br /><br />anyways, beutiful work.</div>]]></body></post><post id="p79085" date="Posted: Thu Feb 24, 2005 7:16 am "><author>inolen</author><body><![CDATA[<div class="postbody">The crate is just there to show a reflection <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p79087" date="Posted: Thu Feb 24, 2005 7:19 am "><author>BloodRayne</author><body><![CDATA[<div class="postbody">Looking great!
<br /><br />Don't mind us when we use it in EOC.  <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br /><img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p79088" date="Posted: Thu Feb 24, 2005 7:26 am "><author>idiom</author><body><![CDATA[<div class="postbody">It's there to be used  <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p79089" date="Posted: Thu Feb 24, 2005 7:29 am "><author>zakath</author><body><![CDATA[<div class="postbody">heh, looks damn nice.
<br /><br />might be that it will be used in another TC as well  <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p79097" date="Posted: Thu Feb 24, 2005 9:21 am "><author>butmunch</author><body><![CDATA[<div class="postbody">Just one thing when i throw a body into the water it sinks to the bottom like a rock. Otherwise the water looks damn fine.</div>]]></body></post><post id="p79098" date="Posted: Thu Feb 24, 2005 9:25 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Throwing bodies? What are you some kind of psycho killer who needs to dispose of bodies???</div>]]></body></post><post id="p79099" date="Posted: Thu Feb 24, 2005 9:37 am "><author>idiom</author><body><![CDATA[<div class="postbody">I don't think inolen has coded in effects of physics objects. Maybe I can get him to do it if there's enough support <img src="https://web.archive.org/web/20081121123651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> If not, if someone else wants to, feel completely free.</div>]]></body></post><post id="p85159" date="Posted: Tue Mar 29, 2005 9:15 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">thanks dante, its pretty much doing the same thing in window mode as in fullscreen mode but sometimes with a different image, its a realy random occurance.
<br />  I had the texture reflecting properly in the water test map, I even copied and pasted the func_water with that texture into my map after several failed attempts but I still couldnt get it to work, I really dont think its a performance issue but heres my specs anyway;
<br /><br />AMD Athlon 2400 512 with Gforce 4 ti 4200 with AGP 8x
<br /><br />thanks again <img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p86745" date="Posted: Wed Apr 06, 2005 9:07 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">Have you heard back from brian?</div>]]></body></post><post id="p86749" date="Posted: Wed Apr 06, 2005 9:20 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">mikebart wrote:</div><div class="quotecontent">Have you heard back from brian?</div>
<br /><br />I'm afraid not, I guess he's a little busy with ROE just coming out, hopefully putting together the SDK for 1.2/3.</div>]]></body></post><post id="p86756" date="Posted: Wed Apr 06, 2005 10:18 pm "><author>Gmz1013</author><body><![CDATA[<div class="postbody">is it soposed to be soild or liquid its soild for me... Help please...</div>]]></body></post><post id="p86767" date="Posted: Wed Apr 06, 2005 10:57 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Gmz1013 wrote:</div><div class="quotecontent">is it soposed to be soild or liquid its soild for me... Help please...</div>
<br /><br />To what are you refering?
<br /><br />If you are trying to use func_water then it should not be solid, this is a change in the SDK, are you using the .dll from  my water.zip?
<br />Are you testing my test map or one of your own?
<br />Do you have any errors appear in the console?
<br /><br />Try my newest test map &amp; dll, just unzip into doom3 folder it will create a folder called GravityMod, in there should be a run.bat, double click it. This should load my test map, turn to your right and you should see a door with a sign next to it saying Water Tests.
<br /><a href="https://web.archive.org/web/20081121124033/http://homepages.nildram.co.uk/~danteuk/GravityMod.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/GravityMod.zip</a></div>]]></body></post><post id="p86773" date="Posted: Wed Apr 06, 2005 11:28 pm "><author>ReubenDSala</author><body><![CDATA[<div class="postbody">I dont think that works with the new patch (1.3)</div>]]></body></post><post id="p90848" date="Posted: Mon Apr 25, 2005 9:25 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I'm having a render problem on linux:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m -->
<br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.
<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>]]></body></post><post id="p90953" date="Posted: Tue Apr 26, 2005 10:04 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">ReubenDSala wrote:</div><div class="quotecontent">I dont think that works with the new patch (1.3)</div><br /><br />Nothing works with 1.3 because it's not out yet, nothing works with 1.2 yet because the SDK for it isn't out.<br /><br />I believe 1.3 will be released sometime soon and shortly after the SDK for it.<br /><br />Then we all have the fun task of merging all our code changes into it.<br /><br /><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux<br /></div>
<br />Without information about your video chipset I can't really help.
<br />I guess from the shot it's a DX 9 level chipset.
<br /><br />Some of the those pools don't renderer correctly of some hardware.
<br />I have access to 3 machines with doom3 on at 3 different DX levels: 7,8,9
<br />All are Nvidia cards though.
<br />The purpose of that test map was to try lots of different method for making water, then test it on all three chipsets and find one method that looks good on all three.</div>]]></body></post><post id="p91752" date="Posted: Sat Apr 30, 2005 3:09 pm "><author>breakerfall</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux:<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m --><br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>
<br /><br />This is very similar to what I posted a page or two back. Same thing, under linux, ATI drivers etc.</div>]]></body></post><post id="p91763" date="Posted: Sat Apr 30, 2005 5:18 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I have an nVidia card, if that makes any difference.</div>]]></body></post><post id="p108410" date="Posted: Tue Aug 16, 2005 6:01 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">I load up the water mod and then type in "map water"
<br /><br />Your map loads up but there is no water inside the pool.  Any ideas?</div>]]></body></post><post id="p121359" date="Posted: Mon Nov 14, 2005 1:01 am "><author>Sebazzz</author><body><![CDATA[<div class="postbody">You're not the only one.
<br /><br />nVidia Geforce FX 5700 LE
<br />Amd athlon XP 2600+
<br />Windows XP Home
<br /><br />Doom 3 with 1.3 patch</div>]]></body></post><post id="p123785" date="Posted: Thu Dec 01, 2005 10:11 am "><author>mth</author><body><![CDATA[<div class="postbody">same thing. only fog in the pit, without any water. Any ideas?</div>]]></body></post><post id="p142864" date="Posted: Thu May 11, 2006 7:37 am "><author>der_coach</author><body><![CDATA[<div class="postbody">lo.
<br /><br />we merged inolens code in the sdk1.3-vanilla version.
<br /><br /><img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_arrow.gif" alt=":arrow:" title="Arrow" /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://themir.de/public/doom3/doom3water13.rar">http://themir.de/public/doom3/doom3water13.rar</a><!-- m -->
<br /><br />you can find the changes searching for: // BEGIN WATER orig. by inolen -- v1.3 by jobst
<br /><br />--
<br />jobst
<br /><br /><!-- w --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://www.themir.de/">http://www.themir.de</a><!-- w --></div>]]></body></post><post id="p142869" date="Posted: Thu May 11, 2006 8:18 am "><author>6th Venom</author><body><![CDATA[<div class="postbody">Thanks for releasing that! I think it's very helpfull for non-coders!  <img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />For the "black-draw" problem, i had this the first timei ran pbmax's water, cause i was not in high details' settings, now all is ok. i don't know why... maybe medium &amp; low disable heathazes and/or mirrorrenders. <img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p145378" date="Posted: Fri Jun 09, 2006 1:38 am "><author>ARON2431</author><body><![CDATA[<div class="postbody">I'm getting the same issue. I load up the mod and the map, and the only thing I see is fog</div>]]></body></post><post id="p145668" date="Posted: Sun Jun 11, 2006 6:05 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Make sure high detail is enabled in the options menu, the water effects are classed by the game as high detail.</div>]]></body></post><post id="p168734" date="Posted: Mon Jan 29, 2007 8:18 am "><author>coldkodiak</author><body><![CDATA[<div class="postbody">There are a lot of dead links in this thread. 
<br /><br />I was wondering if anyone has this water shader current?</div>]]></body></post><post id="p168735" date="Posted: Mon Jan 29, 2007 8:23 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Woah, now theres a blast from the past. Hiya Ck, how are ya? Back on the D3 engine eh? Anyway, kind of off-topic there. But you might want to message Dante_uk. He'd have the latest build i'd say.</div>]]></body></post><post id="p85159" date="Posted: Tue Mar 29, 2005 9:15 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">thanks dante, its pretty much doing the same thing in window mode as in fullscreen mode but sometimes with a different image, its a realy random occurance.
<br />  I had the texture reflecting properly in the water test map, I even copied and pasted the func_water with that texture into my map after several failed attempts but I still couldnt get it to work, I really dont think its a performance issue but heres my specs anyway;
<br /><br />AMD Athlon 2400 512 with Gforce 4 ti 4200 with AGP 8x
<br /><br />thanks again <img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p86745" date="Posted: Wed Apr 06, 2005 9:07 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">Have you heard back from brian?</div>]]></body></post><post id="p86749" date="Posted: Wed Apr 06, 2005 9:20 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">mikebart wrote:</div><div class="quotecontent">Have you heard back from brian?</div>
<br /><br />I'm afraid not, I guess he's a little busy with ROE just coming out, hopefully putting together the SDK for 1.2/3.</div>]]></body></post><post id="p86756" date="Posted: Wed Apr 06, 2005 10:18 pm "><author>Gmz1013</author><body><![CDATA[<div class="postbody">is it soposed to be soild or liquid its soild for me... Help please...</div>]]></body></post><post id="p86767" date="Posted: Wed Apr 06, 2005 10:57 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Gmz1013 wrote:</div><div class="quotecontent">is it soposed to be soild or liquid its soild for me... Help please...</div>
<br /><br />To what are you refering?
<br /><br />If you are trying to use func_water then it should not be solid, this is a change in the SDK, are you using the .dll from  my water.zip?
<br />Are you testing my test map or one of your own?
<br />Do you have any errors appear in the console?
<br /><br />Try my newest test map &amp; dll, just unzip into doom3 folder it will create a folder called GravityMod, in there should be a run.bat, double click it. This should load my test map, turn to your right and you should see a door with a sign next to it saying Water Tests.
<br /><a href="https://web.archive.org/web/20081121124033/http://homepages.nildram.co.uk/~danteuk/GravityMod.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/GravityMod.zip</a></div>]]></body></post><post id="p86773" date="Posted: Wed Apr 06, 2005 11:28 pm "><author>ReubenDSala</author><body><![CDATA[<div class="postbody">I dont think that works with the new patch (1.3)</div>]]></body></post><post id="p90848" date="Posted: Mon Apr 25, 2005 9:25 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I'm having a render problem on linux:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m -->
<br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.
<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>]]></body></post><post id="p90953" date="Posted: Tue Apr 26, 2005 10:04 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">ReubenDSala wrote:</div><div class="quotecontent">I dont think that works with the new patch (1.3)</div><br /><br />Nothing works with 1.3 because it's not out yet, nothing works with 1.2 yet because the SDK for it isn't out.<br /><br />I believe 1.3 will be released sometime soon and shortly after the SDK for it.<br /><br />Then we all have the fun task of merging all our code changes into it.<br /><br /><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux<br /></div>
<br />Without information about your video chipset I can't really help.
<br />I guess from the shot it's a DX 9 level chipset.
<br /><br />Some of the those pools don't renderer correctly of some hardware.
<br />I have access to 3 machines with doom3 on at 3 different DX levels: 7,8,9
<br />All are Nvidia cards though.
<br />The purpose of that test map was to try lots of different method for making water, then test it on all three chipsets and find one method that looks good on all three.</div>]]></body></post><post id="p91752" date="Posted: Sat Apr 30, 2005 3:09 pm "><author>breakerfall</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux:<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m --><br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>
<br /><br />This is very similar to what I posted a page or two back. Same thing, under linux, ATI drivers etc.</div>]]></body></post><post id="p91763" date="Posted: Sat Apr 30, 2005 5:18 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I have an nVidia card, if that makes any difference.</div>]]></body></post><post id="p108410" date="Posted: Tue Aug 16, 2005 6:01 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">I load up the water mod and then type in "map water"
<br /><br />Your map loads up but there is no water inside the pool.  Any ideas?</div>]]></body></post><post id="p121359" date="Posted: Mon Nov 14, 2005 1:01 am "><author>Sebazzz</author><body><![CDATA[<div class="postbody">You're not the only one.
<br /><br />nVidia Geforce FX 5700 LE
<br />Amd athlon XP 2600+
<br />Windows XP Home
<br /><br />Doom 3 with 1.3 patch</div>]]></body></post><post id="p123785" date="Posted: Thu Dec 01, 2005 10:11 am "><author>mth</author><body><![CDATA[<div class="postbody">same thing. only fog in the pit, without any water. Any ideas?</div>]]></body></post><post id="p142864" date="Posted: Thu May 11, 2006 7:37 am "><author>der_coach</author><body><![CDATA[<div class="postbody">lo.
<br /><br />we merged inolens code in the sdk1.3-vanilla version.
<br /><br /><img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_arrow.gif" alt=":arrow:" title="Arrow" /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://themir.de/public/doom3/doom3water13.rar">http://themir.de/public/doom3/doom3water13.rar</a><!-- m -->
<br /><br />you can find the changes searching for: // BEGIN WATER orig. by inolen -- v1.3 by jobst
<br /><br />--
<br />jobst
<br /><br /><!-- w --><a class="postlink" href="https://web.archive.org/web/20081121124033/http://www.themir.de/">http://www.themir.de</a><!-- w --></div>]]></body></post><post id="p142869" date="Posted: Thu May 11, 2006 8:18 am "><author>6th Venom</author><body><![CDATA[<div class="postbody">Thanks for releasing that! I think it's very helpfull for non-coders!  <img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />For the "black-draw" problem, i had this the first timei ran pbmax's water, cause i was not in high details' settings, now all is ok. i don't know why... maybe medium &amp; low disable heathazes and/or mirrorrenders. <img src="https://web.archive.org/web/20081121124033im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p145378" date="Posted: Fri Jun 09, 2006 1:38 am "><author>ARON2431</author><body><![CDATA[<div class="postbody">I'm getting the same issue. I load up the mod and the map, and the only thing I see is fog</div>]]></body></post><post id="p145668" date="Posted: Sun Jun 11, 2006 6:05 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Make sure high detail is enabled in the options menu, the water effects are classed by the game as high detail.</div>]]></body></post><post id="p168734" date="Posted: Mon Jan 29, 2007 8:18 am "><author>coldkodiak</author><body><![CDATA[<div class="postbody">There are a lot of dead links in this thread. 
<br /><br />I was wondering if anyone has this water shader current?</div>]]></body></post><post id="p168735" date="Posted: Mon Jan 29, 2007 8:23 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Woah, now theres a blast from the past. Hiya Ck, how are ya? Back on the D3 engine eh? Anyway, kind of off-topic there. But you might want to message Dante_uk. He'd have the latest build i'd say.</div>]]></body></post><post id="p79054" date="Posted: Thu Feb 24, 2005 6:08 am "><author>idiom</author><body><![CDATA[<div class="postbody">Inolen and I have been working for a little while on getting water to look and work properly in Doom3. We now have a proper fresnel effected water shader and proper swimmable water with sounds and splash effects (just placeholders) for the communuity to use.
<br /><br /><img src="https://web.archive.org/web/20081121170015im_/http://cratematch.doom3reference.com/water_640.jpg" alt="Image" /><br /><br /><img src="https://web.archive.org/web/20081121170015im_/http://www.gamingforums.org/forum/files/shot00032.jpg" alt="Image" /><br /><br />You can download it <a href="https://web.archive.org/web/20081121170015/http://cratematch.doom3reference.com/water.zip" class="postlink">here</a> thanks to doom3reference.com.
<br /><br />To install just unzip to your Doom3 directory and load up water as a mod. There is a testmap called 'water' that shows working water.
<br /><br />Make sure you read the readme if you want to use these assets for your own project.
<br /><br />We are aware of the problem when you're half in the water and the mirror effect reflects the inside of the player model. We think there might be a way to work around this but inolen is busy working on other projects atm.</div>]]></body></post><post id="p79056" date="Posted: Thu Feb 24, 2005 6:13 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Oh my god.
<br />That second pic is picturesque.
<br /><br />Downloading now.
<br /><br />Edit: Well it looks fantastic. I dig the proper reflection, and I see what you mean about the player model.
<br /><br />You said its swim\shootable? felt like a plexiglass covering was over it. shot and felt like a solid surface.
<br /><br />but by the way it runs real nice. not a rescource hog. nice.</div>]]></body></post><post id="p79064" date="Posted: Thu Feb 24, 2005 6:37 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Jehar wrote:</div><div class="quotecontent">Oh my god.<br />That second pic is picturesque.<br /><br />Downloading now.<br /><br />Edit: Well it looks fantastic. I dig the proper reflection, and I see what you mean about the player model.<br /><br />You said its swim\shootable? felt like a plexiglass covering was over it. shot and felt like a solid surface.<br /><br />but by the way it runs real nice. not a rescource hog. nice.</div>
<br /><br />You need to make the water a func_water.</div>]]></body></post><post id="p79066" date="Posted: Thu Feb 24, 2005 6:38 am "><author>Jehar</author><body><![CDATA[<div class="postbody">watashiwa baka.
<br /><br />conslole command?
<br /><img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /></div>]]></body></post><post id="p79069" date="Posted: Thu Feb 24, 2005 6:39 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">Holy piss on a stick that's amazing.  I'm going swimming!  
<br /><br />G</div>]]></body></post><post id="p79070" date="Posted: Thu Feb 24, 2005 6:40 am "><author>iceheart</author><body><![CDATA[<div class="postbody">inolen: You forgot to say "oops" <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" />.</div>]]></body></post><post id="p79072" date="Posted: Thu Feb 24, 2005 6:41 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Jah im not quite too deep into d3 editing yet.
<br />So far im just here for the ride.
<br />So what would it take to make the func_water in the TEST map.
<br /><br />&gt;.&gt;
<br />&lt;.&lt;</div>]]></body></post><post id="p79075" date="Posted: Thu Feb 24, 2005 6:46 am "><author>idiom</author><body><![CDATA[<div class="postbody">DOH! Sorry guys, forgot to make the testmap with a func_water. Will do that and upload again.</div>]]></body></post><post id="p79076" date="Posted: Thu Feb 24, 2005 6:47 am "><author>Jehar</author><body><![CDATA[<div class="postbody">danke sehr</div>]]></body></post><post id="p79077" date="Posted: Thu Feb 24, 2005 6:48 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">idiom wrote:</div><div class="quotecontent">DOH! Sorry guys, forgot to make the testmap with a func_water. Will do that and upload again.</div>
<br /><br />What a douche. <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p79078" date="Posted: Thu Feb 24, 2005 6:56 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Updated.</div>]]></body></post><post id="p79079" date="Posted: Thu Feb 24, 2005 6:56 am "><author>Dinky</author><body><![CDATA[<div class="postbody">Wow... fantastic job.... *downloads*
<br /><br />Mmmm the other guy said it's shootable... I'm not getting anything on this side, am I doing something wrong?</div>]]></body></post><post id="p79082" date="Posted: Thu Feb 24, 2005 7:13 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Jah me neither. 
<br /><br />I assume that crate was put there to push in and get some splash?
<br /><br />One of the few thing i dislike about the d3 engine is the way it currently handles fog. It still "clips" the way it did in q3 and even doom. 
<br /><br />Why oh why?
<br /><br />by clipping you know what i mean right? you see "layers" of the fog in parralel lines. If one thing could be improved on the engine, I would say this is the thing most in need.
<br /><br />anyways, beutiful work.</div>]]></body></post><post id="p79085" date="Posted: Thu Feb 24, 2005 7:16 am "><author>inolen</author><body><![CDATA[<div class="postbody">The crate is just there to show a reflection <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p79087" date="Posted: Thu Feb 24, 2005 7:19 am "><author>BloodRayne</author><body><![CDATA[<div class="postbody">Looking great!
<br /><br />Don't mind us when we use it in EOC.  <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br /><img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p79088" date="Posted: Thu Feb 24, 2005 7:26 am "><author>idiom</author><body><![CDATA[<div class="postbody">It's there to be used  <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p79089" date="Posted: Thu Feb 24, 2005 7:29 am "><author>zakath</author><body><![CDATA[<div class="postbody">heh, looks damn nice.
<br /><br />might be that it will be used in another TC as well  <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p79097" date="Posted: Thu Feb 24, 2005 9:21 am "><author>butmunch</author><body><![CDATA[<div class="postbody">Just one thing when i throw a body into the water it sinks to the bottom like a rock. Otherwise the water looks damn fine.</div>]]></body></post><post id="p79098" date="Posted: Thu Feb 24, 2005 9:25 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Throwing bodies? What are you some kind of psycho killer who needs to dispose of bodies???</div>]]></body></post><post id="p79099" date="Posted: Thu Feb 24, 2005 9:37 am "><author>idiom</author><body><![CDATA[<div class="postbody">I don't think inolen has coded in effects of physics objects. Maybe I can get him to do it if there's enough support <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> If not, if someone else wants to, feel completely free.</div>]]></body></post><post id="p79100" date="Posted: Thu Feb 24, 2005 9:41 am "><author>butmunch</author><body><![CDATA[<div class="postbody">Oh so you've never dumped a body into a river before. <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> I was just trying out the water. Jes gime some slack.</div>]]></body></post><post id="p79105" date="Posted: Thu Feb 24, 2005 10:35 am "><author>breakerfall</author><body><![CDATA[<div class="postbody">That looks awesome in the shots.... unfortunately it doesn't work for me. I run the mod and load the map, but I only see fog where the water should be. There's nothing there though - just an empty space that I fall down. No reflections neither.
<br /><br />If it's of any importance, I'm running Doom3 in linux using the latest ATI drivers.</div>]]></body></post><post id="p79106" date="Posted: Thu Feb 24, 2005 10:37 am "><author>Tenko</author><body><![CDATA[<div class="postbody">There's a gamex86.dll but no .so... I guess there's no linux compilation included so the water code won't be there...</div>]]></body></post><post id="p79109" date="Posted: Thu Feb 24, 2005 10:47 am "><author>breakerfall</author><body><![CDATA[<div class="postbody">Gaghh, I didn't even think of checking for that. Shame on me. <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p79122" date="Posted: Thu Feb 24, 2005 11:51 am "><author>Tenko</author><body><![CDATA[<div class="postbody">Heh, don't worry... I ran into the same problem, and I don't have a windows computer to test it on. So, I'm waiting for some nice person to come along and compile a linux gamex86.so for all of us ^_^</div>]]></body></post><post id="p79487" date="Posted: Sat Feb 26, 2005 8:17 pm "><author>Intel17</author><body><![CDATA[<div class="postbody">What annoys me is that the water is dependent on massive quantities of geometry to achieve acceptable results. 
<br /><br />I thought the age of doing things per-vertex ended with Doom 3?</div>]]></body></post><post id="p79491" date="Posted: Sat Feb 26, 2005 8:28 pm "><author>iceheart</author><body><![CDATA[<div class="postbody">"Massive quantities" is a pretty massive overstatement of things here...</div>]]></body></post><post id="p79493" date="Posted: Sat Feb 26, 2005 8:32 pm "><author>Intel17</author><body><![CDATA[<div class="postbody"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">"Massive quantities" is a pretty massive overstatement of things here...</div>
<br /><br />Perhaps, but I cannot see why it would be done per-vertex. It wouldn't take many instructions at all to do it per-pixel in a fragment program.</div>]]></body></post><post id="p79524" date="Posted: Sat Feb 26, 2005 11:38 pm "><author>Mordenkainen</author><body><![CDATA[<div class="postbody">Nice work on the fresnel! Two questions:
<br /><br />Firstly, is there any way we can control the fresnel factor from the editor (say a key/val for the func_water or in the material entry)?
<br /><br />Secondly, I noticed that loading the custom game dll makes game loading quite a bit slower. In normal D3 I have to wait around 3 seconds from clicking icon to id logo ROQ starting. Using a shortcut (or from the Mods menu) to the water mod I have to wait around 12 seconds.</div>]]></body></post><post id="p79527" date="Posted: Sat Feb 26, 2005 11:47 pm "><author>idiom</author><body><![CDATA[<div class="postbody">Well inolen made it per-vertex and I don't think the extra subdivisions needed on the patch would make much difference to fps. That said, I made a different version of the shader that calculates the normal per-pixel and based on a normalmap and I got it semi-working <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> It did however add at least 6 more instructions and probably would have needed more to get it to work properly. Calculating the vector the viewer per-pixel would have added even more instructions. Doing this could possibly yield better looking results but I'm not very good at coding and inolen is now working on his own engine plus there might be a performance loss greater then just putting more vertices in.
<br /><br />EDIT: There are a couple of things you can do. In the water material, inolen_water_mirror uses vertexparm 0. The default value is .0200593122. You can change that and it'll basically effect the overall reflectivity of the water, the higher the more reflective.
<br /><br />You can also edit the shader itself. Where it goes "SUB R3, 1.0, program.local[0];" I have in the past changed that 1.0 to a higher number. This makes the water get more reflective more quickly but if you make the value too high it'll lead to the problem where the reflectivity can become too high in some areas that the colours go wierd as if they're oversaturated or something.
<br /><br />Another thing you could try is increase the number of "MUL R4, R4, R3;" instructions. This should I <span style="font-style: italic">think</span> make the change from transparent to reflective more abrupt but my own experiments didn't show a very noticeable difference.
<br /><br /><br />For your second question, I didn't notice the game load speed difference. Kinda wierd <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> Might talk to inolen about it, he might know.</div>]]></body></post><post id="p79586" date="Posted: Sun Feb 27, 2005 6:51 am "><author>Tenko</author><body><![CDATA[<div class="postbody">I've managed to get gcc 3.3 working on my computer (usually use 3.4) and so I've compiled a linux gamex86.so for anyone that wants it. It's currently hosted at <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121121541/https://skyandlight.no-ip.com/~amackenzie/game01.pk4">https://skyandlight.no-ip.com/~amackenzie/game01.pk4</a><!-- m --> . Just download it and stick it into your water directory, and it should work.
<br /><br />Please tell me if there's any problems with it, since this is the first time I've done this. Many thanks! ^_^
<br /><br />PS. If anyone can recommend a good place to host this sort of stuff, I'd appreciate that too, since right now it's hosted on my own comp, that might be up and down... a definite annoyance for anyone trying to get it...</div>]]></body></post><post id="p79590" date="Posted: Sun Feb 27, 2005 7:15 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Mordenkainen wrote:</div><div class="quotecontent">Nice work on the fresnel! Two questions:<br /><br />Firstly, is there any way we can control the fresnel factor from the editor (say a key/val for the func_water or in the material entry)?<br /><br />Secondly, I noticed that loading the custom game dll makes game loading quite a bit slower. In normal D3 I have to wait around 3 seconds from clicking icon to id logo ROQ starting. Using a shortcut (or from the Mods menu) to the water mod I have to wait around 12 seconds.</div>
<br /><br />The dll in the pak file is a debug dll. I forgot to compile the release version. Oh well.</div>]]></body></post><post id="p79593" date="Posted: Sun Feb 27, 2005 7:59 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Intel17 wrote:</div><div class="quotecontent">What annoys me is that the water is dependent on massive quantities of geometry to achieve acceptable results. <br /><br />I thought the age of doing things per-vertex ended with Doom 3?</div>
<br /><br />Yea, ok.
<br /><br />By adding a 5x5 patch mesh, we add, what, 32 vertices? So we calculate the fresnel term 36 times for our water. The vertex shader is around 12 instructions I believe. So we use around 432 instructions calculating the fresnel term for the water with a 5x5 patch mesh (which looks just fine as well, I doubt you'd notice much difference from a pixel shader in that map). Now.. lets move this all over to the pixel shader. First, we are going to add probably at least 5 instructions to get the fragment.position into world space. Then, lets say our user is running the game at 1024 x 768 and the entire screen is water. We will have about 17 instructions per pixel calculating the fresnel term. So this would come out to about 13,369,344 instructions calculating the fresnel term for the water (compared to the 432 when done per-vertex), for a marginable increase in visual quality.</div>]]></body></post><post id="p79609" date="Posted: Sun Feb 27, 2005 10:34 am "><author>nexx</author><body><![CDATA[<div class="postbody">Anybody kind enough to upload a small video?</div>]]></body></post><post id="p79615" date="Posted: Sun Feb 27, 2005 12:25 pm "><author>nd.LaZ</author><body><![CDATA[<div class="postbody">With swimable water comes the wierdness in lack of swimming animations. I sure hope that RoE will have water because I'd love to make a multiplayer map with water in it. But seeing other players float arround in a not-so-swimming manner would kind of ruin the illusion.
<br /><br />Unless offcourse someone could create and add custom animations.</div>]]></body></post><post id="p79699" date="Posted: Sun Feb 27, 2005 11:59 pm "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">What about the physics of the water? Its applied to the player but not any other movables. Why? Its only a guess but i would think it would only take 1 line of code to give the water a physics property that acts on the world around it and not just the player.</div>]]></body></post><post id="p79715" date="Posted: Mon Feb 28, 2005 3:00 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">It would be a bit more than that.  There are no bouyancy equations in the physics code, if I recall correctly.  So, you would need to add them to the system, figure out a way to detect when for moveables are in water, and apply proper physics to them.
<br /><br />G</div>]]></body></post><post id="p79719" date="Posted: Mon Feb 28, 2005 3:10 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Your right, there are no bouyancy physics. But i remember when i was messing around with water that some objects WOULD float, they were completely static but they were floating. As soon as i shot a floating ojbect (ala applying physics to it) it'd sink to the bottem like a rock.
<br />Although we have no bouyancy code i'm pretty sure we could get an object to atleast sink to the bottem with the proper gravity properties.</div>]]></body></post><post id="p79729" date="Posted: Mon Feb 28, 2005 4:37 am "><author>BEERman</author><body><![CDATA[<div class="postbody">func_forcefield pushing up enough to slow things down without levitating should work ok. You'd have to play around to find the best amount of force to apply.</div>]]></body></post><post id="p79734" date="Posted: Mon Feb 28, 2005 4:56 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Well considering that they've created a new entity called func_water, might as well integrate boyancy type functionality into this new entity.</div>]]></body></post><post id="p79744" date="Posted: Mon Feb 28, 2005 6:36 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Problem is, you'll have to class every single movable item as a floater or sinker.</div>]]></body></post><post id="p79747" date="Posted: Mon Feb 28, 2005 7:27 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Problem is, you'll have to class every single movable item as a floater or sinker.</div>
<br /><br />No? You give them a mass, and set the density of the water and then do your calculations. It shouldn't be hard at all.</div>]]></body></post><post id="p79753" date="Posted: Mon Feb 28, 2005 8:37 am "><author>heXum</author><body><![CDATA[<div class="postbody">I downloaded this and tested it out... looks great! Was very close to adding it into a multiplayer mod that I'm working on... then I tested something.
<br /><br />Spawned a ragdoll and let it drop to the bottom. Swam down to it and shot it. When it starts taking hits and eventually gibs, FPS drops down to single digits. Not good. <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Excellent work though. It's beautiful</div>]]></body></post><post id="p79757" date="Posted: Mon Feb 28, 2005 8:52 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Problem is, you'll have to class every single movable item as a floater or sinker.</div><br /><br />No? You give them a mass, and set the density of the water and then do your calculations. It shouldn't be hard at all.</div>
<br />What about hollow objects? We could have a giant barrel, if we make its mass small then we'll be kicking them around like paper. It'll make it unrealistic out of water.
<br />A small brick isn't going to float, but a giant crate would. The brick would wiegh less than the crate, so your going to have to make the giant crate wiegh less than the brick. Out of water that'll look unrealistic.</div>]]></body></post><post id="p79768" date="Posted: Mon Feb 28, 2005 10:05 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Problem is, you'll have to class every single movable item as a floater or sinker.</div><br /><br />No? You give them a mass, and set the density of the water and then do your calculations. It shouldn't be hard at all.</div><br />What about hollow objects? We could have a giant barrel, if we make its mass small then we'll be kicking them around like paper. It'll make it unrealistic out of water.<br />A small brick isn't going to float, but a giant crate would. The brick would wiegh less than the crate, so your going to have to make the giant crate wiegh less than the brick. Out of water that'll look unrealistic.</div>
<br /><br />OK - so you need a density attribute too. Or perhaps only a density value as you could calculate mass from volume/density and volume is inherent in the object itself. 
<br /><br />hmm - need to think back to science class... That seems arse about...
<br /><br />EDIT: No. You can (roughly) infer volume from the bounding box. Also, each object has a mass attached to it I believe. Therefore you can calculate the density and deal with it from there in terms of bouyancy . If Bouyancy  != environment (ie water) then sink/rise at difference(*fudge) whilst within medium.  The boundary condition would be a shit though.
<br /><br />EDIT #2. As an aside, does anyone recall within HL2 when you have to shoot some planks of wood underwater (after dealing with manhacks, exploding barrels and flooding a chamber) and the spool floats straight up to the surface upon which you can jump and move on?  In the "real" world that spool would be all over the place depending on the angle at which it started. Rising to the left, then the right, then forward, all depending on its initial angle and the "phase of the moon"
<br /><br />Dont ever believe that the Havoc P-engine has modelled things perfectly.</div>]]></body></post><post id="p79769" date="Posted: Mon Feb 28, 2005 10:13 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Both density and mass are already in the physics system so I don't see what the fuss is about here.</div>]]></body></post><post id="p79770" date="Posted: Mon Feb 28, 2005 10:25 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">Both density and mass are already in the physics system so I don't see what the fuss is about here.</div>
<br /><br />If they are then one less calculation.  Excellent!</div>]]></body></post><post id="p79778" date="Posted: Mon Feb 28, 2005 12:04 pm "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Good write up radix2, i think we're getting closer to figuring out just how complicated this can get. <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br /><div class="quotetitle">radix2 wrote:</div><div class="quotecontent">EDIT #2. As an aside, does anyone recall within HL2 when you have to shoot some planks of wood underwater (after dealing with manhacks, exploding barrels and flooding a chamber) and the spool floats straight up to the surface upon which you can jump and move on?  In the "real" world that spool would be all over the place depending on the angle at which it started. Rising to the left, then the right, then forward, all depending on its initial angle and the "phase of the moon"<br /><br />Dont ever believe that the Havoc P-engine has modelled things perfectly.</div> Well, i don't think ANY engine (in the gaming world) has ever replicated an objects projection based on such a complicated equation. I'm sure you could emagine the calculations the computer would have to do to create that. It could almost be 'per-pixel physics'. <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br />I think another problem that needs to be fixed is the basic way D3 does the physics. It won't apply physics to an object unless it is being acted upon by another force. The big problem is, the 'other forces' don't include gravity. Meaning you could flip a room and the crate won't fall to the roof unless you for example, shoot at it. Only then will it apply the new direction of gravity.</div>]]></body></post><post id="p79784" date="Posted: Mon Feb 28, 2005 1:39 pm "><author>sxotty</author><body><![CDATA[<div class="postbody"><a href="https://web.archive.org/web/20081121121643/http://www.doom3world.org/phpbb2/viewtopic.php?t=7869&amp;postdays=0&amp;postorder=asc&amp;start=34" class="postlink">http://www.doom3world.org/phpbb2/viewtopic.php?t=7869&amp;postdays=0&amp;postorder=asc&amp;start=34</a>
<br />We had this discussion before <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" />  There were some simple ideas in that thread about how to hack it and make things look nice, including how to deal with the boundary condition...</div>]]></body></post><post id="p79789" date="Posted: Mon Feb 28, 2005 2:02 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Just a thought on the issue of how fast objects sinks compared to others, it's not to do with how heavy they are, it's whether they're denser than water, and then simply how much water they can displace in any one given time.  A kilo of metal in a flat sheet will sink slower than a kilo of metal in a thin rod, as the thin rod needs to displace less water to sink.
<br /><br />On the moon, where there is no air, a hammer and a feather will fall at the same rate, it's the same idea, because they're not displacing anything, they just drop at the exact force of gravity.
<br /><br />Therefor, the only thing you need to code is whether an object floats or sinks, one something definatly is going to sink, it's speed will be indirectly proportional to the in game volume of the object, which means every object already has the data it needs for us to work out how fast it sinks.</div>]]></body></post><post id="p79797" date="Posted: Mon Feb 28, 2005 2:24 pm "><author>sxotty</author><body><![CDATA[<div class="postbody">Baul that isn't quite right b/c a sheet will sink slower than a rod of the same volume and same density.  It is probably more a cause of turbulent flow than most anything.  As you might or might not remember the friction force is not really related to the area of an object b/c the smaller it is (if the same mass) than the higher the friction (that is why ice skates melt ice and skaters are on a thin sheen of water).
<br /><br />Anyway the water flowing around the sheet has to flow quite a ways, and the water around the rod just moves a tiny bit. Though to be completely honest I am not sure whether it has to do with a transfer of energy to the water as momentum or to do with turbulence and viscosity as suggested earlier, but either way it is unfortunately quite complex.  To be honest though I think if things sank or floated and if the floaters floated at the proper height people would be happy enough...</div>]]></body></post><post id="p79953" date="Posted: Tue Mar 01, 2005 7:01 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Your both right, but lets stop talking about that aspect since it really is seriously too complicated for any commercial engine like D3.
<br />Is anyone willing to put together working water physics?</div>]]></body></post><post id="p79961" date="Posted: Tue Mar 01, 2005 7:35 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Your both right, but lets stop talking about that aspect since it really is seriously too complicated for any commercial engine like D3.</div><br /><br />Exactly my point about the Havoc P-engine. It (as exemplar of todays games out of the box) is not perfect, so why should we be expected to get every detail perfect<br /><br /><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Is anyone willing to put together working water physics?</div>
<br /><br />I would love to, but alas, I would not know where to start</div>]]></body></post><post id="p79975" date="Posted: Tue Mar 01, 2005 8:20 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody"><div class="quotetitle">radix2 wrote:</div><div class="quotecontent"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Is anyone willing to put together working water physics?</div><br /><br />I would love to, but alas, I would not know where to start</div>
<br />Well i've created a new thread specificly for this right here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121121643/http://www.doom3world.org/phpbb2/viewtopic.php?p=79974#79974">http://www.doom3world.org/phpbb2/viewto ... 9974#79974</a><!-- m -->
<br />So lets atleast start thinking of ways we can go about it.</div>]]></body></post><post id="p79993" date="Posted: Tue Mar 01, 2005 12:09 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">breakerfall wrote:</div><div class="quotecontent">That looks awesome in the shots.... unfortunately it doesn't work for me. I run the mod and load the map, but I only see fog where the water should be. There's nothing there though - just an empty space that I fall down. No reflections neither.<br /><br />If it's of any importance, I'm running Doom3 in linux using the latest ATI drivers.</div>
<br /><br />I ported the code to Linux and I only a fog effect too.
<br /><img src="https://web.archive.org/web/20081121121643im_/http://homepages.nildram.co.uk/~danteuk/euro/screenshots/water1.jpg" alt="Image" /><br />I don't drop straight to the bottom though, I sink slowly and can swim.
<br />I'm testing a laptop which is Geforce 4600GO ( DX8.1 I think ). So obviously the dx9 effect won't appear, I was still expecting to see the reflections though as I know they can work on this chipset in doom3.
<br />Here you can see a screenshot I took before using my basic water .mtr file for the fountain. <a href="https://web.archive.org/web/20081121121643/http://homepages.nildram.co.uk/%7Edanteuk/euro/screenshots/lnx_gf4go1.jpg" class="postlink">http://homepages.nildram.co.uk/%7Edanteuk/euro/screenshots/lnx_gf4go1.jpg</a>
<br /><br />I assume that before using the standard gamex86.so you should have had an error complaining about the missing class idWater.
<br /><br />What I do get is:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />    0 purged from previous<br />  148 kept from previous<br />  411 new loaded<br />all images loaded in  20.1 seconds<br />----------------------------------------<br />-----------------------------------<br /> 28406 msec to load water<br />idRenderWorld::GenerateAllInteractions, msec = 0, staticAllocCount = 0.<br />interactionTable size: 44084 bytes<br />21 interaction take 2352 bytes<br />------------- Warnings ---------------<br />during water...<br />WARNING: material 'textures/inolen_water' had stage with no image<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />3 warnings<br /></div></div>]]></body></post><post id="p80118" date="Posted: Wed Mar 02, 2005 1:20 am "><author>idiom</author><body><![CDATA[<div class="postbody">The reflection is rendered but only shown through the fresnel shader so if the shader doesn't work for your card you probably wouldn't get the reflection.</div>]]></body></post><post id="p80124" date="Posted: Wed Mar 02, 2005 2:23 am "><author>binaryc</author><body><![CDATA[<div class="postbody">You may want to add a section like this for those with lower-end video cards:
<br />{
<br />if ( fragmentPrograms == 0 )
<br />blend blend
<br />map _scratch
<br />alpha 0.5
<br />}</div>]]></body></post><post id="p80128" date="Posted: Wed Mar 02, 2005 2:44 am "><author>idiom</author><body><![CDATA[<div class="postbody">Well the code seems to be v1.0 fp/vp so it might not be the fresnel shader. Could it be the heathaze?</div>]]></body></post><post id="p80180" date="Posted: Wed Mar 02, 2005 9:17 am "><author>Gazzul</author><body><![CDATA[<div class="postbody">I don't kown if it's of any use. 
<br /><br />I had problems to see the reflections too, so I just turned the quality in Doom3 from Low Quality to High Quality and after a vid_restart, I was able to see them...</div>]]></body></post><post id="p80181" date="Posted: Wed Mar 02, 2005 9:19 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody">I know the heathaze won't work on my laptop chipset but in the water .mtr that I use it doesn't stop the reflection.
<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br />   noSelfShadow<br />   noshadows<br />//   translucent<br />   nonsolid<br />   water<br />   {<br />                vertexProgram           heatHazeWithMask.vfp<br />                vertexParm              0       time * 0.1 , time * 0.5*Parm3<br />                vertexParm              1       3<br />                fragmentProgram         heatHazeWithMask.vfp<br />                fragmentMap             0       _currentRender<br />                fragmentMap             1       textures/sfx/vp1.tga<br />                fragmentMap             2       textures/sfx/vp1_alpha.tga<br />   }<br /><br />   { // Mirror effect <br />      mirrorRenderMap      512   256<br />      blend   blend <br /><br />      red      0.3 <br />      green   0.3 <br />      blue   0.1 <br />       alpha   0.7<br /><br />      // these may not be necessary when I finish the code <br />      translate   0.5 , 0.5 <br />      scale   0.5 , 0.5 <br />   } // End Mirror effect <br /><br /><br />   //<br />   // first part of the crossfade<br />   //<br />   {<br />      if snapFive[ time / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled001, 4)<br />   }<br />   {<br />      if snapFive[ time + 1.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled003, 4)<br />   }<br />   {<br />      if snapFive[ time + 2.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled005, 4)<br />   }<br />   {<br />      if snapFive[ time + 3.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled007, 4)<br />   }<br />   {<br />      if snapFive[ time + 4.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled009, 4)<br />   }<br />   <br /><br />   //<br />   // second part of the crossfade<br />   //<br />   {<br />      if snapFive[ time + 0.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled002, 4)<br />   }<br />   {<br />      if snapFive[ time + 1.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled004, 4)<br />   }<br />   {<br />      if snapFive[ time + 2.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled006, 4)<br />   }<br />   {<br />      if snapFive[ time + 3.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled008, 4)<br />   }<br />   {<br />      if snapFive[ time + 4.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled010, 4)<br />   }<br /><br /><br />   {<br />      blend      specularmap<br />      map      textures/water_njm/water_njm_s.tga<br />   }<br />   {<br />      blend      diffusemap<br />      map      textures/water_njm/water_njm.tga<br />   }<br />}<br /></div></div>]]></body></post><post id="p80203" date="Posted: Wed Mar 02, 2005 12:24 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody">I've been looking the .mtr on a DX8 &amp; DX9 cards and basically as in my post above nothing is drawn.
<br /><br />I've made a small change to .mtr and added one of my own, then I changed the test map slightly to have two tanks of water and a little more detail &amp; light.
<br /><img src="https://web.archive.org/web/20081121122651im_/http://homepages.nildram.co.uk/~danteuk/water.jpg" alt="Image" /><br /><br />This file contains it all ( INCLUDING gamex86.so for Linux !! ) NON DEBUG - *UPDATED* map to test 4 tanks of different water now.
<br /><a href="https://web.archive.org/web/20081121122651/http://homepages.nildram.co.uk/~danteuk/water.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/water.zip</a>
<br /><br />I can't test what this looks like on DX9 level cards till I get home tonight so it would be interesting if someone could post a shot.</div>]]></body></post><post id="p80249" date="Posted: Wed Mar 02, 2005 4:59 pm "><author>breakerfall</author><body><![CDATA[<div class="postbody">My system:
<br /><br />AMD64 3000
<br />1 GIG RAM
<br />ATI 9700pro - latest linux drivers
<br /><br />The blue/green water (on the right in your shot) doesn't look so good. The actual surface ripples look like a 2d film just sitting on top of the water and the movement is very awkward, seemingly changing every half second or so. Doesn't look right. The darker water (left) looks much better ripple wise but the reflections still seem a little blocky. Also, a strange glitch occurs when viewing the darker water whilst hovering just over the green tank - looking over the diving wall. You see the stripes across the whole reflection. You also see the inside of the marines body whilst emerging from water.</div>]]></body></post><post id="p80256" date="Posted: Wed Mar 02, 2005 5:33 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody">Yeah the blue/green animation is a tacky hack.
<br />I don't know much about ATI cards, does that card(&amp; drivers)  support DX9 level shaders?
<br />The blue/green water should have the heathaze effect to make the surface move too.(as well as the jerky animation).
<br /><br />Both the reflections have the hollow model problem, I think something in the func_water code should be added (or in player.def ??? )so the player model isn't drawn for 1st person view when in or touching water.</div>]]></body></post><post id="p80257" date="Posted: Wed Mar 02, 2005 5:45 pm "><author>iceheart</author><body><![CDATA[<div class="postbody">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div>]]></body></post><post id="p80273" date="Posted: Wed Mar 02, 2005 7:58 pm "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div>
<br /><br />Not really... I haven't worked on this for a while, but I think I just never figured out how the mirrorRenderMap got it's view. If someone finds out how, they can just suppress the local player model from it when in the water.</div>]]></body></post><post id="p80277" date="Posted: Wed Mar 02, 2005 8:22 pm "><author>Mordenkainen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div><br /><br />Not really... I haven't worked on this for a while, but I think I just never figured out how the mirrorRenderMap got it's view. If someone finds out how, they can just suppress the local player model from it when in the water.</div>
<br /><br />If at all possible, only supress backfaces?</div>]]></body></post><post id="p80289" date="Posted: Wed Mar 02, 2005 9:46 pm "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Mordenkainen wrote:</div><div class="quotecontent"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div><br /><br />Not really... I haven't worked on this for a while, but I think I just never figured out how the mirrorRenderMap got it's view. If someone finds out how, they can just suppress the local player model from it when in the water.</div><br /><br />If at all possible, only supress backfaces?</div>
<br /><br />Why?</div>]]></body></post><post id="p80308" date="Posted: Thu Mar 03, 2005 1:30 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody">In the interest of experimenting I've extended the map to have 8 pools of water.
<br /><br />1 - The original water by inolen &amp; idiom.
<br />2 - A varation on the above.
<br />3 - Material by me
<br />4 - Material by me
<br />5 - Mordenkainen - failed test by me
<br />6 - Mordenkainen
<br />7 - water07 / water07_surf  ( have a go, please !! )
<br />8 - water08 / water08_surf  ( have a go, please !! )
<br /><br />This zip has all you need to run the map in Windows or Linux.(source code removed b'c not changed).
<br /><a href="https://web.archive.org/web/20081121122651/http://homepages.nildram.co.uk/~danteuk/water.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/water.zip</a>
<br /><br /><img src="https://web.archive.org/web/20081121122651im_/http://homepages.nildram.co.uk/~danteuk/water23.jpg" alt="Image" /></div>]]></body></post><post id="p80358" date="Posted: Thu Mar 03, 2005 11:55 am "><author>Mordenkainen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">Mordenkainen wrote:</div><div class="quotecontent">If at all possible, only supress backfaces?</div><br /><br />Why?</div>
<br /><br />The problem is the player model intersecting with the reflection plane right? The reflection shows the inside of the model. If you can draw only front faces (as viewed from the reflection plane) then the visual artefact should disappear but you still have the player's reflection, right?
<br /><br />I was just thinking that completely removing the player model from the reflection when we step into the water is going to look awkward. That's probably why in HL2 we never see gordon's reflection, even when we're not touching the water surface.</div>]]></body></post><post id="p80385" date="Posted: Thu Mar 03, 2005 3:16 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Not seeing the player's reflection in water is so common in games it's pratically a given.  Other stuff like that, e.g player shadows, have been excluded from games almost universally, so not including them in D3 isn't going to be noticed by anyone.
<br /><br />Then again, if you could actually see your reflection, that would be rather cool.  For the mean time, just surpressing the player model when in the water I think will solve the immidate artifact problem, surpressing only the back faces is something to look at later.</div>]]></body></post><post id="p80391" date="Posted: Thu Mar 03, 2005 3:29 pm "><author>iceheart</author><body><![CDATA[<div class="postbody">I think it should be pretty obvious that you should see yourself in a reflective surface, anything else is just the devs taking the easy, cheap way out.</div>]]></body></post><post id="p80875" date="Posted: Sun Mar 06, 2005 5:31 pm "><author>dolver</author><body><![CDATA[<div class="postbody">i noticed with a func_water that when you sprint-jump into it it shows a splash decal and particle but when you walk on it it only shows the splash decal. this isnt as much of a problem though than the fact that when you shoot it it doesnt make a splash decal or particle. why is this? ive tried to fix it myself but i cant figure it out. could someone help?</div>]]></body></post><post id="p80897" date="Posted: Sun Mar 06, 2005 7:57 pm "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent"><br />1 - The original water by inolen &amp; idiom.<br />2 - A varation on the above.<br />3 - Material by me<br />4 - Material by me<br />5 - Mordenkainen - failed test by me<br />6 - Mordenkainen<br />7 - water07 / water07_surf  ( have a go, please !! )<br />8 - water08 / water08_surf  ( have a go, please !! )<br /></div>
<br /><br />7 and 4 look the best to me, although neither seem to reflect.  5 is a pit of nodraw for me.</div>]]></body></post><post id="p80912" date="Posted: Sun Mar 06, 2005 10:12 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">radix2 wrote:</div><div class="quotecontent"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent"><br />1 - The original water by inolen &amp; idiom.<br />2 - A varation on the above.<br />3 - Material by me<br />4 - Material by me<br />5 - Mordenkainen - failed test by me<br />6 - Mordenkainen<br />7 - water07 / water07_surf  ( have a go, please !! )<br />8 - water08 / water08_surf  ( have a go, please !! )<br /></div><br /><br />7 and 4 look the best to me, although neither seem to reflect.  5 is a pit of nodraw for me.</div>
<br /><br />What DX Level gfx card do you have?
<br />Some of the effects being used as require a DX 9 level card.</div>]]></body></post><post id="p80920" date="Posted: Sun Mar 06, 2005 10:47 pm "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">dolver wrote:</div><div class="quotecontent">i noticed with a func_water that when you sprint-jump into it it shows a splash decal and particle but when you walk on it it only shows the splash decal. this isnt as much of a problem though than the fact that when you shoot it it doesnt make a splash decal or particle. why is this? ive tried to fix it myself but i cant figure it out. could someone help?</div>
<br /><br />I talked about that in the readme.</div>]]></body></post><post id="p80923" date="Posted: Sun Mar 06, 2005 10:54 pm "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent">What DX Level gfx card do you have?<br />Some of the effects being used as require a DX 9 level card.</div>
<br /><br />Sorry, I should have posted those details orginally.  Now I am not am home to check the minor revision, but I can tell you that it is DX9 capable..  I will edit this post with the proper information when I get home.</div>]]></body></post><post id="p80962" date="Posted: Mon Mar 07, 2005 4:39 am "><author>dolver</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">dolver wrote:</div><div class="quotecontent">i noticed with a func_water that when you sprint-jump into it it shows a splash decal and particle but when you walk on it it only shows the splash decal. this isnt as much of a problem though than the fact that when you shoot it it doesnt make a splash decal or particle. why is this? ive tried to fix it myself but i cant figure it out. could someone help?</div><br /><br />I talked about that in the readme.</div>
<br /><br />oh sorry i didnt see that. any idea how to fix it or what file to modify? wheres that BulletWaterTrail function you mentioned
<br /><br />edit: nevermind i found the file</div>]]></body></post><post id="p81303" date="Posted: Wed Mar 09, 2005 10:45 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent">What DX Level gfx card do you have?<br />Some of the effects being used as require a DX 9 level card.</div>
<br /><br />Damn - was running old Cat version (4.8 with Doom3 patch). I have now updated to 5.2 and these are my observations. System spec in signature..
<br /><br />1 - The original water by inolen &amp; idiom.
<br />No reflection. Artifacts around crate (maybe the water surface is too close to the crate). Water is too clear
<br /><br />2 - A varation on the above.
<br />No drawing of water surface, but still an odd reflection from flashight
<br /><br />3 - Material by Dante_uk
<br />ripples "stutter" or "lag". Reflection of crate, lighthanger placeholders and an image of player. Good apart from lag, although too clear.
<br /><br />4 - Material by Dante_uk
<br />Good. Nice ripples and flareout from flashlight. Nice distortion of drum from the right of the crate whilst facing the wall
<br /><br />5 - Mordenkainen - failed test by me
<br />No draw aside from weird reflection of flashlight
<br /><br />6 - Mordenkainen
<br />Good - interesting diffraction bands but no reflection. Too clear
<br /><br />7 - water07 / water07_surf  ( have a go, please !! )
<br />no reflection. good ripples and distortion. Nice murkiness
<br /><br />8 - water08 / water08_surf  ( have a go, please !! )
<br />no reflection. Good ripples and distortion. Too clear.
<br /><br /><br />One thing that I notice is that if you are on the right side of the crate then the drum is distorted/displaced (which is correct), but on the left side of the crate, you just get a slight ripple effect.
<br /><br />I like aspects of 3 for reflections; 7 for murkiness, ripples and distortion and 4 for the flashlight glare effect.  These might be exclusionary though... <img src="https://web.archive.org/web/20081121122651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p84797" date="Posted: Mon Mar 28, 2005 2:19 am "><author>mikebart</author><body><![CDATA[<div class="postbody">Im having a problem getting the water reflection to run in game but it runs fine in the editor, im using the texture: njm_water_reflect
<br />could it be a graphics card issue? if so why does it work in editor mode?
<br /><br />check out this post if you want to see screenshots: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121122651/http://www.doom3world.org/phpbb2/viewtopic.php?t=9589">http://www.doom3world.org/phpbb2/viewtopic.php?t=9589</a><!-- m -->
<br /><br />thanks, nice work by the way <img src="https://web.archive.org/web/20081121122651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p85046" date="Posted: Tue Mar 29, 2005 12:37 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody">When you run the game are you running fullscreen?
<br />if so can you try in windowed mode, just to see that's where the problem is.
<br /><br />I've seen things before that look different in the editor than in game, not sure really why that would be the case.
<br /><br />I've mailed Brian at id about this:
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">There seems to be odd little differences in the rendered image in the editor from the in-game image.<br /><br />Specifically problems with reflections that look fine in editor but don’t appear in game.<br /><br />Could you post an explanation/list of differences in the rendering from the Editor preview window and the normal game rendering (plus any between running in windowed mode vs fullscreen).<br /></div>
<br /><br />With a little luck we may get an answer.</div>]]></body></post><post id="p85159" date="Posted: Tue Mar 29, 2005 9:15 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">thanks dante, its pretty much doing the same thing in window mode as in fullscreen mode but sometimes with a different image, its a realy random occurance.
<br />  I had the texture reflecting properly in the water test map, I even copied and pasted the func_water with that texture into my map after several failed attempts but I still couldnt get it to work, I really dont think its a performance issue but heres my specs anyway;
<br /><br />AMD Athlon 2400 512 with Gforce 4 ti 4200 with AGP 8x
<br /><br />thanks again <img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p86745" date="Posted: Wed Apr 06, 2005 9:07 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">Have you heard back from brian?</div>]]></body></post><post id="p86749" date="Posted: Wed Apr 06, 2005 9:20 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">mikebart wrote:</div><div class="quotecontent">Have you heard back from brian?</div>
<br /><br />I'm afraid not, I guess he's a little busy with ROE just coming out, hopefully putting together the SDK for 1.2/3.</div>]]></body></post><post id="p86756" date="Posted: Wed Apr 06, 2005 10:18 pm "><author>Gmz1013</author><body><![CDATA[<div class="postbody">is it soposed to be soild or liquid its soild for me... Help please...</div>]]></body></post><post id="p86767" date="Posted: Wed Apr 06, 2005 10:57 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Gmz1013 wrote:</div><div class="quotecontent">is it soposed to be soild or liquid its soild for me... Help please...</div>
<br /><br />To what are you refering?
<br /><br />If you are trying to use func_water then it should not be solid, this is a change in the SDK, are you using the .dll from  my water.zip?
<br />Are you testing my test map or one of your own?
<br />Do you have any errors appear in the console?
<br /><br />Try my newest test map &amp; dll, just unzip into doom3 folder it will create a folder called GravityMod, in there should be a run.bat, double click it. This should load my test map, turn to your right and you should see a door with a sign next to it saying Water Tests.
<br /><a href="https://web.archive.org/web/20081121165654/http://homepages.nildram.co.uk/~danteuk/GravityMod.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/GravityMod.zip</a></div>]]></body></post><post id="p86773" date="Posted: Wed Apr 06, 2005 11:28 pm "><author>ReubenDSala</author><body><![CDATA[<div class="postbody">I dont think that works with the new patch (1.3)</div>]]></body></post><post id="p90848" date="Posted: Mon Apr 25, 2005 9:25 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I'm having a render problem on linux:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m -->
<br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.
<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>]]></body></post><post id="p90953" date="Posted: Tue Apr 26, 2005 10:04 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">ReubenDSala wrote:</div><div class="quotecontent">I dont think that works with the new patch (1.3)</div><br /><br />Nothing works with 1.3 because it's not out yet, nothing works with 1.2 yet because the SDK for it isn't out.<br /><br />I believe 1.3 will be released sometime soon and shortly after the SDK for it.<br /><br />Then we all have the fun task of merging all our code changes into it.<br /><br /><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux<br /></div>
<br />Without information about your video chipset I can't really help.
<br />I guess from the shot it's a DX 9 level chipset.
<br /><br />Some of the those pools don't renderer correctly of some hardware.
<br />I have access to 3 machines with doom3 on at 3 different DX levels: 7,8,9
<br />All are Nvidia cards though.
<br />The purpose of that test map was to try lots of different method for making water, then test it on all three chipsets and find one method that looks good on all three.</div>]]></body></post><post id="p91752" date="Posted: Sat Apr 30, 2005 3:09 pm "><author>breakerfall</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux:<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m --><br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>
<br /><br />This is very similar to what I posted a page or two back. Same thing, under linux, ATI drivers etc.</div>]]></body></post><post id="p91763" date="Posted: Sat Apr 30, 2005 5:18 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I have an nVidia card, if that makes any difference.</div>]]></body></post><post id="p108410" date="Posted: Tue Aug 16, 2005 6:01 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">I load up the water mod and then type in "map water"
<br /><br />Your map loads up but there is no water inside the pool.  Any ideas?</div>]]></body></post><post id="p121359" date="Posted: Mon Nov 14, 2005 1:01 am "><author>Sebazzz</author><body><![CDATA[<div class="postbody">You're not the only one.
<br /><br />nVidia Geforce FX 5700 LE
<br />Amd athlon XP 2600+
<br />Windows XP Home
<br /><br />Doom 3 with 1.3 patch</div>]]></body></post><post id="p123785" date="Posted: Thu Dec 01, 2005 10:11 am "><author>mth</author><body><![CDATA[<div class="postbody">same thing. only fog in the pit, without any water. Any ideas?</div>]]></body></post><post id="p142864" date="Posted: Thu May 11, 2006 7:37 am "><author>der_coach</author><body><![CDATA[<div class="postbody">lo.
<br /><br />we merged inolens code in the sdk1.3-vanilla version.
<br /><br /><img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_arrow.gif" alt=":arrow:" title="Arrow" /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://themir.de/public/doom3/doom3water13.rar">http://themir.de/public/doom3/doom3water13.rar</a><!-- m -->
<br /><br />you can find the changes searching for: // BEGIN WATER orig. by inolen -- v1.3 by jobst
<br /><br />--
<br />jobst
<br /><br /><!-- w --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://www.themir.de/">http://www.themir.de</a><!-- w --></div>]]></body></post><post id="p142869" date="Posted: Thu May 11, 2006 8:18 am "><author>6th Venom</author><body><![CDATA[<div class="postbody">Thanks for releasing that! I think it's very helpfull for non-coders!  <img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />For the "black-draw" problem, i had this the first timei ran pbmax's water, cause i was not in high details' settings, now all is ok. i don't know why... maybe medium &amp; low disable heathazes and/or mirrorrenders. <img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p145378" date="Posted: Fri Jun 09, 2006 1:38 am "><author>ARON2431</author><body><![CDATA[<div class="postbody">I'm getting the same issue. I load up the mod and the map, and the only thing I see is fog</div>]]></body></post><post id="p145668" date="Posted: Sun Jun 11, 2006 6:05 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Make sure high detail is enabled in the options menu, the water effects are classed by the game as high detail.</div>]]></body></post><post id="p168734" date="Posted: Mon Jan 29, 2007 8:18 am "><author>coldkodiak</author><body><![CDATA[<div class="postbody">There are a lot of dead links in this thread. 
<br /><br />I was wondering if anyone has this water shader current?</div>]]></body></post><post id="p168735" date="Posted: Mon Jan 29, 2007 8:23 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Woah, now theres a blast from the past. Hiya Ck, how are ya? Back on the D3 engine eh? Anyway, kind of off-topic there. But you might want to message Dante_uk. He'd have the latest build i'd say.</div>]]></body></post><post id="p79054" date="Posted: Thu Feb 24, 2005 6:08 am "><author>idiom</author><body><![CDATA[<div class="postbody">Inolen and I have been working for a little while on getting water to look and work properly in Doom3. We now have a proper fresnel effected water shader and proper swimmable water with sounds and splash effects (just placeholders) for the communuity to use.
<br /><br /><img src="https://web.archive.org/web/20081121170015im_/http://cratematch.doom3reference.com/water_640.jpg" alt="Image" /><br /><br /><img src="https://web.archive.org/web/20081121170015im_/http://www.gamingforums.org/forum/files/shot00032.jpg" alt="Image" /><br /><br />You can download it <a href="https://web.archive.org/web/20081121170015/http://cratematch.doom3reference.com/water.zip" class="postlink">here</a> thanks to doom3reference.com.
<br /><br />To install just unzip to your Doom3 directory and load up water as a mod. There is a testmap called 'water' that shows working water.
<br /><br />Make sure you read the readme if you want to use these assets for your own project.
<br /><br />We are aware of the problem when you're half in the water and the mirror effect reflects the inside of the player model. We think there might be a way to work around this but inolen is busy working on other projects atm.</div>]]></body></post><post id="p79056" date="Posted: Thu Feb 24, 2005 6:13 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Oh my god.
<br />That second pic is picturesque.
<br /><br />Downloading now.
<br /><br />Edit: Well it looks fantastic. I dig the proper reflection, and I see what you mean about the player model.
<br /><br />You said its swim\shootable? felt like a plexiglass covering was over it. shot and felt like a solid surface.
<br /><br />but by the way it runs real nice. not a rescource hog. nice.</div>]]></body></post><post id="p79064" date="Posted: Thu Feb 24, 2005 6:37 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Jehar wrote:</div><div class="quotecontent">Oh my god.<br />That second pic is picturesque.<br /><br />Downloading now.<br /><br />Edit: Well it looks fantastic. I dig the proper reflection, and I see what you mean about the player model.<br /><br />You said its swim\shootable? felt like a plexiglass covering was over it. shot and felt like a solid surface.<br /><br />but by the way it runs real nice. not a rescource hog. nice.</div>
<br /><br />You need to make the water a func_water.</div>]]></body></post><post id="p79066" date="Posted: Thu Feb 24, 2005 6:38 am "><author>Jehar</author><body><![CDATA[<div class="postbody">watashiwa baka.
<br /><br />conslole command?
<br /><img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /><img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_question.gif" alt=":?:" title="Question" /></div>]]></body></post><post id="p79069" date="Posted: Thu Feb 24, 2005 6:39 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">Holy piss on a stick that's amazing.  I'm going swimming!  
<br /><br />G</div>]]></body></post><post id="p79070" date="Posted: Thu Feb 24, 2005 6:40 am "><author>iceheart</author><body><![CDATA[<div class="postbody">inolen: You forgot to say "oops" <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" />.</div>]]></body></post><post id="p79072" date="Posted: Thu Feb 24, 2005 6:41 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Jah im not quite too deep into d3 editing yet.
<br />So far im just here for the ride.
<br />So what would it take to make the func_water in the TEST map.
<br /><br />&gt;.&gt;
<br />&lt;.&lt;</div>]]></body></post><post id="p79075" date="Posted: Thu Feb 24, 2005 6:46 am "><author>idiom</author><body><![CDATA[<div class="postbody">DOH! Sorry guys, forgot to make the testmap with a func_water. Will do that and upload again.</div>]]></body></post><post id="p79076" date="Posted: Thu Feb 24, 2005 6:47 am "><author>Jehar</author><body><![CDATA[<div class="postbody">danke sehr</div>]]></body></post><post id="p79077" date="Posted: Thu Feb 24, 2005 6:48 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">idiom wrote:</div><div class="quotecontent">DOH! Sorry guys, forgot to make the testmap with a func_water. Will do that and upload again.</div>
<br /><br />What a douche. <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p79078" date="Posted: Thu Feb 24, 2005 6:56 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Updated.</div>]]></body></post><post id="p79079" date="Posted: Thu Feb 24, 2005 6:56 am "><author>Dinky</author><body><![CDATA[<div class="postbody">Wow... fantastic job.... *downloads*
<br /><br />Mmmm the other guy said it's shootable... I'm not getting anything on this side, am I doing something wrong?</div>]]></body></post><post id="p79082" date="Posted: Thu Feb 24, 2005 7:13 am "><author>Jehar</author><body><![CDATA[<div class="postbody">Jah me neither. 
<br /><br />I assume that crate was put there to push in and get some splash?
<br /><br />One of the few thing i dislike about the d3 engine is the way it currently handles fog. It still "clips" the way it did in q3 and even doom. 
<br /><br />Why oh why?
<br /><br />by clipping you know what i mean right? you see "layers" of the fog in parralel lines. If one thing could be improved on the engine, I would say this is the thing most in need.
<br /><br />anyways, beutiful work.</div>]]></body></post><post id="p79085" date="Posted: Thu Feb 24, 2005 7:16 am "><author>inolen</author><body><![CDATA[<div class="postbody">The crate is just there to show a reflection <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>]]></body></post><post id="p79087" date="Posted: Thu Feb 24, 2005 7:19 am "><author>BloodRayne</author><body><![CDATA[<div class="postbody">Looking great!
<br /><br />Don't mind us when we use it in EOC.  <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br /><img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p79088" date="Posted: Thu Feb 24, 2005 7:26 am "><author>idiom</author><body><![CDATA[<div class="postbody">It's there to be used  <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_cool.gif" alt="8)" title="Cool" /></div>]]></body></post><post id="p79089" date="Posted: Thu Feb 24, 2005 7:29 am "><author>zakath</author><body><![CDATA[<div class="postbody">heh, looks damn nice.
<br /><br />might be that it will be used in another TC as well  <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p79097" date="Posted: Thu Feb 24, 2005 9:21 am "><author>butmunch</author><body><![CDATA[<div class="postbody">Just one thing when i throw a body into the water it sinks to the bottom like a rock. Otherwise the water looks damn fine.</div>]]></body></post><post id="p79098" date="Posted: Thu Feb 24, 2005 9:25 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Throwing bodies? What are you some kind of psycho killer who needs to dispose of bodies???</div>]]></body></post><post id="p79099" date="Posted: Thu Feb 24, 2005 9:37 am "><author>idiom</author><body><![CDATA[<div class="postbody">I don't think inolen has coded in effects of physics objects. Maybe I can get him to do it if there's enough support <img src="https://web.archive.org/web/20081121170015im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> If not, if someone else wants to, feel completely free.</div>]]></body></post><post id="p79100" date="Posted: Thu Feb 24, 2005 9:41 am "><author>butmunch</author><body><![CDATA[<div class="postbody">Oh so you've never dumped a body into a river before. <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> I was just trying out the water. Jes gime some slack.</div>]]></body></post><post id="p79105" date="Posted: Thu Feb 24, 2005 10:35 am "><author>breakerfall</author><body><![CDATA[<div class="postbody">That looks awesome in the shots.... unfortunately it doesn't work for me. I run the mod and load the map, but I only see fog where the water should be. There's nothing there though - just an empty space that I fall down. No reflections neither.
<br /><br />If it's of any importance, I'm running Doom3 in linux using the latest ATI drivers.</div>]]></body></post><post id="p79106" date="Posted: Thu Feb 24, 2005 10:37 am "><author>Tenko</author><body><![CDATA[<div class="postbody">There's a gamex86.dll but no .so... I guess there's no linux compilation included so the water code won't be there...</div>]]></body></post><post id="p79109" date="Posted: Thu Feb 24, 2005 10:47 am "><author>breakerfall</author><body><![CDATA[<div class="postbody">Gaghh, I didn't even think of checking for that. Shame on me. <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /></div>]]></body></post><post id="p79122" date="Posted: Thu Feb 24, 2005 11:51 am "><author>Tenko</author><body><![CDATA[<div class="postbody">Heh, don't worry... I ran into the same problem, and I don't have a windows computer to test it on. So, I'm waiting for some nice person to come along and compile a linux gamex86.so for all of us ^_^</div>]]></body></post><post id="p79487" date="Posted: Sat Feb 26, 2005 8:17 pm "><author>Intel17</author><body><![CDATA[<div class="postbody">What annoys me is that the water is dependent on massive quantities of geometry to achieve acceptable results. 
<br /><br />I thought the age of doing things per-vertex ended with Doom 3?</div>]]></body></post><post id="p79491" date="Posted: Sat Feb 26, 2005 8:28 pm "><author>iceheart</author><body><![CDATA[<div class="postbody">"Massive quantities" is a pretty massive overstatement of things here...</div>]]></body></post><post id="p79493" date="Posted: Sat Feb 26, 2005 8:32 pm "><author>Intel17</author><body><![CDATA[<div class="postbody"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">"Massive quantities" is a pretty massive overstatement of things here...</div>
<br /><br />Perhaps, but I cannot see why it would be done per-vertex. It wouldn't take many instructions at all to do it per-pixel in a fragment program.</div>]]></body></post><post id="p79524" date="Posted: Sat Feb 26, 2005 11:38 pm "><author>Mordenkainen</author><body><![CDATA[<div class="postbody">Nice work on the fresnel! Two questions:
<br /><br />Firstly, is there any way we can control the fresnel factor from the editor (say a key/val for the func_water or in the material entry)?
<br /><br />Secondly, I noticed that loading the custom game dll makes game loading quite a bit slower. In normal D3 I have to wait around 3 seconds from clicking icon to id logo ROQ starting. Using a shortcut (or from the Mods menu) to the water mod I have to wait around 12 seconds.</div>]]></body></post><post id="p79527" date="Posted: Sat Feb 26, 2005 11:47 pm "><author>idiom</author><body><![CDATA[<div class="postbody">Well inolen made it per-vertex and I don't think the extra subdivisions needed on the patch would make much difference to fps. That said, I made a different version of the shader that calculates the normal per-pixel and based on a normalmap and I got it semi-working <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> It did however add at least 6 more instructions and probably would have needed more to get it to work properly. Calculating the vector the viewer per-pixel would have added even more instructions. Doing this could possibly yield better looking results but I'm not very good at coding and inolen is now working on his own engine plus there might be a performance loss greater then just putting more vertices in.
<br /><br />EDIT: There are a couple of things you can do. In the water material, inolen_water_mirror uses vertexparm 0. The default value is .0200593122. You can change that and it'll basically effect the overall reflectivity of the water, the higher the more reflective.
<br /><br />You can also edit the shader itself. Where it goes "SUB R3, 1.0, program.local[0];" I have in the past changed that 1.0 to a higher number. This makes the water get more reflective more quickly but if you make the value too high it'll lead to the problem where the reflectivity can become too high in some areas that the colours go wierd as if they're oversaturated or something.
<br /><br />Another thing you could try is increase the number of "MUL R4, R4, R3;" instructions. This should I <span style="font-style: italic">think</span> make the change from transparent to reflective more abrupt but my own experiments didn't show a very noticeable difference.
<br /><br /><br />For your second question, I didn't notice the game load speed difference. Kinda wierd <img src="https://web.archive.org/web/20081121121541im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /> Might talk to inolen about it, he might know.</div>]]></body></post><post id="p79586" date="Posted: Sun Feb 27, 2005 6:51 am "><author>Tenko</author><body><![CDATA[<div class="postbody">I've managed to get gcc 3.3 working on my computer (usually use 3.4) and so I've compiled a linux gamex86.so for anyone that wants it. It's currently hosted at <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121121541/https://skyandlight.no-ip.com/~amackenzie/game01.pk4">https://skyandlight.no-ip.com/~amackenzie/game01.pk4</a><!-- m --> . Just download it and stick it into your water directory, and it should work.
<br /><br />Please tell me if there's any problems with it, since this is the first time I've done this. Many thanks! ^_^
<br /><br />PS. If anyone can recommend a good place to host this sort of stuff, I'd appreciate that too, since right now it's hosted on my own comp, that might be up and down... a definite annoyance for anyone trying to get it...</div>]]></body></post><post id="p79590" date="Posted: Sun Feb 27, 2005 7:15 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Mordenkainen wrote:</div><div class="quotecontent">Nice work on the fresnel! Two questions:<br /><br />Firstly, is there any way we can control the fresnel factor from the editor (say a key/val for the func_water or in the material entry)?<br /><br />Secondly, I noticed that loading the custom game dll makes game loading quite a bit slower. In normal D3 I have to wait around 3 seconds from clicking icon to id logo ROQ starting. Using a shortcut (or from the Mods menu) to the water mod I have to wait around 12 seconds.</div>
<br /><br />The dll in the pak file is a debug dll. I forgot to compile the release version. Oh well.</div>]]></body></post><post id="p79593" date="Posted: Sun Feb 27, 2005 7:59 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Intel17 wrote:</div><div class="quotecontent">What annoys me is that the water is dependent on massive quantities of geometry to achieve acceptable results. <br /><br />I thought the age of doing things per-vertex ended with Doom 3?</div>
<br /><br />Yea, ok.
<br /><br />By adding a 5x5 patch mesh, we add, what, 32 vertices? So we calculate the fresnel term 36 times for our water. The vertex shader is around 12 instructions I believe. So we use around 432 instructions calculating the fresnel term for the water with a 5x5 patch mesh (which looks just fine as well, I doubt you'd notice much difference from a pixel shader in that map). Now.. lets move this all over to the pixel shader. First, we are going to add probably at least 5 instructions to get the fragment.position into world space. Then, lets say our user is running the game at 1024 x 768 and the entire screen is water. We will have about 17 instructions per pixel calculating the fresnel term. So this would come out to about 13,369,344 instructions calculating the fresnel term for the water (compared to the 432 when done per-vertex), for a marginable increase in visual quality.</div>]]></body></post><post id="p79609" date="Posted: Sun Feb 27, 2005 10:34 am "><author>nexx</author><body><![CDATA[<div class="postbody">Anybody kind enough to upload a small video?</div>]]></body></post><post id="p79615" date="Posted: Sun Feb 27, 2005 12:25 pm "><author>nd.LaZ</author><body><![CDATA[<div class="postbody">With swimable water comes the wierdness in lack of swimming animations. I sure hope that RoE will have water because I'd love to make a multiplayer map with water in it. But seeing other players float arround in a not-so-swimming manner would kind of ruin the illusion.
<br /><br />Unless offcourse someone could create and add custom animations.</div>]]></body></post><post id="p79699" date="Posted: Sun Feb 27, 2005 11:59 pm "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">What about the physics of the water? Its applied to the player but not any other movables. Why? Its only a guess but i would think it would only take 1 line of code to give the water a physics property that acts on the world around it and not just the player.</div>]]></body></post><post id="p79715" date="Posted: Mon Feb 28, 2005 3:00 am "><author>goliathvt</author><body><![CDATA[<div class="postbody">It would be a bit more than that.  There are no bouyancy equations in the physics code, if I recall correctly.  So, you would need to add them to the system, figure out a way to detect when for moveables are in water, and apply proper physics to them.
<br /><br />G</div>]]></body></post><post id="p79719" date="Posted: Mon Feb 28, 2005 3:10 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Your right, there are no bouyancy physics. But i remember when i was messing around with water that some objects WOULD float, they were completely static but they were floating. As soon as i shot a floating ojbect (ala applying physics to it) it'd sink to the bottem like a rock.
<br />Although we have no bouyancy code i'm pretty sure we could get an object to atleast sink to the bottem with the proper gravity properties.</div>]]></body></post><post id="p79729" date="Posted: Mon Feb 28, 2005 4:37 am "><author>BEERman</author><body><![CDATA[<div class="postbody">func_forcefield pushing up enough to slow things down without levitating should work ok. You'd have to play around to find the best amount of force to apply.</div>]]></body></post><post id="p79734" date="Posted: Mon Feb 28, 2005 4:56 am "><author>rich_is_bored</author><body><![CDATA[<div class="postbody">Well considering that they've created a new entity called func_water, might as well integrate boyancy type functionality into this new entity.</div>]]></body></post><post id="p79744" date="Posted: Mon Feb 28, 2005 6:36 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Problem is, you'll have to class every single movable item as a floater or sinker.</div>]]></body></post><post id="p79747" date="Posted: Mon Feb 28, 2005 7:27 am "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Problem is, you'll have to class every single movable item as a floater or sinker.</div>
<br /><br />No? You give them a mass, and set the density of the water and then do your calculations. It shouldn't be hard at all.</div>]]></body></post><post id="p79753" date="Posted: Mon Feb 28, 2005 8:37 am "><author>heXum</author><body><![CDATA[<div class="postbody">I downloaded this and tested it out... looks great! Was very close to adding it into a multiplayer mod that I'm working on... then I tested something.
<br /><br />Spawned a ragdoll and let it drop to the bottom. Swam down to it and shot it. When it starts taking hits and eventually gibs, FPS drops down to single digits. Not good. <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br /><br />Excellent work though. It's beautiful</div>]]></body></post><post id="p79757" date="Posted: Mon Feb 28, 2005 8:52 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Problem is, you'll have to class every single movable item as a floater or sinker.</div><br /><br />No? You give them a mass, and set the density of the water and then do your calculations. It shouldn't be hard at all.</div>
<br />What about hollow objects? We could have a giant barrel, if we make its mass small then we'll be kicking them around like paper. It'll make it unrealistic out of water.
<br />A small brick isn't going to float, but a giant crate would. The brick would wiegh less than the crate, so your going to have to make the giant crate wiegh less than the brick. Out of water that'll look unrealistic.</div>]]></body></post><post id="p79768" date="Posted: Mon Feb 28, 2005 10:05 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Problem is, you'll have to class every single movable item as a floater or sinker.</div><br /><br />No? You give them a mass, and set the density of the water and then do your calculations. It shouldn't be hard at all.</div><br />What about hollow objects? We could have a giant barrel, if we make its mass small then we'll be kicking them around like paper. It'll make it unrealistic out of water.<br />A small brick isn't going to float, but a giant crate would. The brick would wiegh less than the crate, so your going to have to make the giant crate wiegh less than the brick. Out of water that'll look unrealistic.</div>
<br /><br />OK - so you need a density attribute too. Or perhaps only a density value as you could calculate mass from volume/density and volume is inherent in the object itself. 
<br /><br />hmm - need to think back to science class... That seems arse about...
<br /><br />EDIT: No. You can (roughly) infer volume from the bounding box. Also, each object has a mass attached to it I believe. Therefore you can calculate the density and deal with it from there in terms of bouyancy . If Bouyancy  != environment (ie water) then sink/rise at difference(*fudge) whilst within medium.  The boundary condition would be a shit though.
<br /><br />EDIT #2. As an aside, does anyone recall within HL2 when you have to shoot some planks of wood underwater (after dealing with manhacks, exploding barrels and flooding a chamber) and the spool floats straight up to the surface upon which you can jump and move on?  In the "real" world that spool would be all over the place depending on the angle at which it started. Rising to the left, then the right, then forward, all depending on its initial angle and the "phase of the moon"
<br /><br />Dont ever believe that the Havoc P-engine has modelled things perfectly.</div>]]></body></post><post id="p79769" date="Posted: Mon Feb 28, 2005 10:13 am "><author>iceheart</author><body><![CDATA[<div class="postbody">Both density and mass are already in the physics system so I don't see what the fuss is about here.</div>]]></body></post><post id="p79770" date="Posted: Mon Feb 28, 2005 10:25 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">Both density and mass are already in the physics system so I don't see what the fuss is about here.</div>
<br /><br />If they are then one less calculation.  Excellent!</div>]]></body></post><post id="p79778" date="Posted: Mon Feb 28, 2005 12:04 pm "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Good write up radix2, i think we're getting closer to figuring out just how complicated this can get. <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br /><div class="quotetitle">radix2 wrote:</div><div class="quotecontent">EDIT #2. As an aside, does anyone recall within HL2 when you have to shoot some planks of wood underwater (after dealing with manhacks, exploding barrels and flooding a chamber) and the spool floats straight up to the surface upon which you can jump and move on?  In the "real" world that spool would be all over the place depending on the angle at which it started. Rising to the left, then the right, then forward, all depending on its initial angle and the "phase of the moon"<br /><br />Dont ever believe that the Havoc P-engine has modelled things perfectly.</div> Well, i don't think ANY engine (in the gaming world) has ever replicated an objects projection based on such a complicated equation. I'm sure you could emagine the calculations the computer would have to do to create that. It could almost be 'per-pixel physics'. <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" /><br /><br />I think another problem that needs to be fixed is the basic way D3 does the physics. It won't apply physics to an object unless it is being acted upon by another force. The big problem is, the 'other forces' don't include gravity. Meaning you could flip a room and the crate won't fall to the roof unless you for example, shoot at it. Only then will it apply the new direction of gravity.</div>]]></body></post><post id="p79784" date="Posted: Mon Feb 28, 2005 1:39 pm "><author>sxotty</author><body><![CDATA[<div class="postbody"><a href="https://web.archive.org/web/20081121121643/http://www.doom3world.org/phpbb2/viewtopic.php?t=7869&amp;postdays=0&amp;postorder=asc&amp;start=34" class="postlink">http://www.doom3world.org/phpbb2/viewtopic.php?t=7869&amp;postdays=0&amp;postorder=asc&amp;start=34</a>
<br />We had this discussion before <img src="https://web.archive.org/web/20081121121643im_/http://www.doom3world.org/phpbb2/images/smilies/icon_razz.gif" alt=":P" title="Razz" />  There were some simple ideas in that thread about how to hack it and make things look nice, including how to deal with the boundary condition...</div>]]></body></post><post id="p79789" date="Posted: Mon Feb 28, 2005 2:02 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Just a thought on the issue of how fast objects sinks compared to others, it's not to do with how heavy they are, it's whether they're denser than water, and then simply how much water they can displace in any one given time.  A kilo of metal in a flat sheet will sink slower than a kilo of metal in a thin rod, as the thin rod needs to displace less water to sink.
<br /><br />On the moon, where there is no air, a hammer and a feather will fall at the same rate, it's the same idea, because they're not displacing anything, they just drop at the exact force of gravity.
<br /><br />Therefor, the only thing you need to code is whether an object floats or sinks, one something definatly is going to sink, it's speed will be indirectly proportional to the in game volume of the object, which means every object already has the data it needs for us to work out how fast it sinks.</div>]]></body></post><post id="p79797" date="Posted: Mon Feb 28, 2005 2:24 pm "><author>sxotty</author><body><![CDATA[<div class="postbody">Baul that isn't quite right b/c a sheet will sink slower than a rod of the same volume and same density.  It is probably more a cause of turbulent flow than most anything.  As you might or might not remember the friction force is not really related to the area of an object b/c the smaller it is (if the same mass) than the higher the friction (that is why ice skates melt ice and skaters are on a thin sheen of water).
<br /><br />Anyway the water flowing around the sheet has to flow quite a ways, and the water around the rod just moves a tiny bit. Though to be completely honest I am not sure whether it has to do with a transfer of energy to the water as momentum or to do with turbulence and viscosity as suggested earlier, but either way it is unfortunately quite complex.  To be honest though I think if things sank or floated and if the floaters floated at the proper height people would be happy enough...</div>]]></body></post><post id="p79953" date="Posted: Tue Mar 01, 2005 7:01 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Your both right, but lets stop talking about that aspect since it really is seriously too complicated for any commercial engine like D3.
<br />Is anyone willing to put together working water physics?</div>]]></body></post><post id="p79961" date="Posted: Tue Mar 01, 2005 7:35 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Your both right, but lets stop talking about that aspect since it really is seriously too complicated for any commercial engine like D3.</div><br /><br />Exactly my point about the Havoc P-engine. It (as exemplar of todays games out of the box) is not perfect, so why should we be expected to get every detail perfect<br /><br /><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Is anyone willing to put together working water physics?</div>
<br /><br />I would love to, but alas, I would not know where to start</div>]]></body></post><post id="p79975" date="Posted: Tue Mar 01, 2005 8:20 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody"><div class="quotetitle">radix2 wrote:</div><div class="quotecontent"><div class="quotetitle">Dj Dooms Day wrote:</div><div class="quotecontent">Is anyone willing to put together working water physics?</div><br /><br />I would love to, but alas, I would not know where to start</div>
<br />Well i've created a new thread specificly for this right here: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121121643/http://www.doom3world.org/phpbb2/viewtopic.php?p=79974#79974">http://www.doom3world.org/phpbb2/viewto ... 9974#79974</a><!-- m -->
<br />So lets atleast start thinking of ways we can go about it.</div>]]></body></post><post id="p79993" date="Posted: Tue Mar 01, 2005 12:09 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">breakerfall wrote:</div><div class="quotecontent">That looks awesome in the shots.... unfortunately it doesn't work for me. I run the mod and load the map, but I only see fog where the water should be. There's nothing there though - just an empty space that I fall down. No reflections neither.<br /><br />If it's of any importance, I'm running Doom3 in linux using the latest ATI drivers.</div>
<br /><br />I ported the code to Linux and I only a fog effect too.
<br /><img src="https://web.archive.org/web/20081121121643im_/http://homepages.nildram.co.uk/~danteuk/euro/screenshots/water1.jpg" alt="Image" /><br />I don't drop straight to the bottom though, I sink slowly and can swim.
<br />I'm testing a laptop which is Geforce 4600GO ( DX8.1 I think ). So obviously the dx9 effect won't appear, I was still expecting to see the reflections though as I know they can work on this chipset in doom3.
<br />Here you can see a screenshot I took before using my basic water .mtr file for the fountain. <a href="https://web.archive.org/web/20081121121643/http://homepages.nildram.co.uk/%7Edanteuk/euro/screenshots/lnx_gf4go1.jpg" class="postlink">http://homepages.nildram.co.uk/%7Edanteuk/euro/screenshots/lnx_gf4go1.jpg</a>
<br /><br />I assume that before using the standard gamex86.so you should have had an error complaining about the missing class idWater.
<br /><br />What I do get is:
<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />    0 purged from previous<br />  148 kept from previous<br />  411 new loaded<br />all images loaded in  20.1 seconds<br />----------------------------------------<br />-----------------------------------<br /> 28406 msec to load water<br />idRenderWorld::GenerateAllInteractions, msec = 0, staticAllocCount = 0.<br />interactionTable size: 44084 bytes<br />21 interaction take 2352 bytes<br />------------- Warnings ---------------<br />during water...<br />WARNING: material 'textures/inolen_water' had stage with no image<br />WARNING: Non-portable: path contains uppercase characters: base/dds/makeIntensity/lights<br />WARNING: Non-portable: path contains uppercase characters: water/dds/makeIntensity/lights<br />3 warnings<br /></div></div>]]></body></post><post id="p80118" date="Posted: Wed Mar 02, 2005 1:20 am "><author>idiom</author><body><![CDATA[<div class="postbody">The reflection is rendered but only shown through the fresnel shader so if the shader doesn't work for your card you probably wouldn't get the reflection.</div>]]></body></post><post id="p80124" date="Posted: Wed Mar 02, 2005 2:23 am "><author>binaryc</author><body><![CDATA[<div class="postbody">You may want to add a section like this for those with lower-end video cards:
<br />{
<br />if ( fragmentPrograms == 0 )
<br />blend blend
<br />map _scratch
<br />alpha 0.5
<br />}</div>]]></body></post><post id="p80128" date="Posted: Wed Mar 02, 2005 2:44 am "><author>idiom</author><body><![CDATA[<div class="postbody">Well the code seems to be v1.0 fp/vp so it might not be the fresnel shader. Could it be the heathaze?</div>]]></body></post><post id="p80180" date="Posted: Wed Mar 02, 2005 9:17 am "><author>Gazzul</author><body><![CDATA[<div class="postbody">I don't kown if it's of any use. 
<br /><br />I had problems to see the reflections too, so I just turned the quality in Doom3 from Low Quality to High Quality and after a vid_restart, I was able to see them...</div>]]></body></post><post id="p80181" date="Posted: Wed Mar 02, 2005 9:19 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody">I know the heathaze won't work on my laptop chipset but in the water .mtr that I use it doesn't stop the reflection.
<br /><br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">{<br />   noSelfShadow<br />   noshadows<br />//   translucent<br />   nonsolid<br />   water<br />   {<br />                vertexProgram           heatHazeWithMask.vfp<br />                vertexParm              0       time * 0.1 , time * 0.5*Parm3<br />                vertexParm              1       3<br />                fragmentProgram         heatHazeWithMask.vfp<br />                fragmentMap             0       _currentRender<br />                fragmentMap             1       textures/sfx/vp1.tga<br />                fragmentMap             2       textures/sfx/vp1_alpha.tga<br />   }<br /><br />   { // Mirror effect <br />      mirrorRenderMap      512   256<br />      blend   blend <br /><br />      red      0.3 <br />      green   0.3 <br />      blue   0.1 <br />       alpha   0.7<br /><br />      // these may not be necessary when I finish the code <br />      translate   0.5 , 0.5 <br />      scale   0.5 , 0.5 <br />   } // End Mirror effect <br /><br /><br />   //<br />   // first part of the crossfade<br />   //<br />   {<br />      if snapFive[ time / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled001, 4)<br />   }<br />   {<br />      if snapFive[ time + 1.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled003, 4)<br />   }<br />   {<br />      if snapFive[ time + 2.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled005, 4)<br />   }<br />   {<br />      if snapFive[ time + 3.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled007, 4)<br />   }<br />   {<br />      if snapFive[ time + 4.0 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled009, 4)<br />   }<br />   <br /><br />   //<br />   // second part of the crossfade<br />   //<br />   {<br />      if snapFive[ time + 0.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled002, 4)<br />   }<br />   {<br />      if snapFive[ time + 1.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled004, 4)<br />   }<br />   {<br />      if snapFive[ time + 2.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled006, 4)<br />   }<br />   {<br />      if snapFive[ time + 3.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled008, 4)<br />   }<br />   {<br />      if snapFive[ time + 4.5 / 5 ]<br />      blend    bumpmap<br />      map   heightmap (textures/water_njm/untitled010, 4)<br />   }<br /><br /><br />   {<br />      blend      specularmap<br />      map      textures/water_njm/water_njm_s.tga<br />   }<br />   {<br />      blend      diffusemap<br />      map      textures/water_njm/water_njm.tga<br />   }<br />}<br /></div></div>]]></body></post><post id="p80203" date="Posted: Wed Mar 02, 2005 12:24 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody">I've been looking the .mtr on a DX8 &amp; DX9 cards and basically as in my post above nothing is drawn.
<br /><br />I've made a small change to .mtr and added one of my own, then I changed the test map slightly to have two tanks of water and a little more detail &amp; light.
<br /><img src="https://web.archive.org/web/20081121122651im_/http://homepages.nildram.co.uk/~danteuk/water.jpg" alt="Image" /><br /><br />This file contains it all ( INCLUDING gamex86.so for Linux !! ) NON DEBUG - *UPDATED* map to test 4 tanks of different water now.
<br /><a href="https://web.archive.org/web/20081121122651/http://homepages.nildram.co.uk/~danteuk/water.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/water.zip</a>
<br /><br />I can't test what this looks like on DX9 level cards till I get home tonight so it would be interesting if someone could post a shot.</div>]]></body></post><post id="p80249" date="Posted: Wed Mar 02, 2005 4:59 pm "><author>breakerfall</author><body><![CDATA[<div class="postbody">My system:
<br /><br />AMD64 3000
<br />1 GIG RAM
<br />ATI 9700pro - latest linux drivers
<br /><br />The blue/green water (on the right in your shot) doesn't look so good. The actual surface ripples look like a 2d film just sitting on top of the water and the movement is very awkward, seemingly changing every half second or so. Doesn't look right. The darker water (left) looks much better ripple wise but the reflections still seem a little blocky. Also, a strange glitch occurs when viewing the darker water whilst hovering just over the green tank - looking over the diving wall. You see the stripes across the whole reflection. You also see the inside of the marines body whilst emerging from water.</div>]]></body></post><post id="p80256" date="Posted: Wed Mar 02, 2005 5:33 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody">Yeah the blue/green animation is a tacky hack.
<br />I don't know much about ATI cards, does that card(&amp; drivers)  support DX9 level shaders?
<br />The blue/green water should have the heathaze effect to make the surface move too.(as well as the jerky animation).
<br /><br />Both the reflections have the hollow model problem, I think something in the func_water code should be added (or in player.def ??? )so the player model isn't drawn for 1st person view when in or touching water.</div>]]></body></post><post id="p80257" date="Posted: Wed Mar 02, 2005 5:45 pm "><author>iceheart</author><body><![CDATA[<div class="postbody">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div>]]></body></post><post id="p80273" date="Posted: Wed Mar 02, 2005 7:58 pm "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div>
<br /><br />Not really... I haven't worked on this for a while, but I think I just never figured out how the mirrorRenderMap got it's view. If someone finds out how, they can just suppress the local player model from it when in the water.</div>]]></body></post><post id="p80277" date="Posted: Wed Mar 02, 2005 8:22 pm "><author>Mordenkainen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div><br /><br />Not really... I haven't worked on this for a while, but I think I just never figured out how the mirrorRenderMap got it's view. If someone finds out how, they can just suppress the local player model from it when in the water.</div>
<br /><br />If at all possible, only supress backfaces?</div>]]></body></post><post id="p80289" date="Posted: Wed Mar 02, 2005 9:46 pm "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Mordenkainen wrote:</div><div class="quotecontent"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">iceheart wrote:</div><div class="quotecontent">I think the problem is with the mirrorRenderMap and inolen and idiom have been trying to fix this for a while.</div><br /><br />Not really... I haven't worked on this for a while, but I think I just never figured out how the mirrorRenderMap got it's view. If someone finds out how, they can just suppress the local player model from it when in the water.</div><br /><br />If at all possible, only supress backfaces?</div>
<br /><br />Why?</div>]]></body></post><post id="p80308" date="Posted: Thu Mar 03, 2005 1:30 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody">In the interest of experimenting I've extended the map to have 8 pools of water.
<br /><br />1 - The original water by inolen &amp; idiom.
<br />2 - A varation on the above.
<br />3 - Material by me
<br />4 - Material by me
<br />5 - Mordenkainen - failed test by me
<br />6 - Mordenkainen
<br />7 - water07 / water07_surf  ( have a go, please !! )
<br />8 - water08 / water08_surf  ( have a go, please !! )
<br /><br />This zip has all you need to run the map in Windows or Linux.(source code removed b'c not changed).
<br /><a href="https://web.archive.org/web/20081121122651/http://homepages.nildram.co.uk/~danteuk/water.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/water.zip</a>
<br /><br /><img src="https://web.archive.org/web/20081121122651im_/http://homepages.nildram.co.uk/~danteuk/water23.jpg" alt="Image" /></div>]]></body></post><post id="p80358" date="Posted: Thu Mar 03, 2005 11:55 am "><author>Mordenkainen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">Mordenkainen wrote:</div><div class="quotecontent">If at all possible, only supress backfaces?</div><br /><br />Why?</div>
<br /><br />The problem is the player model intersecting with the reflection plane right? The reflection shows the inside of the model. If you can draw only front faces (as viewed from the reflection plane) then the visual artefact should disappear but you still have the player's reflection, right?
<br /><br />I was just thinking that completely removing the player model from the reflection when we step into the water is going to look awkward. That's probably why in HL2 we never see gordon's reflection, even when we're not touching the water surface.</div>]]></body></post><post id="p80385" date="Posted: Thu Mar 03, 2005 3:16 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Not seeing the player's reflection in water is so common in games it's pratically a given.  Other stuff like that, e.g player shadows, have been excluded from games almost universally, so not including them in D3 isn't going to be noticed by anyone.
<br /><br />Then again, if you could actually see your reflection, that would be rather cool.  For the mean time, just surpressing the player model when in the water I think will solve the immidate artifact problem, surpressing only the back faces is something to look at later.</div>]]></body></post><post id="p80391" date="Posted: Thu Mar 03, 2005 3:29 pm "><author>iceheart</author><body><![CDATA[<div class="postbody">I think it should be pretty obvious that you should see yourself in a reflective surface, anything else is just the devs taking the easy, cheap way out.</div>]]></body></post><post id="p80875" date="Posted: Sun Mar 06, 2005 5:31 pm "><author>dolver</author><body><![CDATA[<div class="postbody">i noticed with a func_water that when you sprint-jump into it it shows a splash decal and particle but when you walk on it it only shows the splash decal. this isnt as much of a problem though than the fact that when you shoot it it doesnt make a splash decal or particle. why is this? ive tried to fix it myself but i cant figure it out. could someone help?</div>]]></body></post><post id="p80897" date="Posted: Sun Mar 06, 2005 7:57 pm "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent"><br />1 - The original water by inolen &amp; idiom.<br />2 - A varation on the above.<br />3 - Material by me<br />4 - Material by me<br />5 - Mordenkainen - failed test by me<br />6 - Mordenkainen<br />7 - water07 / water07_surf  ( have a go, please !! )<br />8 - water08 / water08_surf  ( have a go, please !! )<br /></div>
<br /><br />7 and 4 look the best to me, although neither seem to reflect.  5 is a pit of nodraw for me.</div>]]></body></post><post id="p80912" date="Posted: Sun Mar 06, 2005 10:12 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">radix2 wrote:</div><div class="quotecontent"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent"><br />1 - The original water by inolen &amp; idiom.<br />2 - A varation on the above.<br />3 - Material by me<br />4 - Material by me<br />5 - Mordenkainen - failed test by me<br />6 - Mordenkainen<br />7 - water07 / water07_surf  ( have a go, please !! )<br />8 - water08 / water08_surf  ( have a go, please !! )<br /></div><br /><br />7 and 4 look the best to me, although neither seem to reflect.  5 is a pit of nodraw for me.</div>
<br /><br />What DX Level gfx card do you have?
<br />Some of the effects being used as require a DX 9 level card.</div>]]></body></post><post id="p80920" date="Posted: Sun Mar 06, 2005 10:47 pm "><author>inolen</author><body><![CDATA[<div class="postbody"><div class="quotetitle">dolver wrote:</div><div class="quotecontent">i noticed with a func_water that when you sprint-jump into it it shows a splash decal and particle but when you walk on it it only shows the splash decal. this isnt as much of a problem though than the fact that when you shoot it it doesnt make a splash decal or particle. why is this? ive tried to fix it myself but i cant figure it out. could someone help?</div>
<br /><br />I talked about that in the readme.</div>]]></body></post><post id="p80923" date="Posted: Sun Mar 06, 2005 10:54 pm "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent">What DX Level gfx card do you have?<br />Some of the effects being used as require a DX 9 level card.</div>
<br /><br />Sorry, I should have posted those details orginally.  Now I am not am home to check the minor revision, but I can tell you that it is DX9 capable..  I will edit this post with the proper information when I get home.</div>]]></body></post><post id="p80962" date="Posted: Mon Mar 07, 2005 4:39 am "><author>dolver</author><body><![CDATA[<div class="postbody"><div class="quotetitle">inolen wrote:</div><div class="quotecontent"><div class="quotetitle">dolver wrote:</div><div class="quotecontent">i noticed with a func_water that when you sprint-jump into it it shows a splash decal and particle but when you walk on it it only shows the splash decal. this isnt as much of a problem though than the fact that when you shoot it it doesnt make a splash decal or particle. why is this? ive tried to fix it myself but i cant figure it out. could someone help?</div><br /><br />I talked about that in the readme.</div>
<br /><br />oh sorry i didnt see that. any idea how to fix it or what file to modify? wheres that BulletWaterTrail function you mentioned
<br /><br />edit: nevermind i found the file</div>]]></body></post><post id="p81303" date="Posted: Wed Mar 09, 2005 10:45 am "><author>radix2</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Dante_uk wrote:</div><div class="quotecontent">What DX Level gfx card do you have?<br />Some of the effects being used as require a DX 9 level card.</div>
<br /><br />Damn - was running old Cat version (4.8 with Doom3 patch). I have now updated to 5.2 and these are my observations. System spec in signature..
<br /><br />1 - The original water by inolen &amp; idiom.
<br />No reflection. Artifacts around crate (maybe the water surface is too close to the crate). Water is too clear
<br /><br />2 - A varation on the above.
<br />No drawing of water surface, but still an odd reflection from flashight
<br /><br />3 - Material by Dante_uk
<br />ripples "stutter" or "lag". Reflection of crate, lighthanger placeholders and an image of player. Good apart from lag, although too clear.
<br /><br />4 - Material by Dante_uk
<br />Good. Nice ripples and flareout from flashlight. Nice distortion of drum from the right of the crate whilst facing the wall
<br /><br />5 - Mordenkainen - failed test by me
<br />No draw aside from weird reflection of flashlight
<br /><br />6 - Mordenkainen
<br />Good - interesting diffraction bands but no reflection. Too clear
<br /><br />7 - water07 / water07_surf  ( have a go, please !! )
<br />no reflection. good ripples and distortion. Nice murkiness
<br /><br />8 - water08 / water08_surf  ( have a go, please !! )
<br />no reflection. Good ripples and distortion. Too clear.
<br /><br /><br />One thing that I notice is that if you are on the right side of the crate then the drum is distorted/displaced (which is correct), but on the left side of the crate, you just get a slight ripple effect.
<br /><br />I like aspects of 3 for reflections; 7 for murkiness, ripples and distortion and 4 for the flashlight glare effect.  These might be exclusionary though... <img src="https://web.archive.org/web/20081121122651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>]]></body></post><post id="p84797" date="Posted: Mon Mar 28, 2005 2:19 am "><author>mikebart</author><body><![CDATA[<div class="postbody">Im having a problem getting the water reflection to run in game but it runs fine in the editor, im using the texture: njm_water_reflect
<br />could it be a graphics card issue? if so why does it work in editor mode?
<br /><br />check out this post if you want to see screenshots: <!-- m --><a class="postlink" href="https://web.archive.org/web/20081121122651/http://www.doom3world.org/phpbb2/viewtopic.php?t=9589">http://www.doom3world.org/phpbb2/viewtopic.php?t=9589</a><!-- m -->
<br /><br />thanks, nice work by the way <img src="https://web.archive.org/web/20081121122651im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p85046" date="Posted: Tue Mar 29, 2005 12:37 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody">When you run the game are you running fullscreen?
<br />if so can you try in windowed mode, just to see that's where the problem is.
<br /><br />I've seen things before that look different in the editor than in game, not sure really why that would be the case.
<br /><br />I've mailed Brian at id about this:
<br /><div class="quotetitle"><b>Quote:</b></div><div class="quotecontent">There seems to be odd little differences in the rendered image in the editor from the in-game image.<br /><br />Specifically problems with reflections that look fine in editor but don’t appear in game.<br /><br />Could you post an explanation/list of differences in the rendering from the Editor preview window and the normal game rendering (plus any between running in windowed mode vs fullscreen).<br /></div>
<br /><br />With a little luck we may get an answer.</div>]]></body></post><post id="p85159" date="Posted: Tue Mar 29, 2005 9:15 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">thanks dante, its pretty much doing the same thing in window mode as in fullscreen mode but sometimes with a different image, its a realy random occurance.
<br />  I had the texture reflecting properly in the water test map, I even copied and pasted the func_water with that texture into my map after several failed attempts but I still couldnt get it to work, I really dont think its a performance issue but heres my specs anyway;
<br /><br />AMD Athlon 2400 512 with Gforce 4 ti 4200 with AGP 8x
<br /><br />thanks again <img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p86745" date="Posted: Wed Apr 06, 2005 9:07 pm "><author>mikebart</author><body><![CDATA[<div class="postbody">Have you heard back from brian?</div>]]></body></post><post id="p86749" date="Posted: Wed Apr 06, 2005 9:20 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">mikebart wrote:</div><div class="quotecontent">Have you heard back from brian?</div>
<br /><br />I'm afraid not, I guess he's a little busy with ROE just coming out, hopefully putting together the SDK for 1.2/3.</div>]]></body></post><post id="p86756" date="Posted: Wed Apr 06, 2005 10:18 pm "><author>Gmz1013</author><body><![CDATA[<div class="postbody">is it soposed to be soild or liquid its soild for me... Help please...</div>]]></body></post><post id="p86767" date="Posted: Wed Apr 06, 2005 10:57 pm "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Gmz1013 wrote:</div><div class="quotecontent">is it soposed to be soild or liquid its soild for me... Help please...</div>
<br /><br />To what are you refering?
<br /><br />If you are trying to use func_water then it should not be solid, this is a change in the SDK, are you using the .dll from  my water.zip?
<br />Are you testing my test map or one of your own?
<br />Do you have any errors appear in the console?
<br /><br />Try my newest test map &amp; dll, just unzip into doom3 folder it will create a folder called GravityMod, in there should be a run.bat, double click it. This should load my test map, turn to your right and you should see a door with a sign next to it saying Water Tests.
<br /><a href="https://web.archive.org/web/20081121165654/http://homepages.nildram.co.uk/~danteuk/GravityMod.zip" class="postlink">http://homepages.nildram.co.uk/~danteuk/GravityMod.zip</a></div>]]></body></post><post id="p86773" date="Posted: Wed Apr 06, 2005 11:28 pm "><author>ReubenDSala</author><body><![CDATA[<div class="postbody">I dont think that works with the new patch (1.3)</div>]]></body></post><post id="p90848" date="Posted: Mon Apr 25, 2005 9:25 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I'm having a render problem on linux:
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m -->
<br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.
<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>]]></body></post><post id="p90953" date="Posted: Tue Apr 26, 2005 10:04 am "><author>Dante_uk</author><body><![CDATA[<div class="postbody"><div class="quotetitle">ReubenDSala wrote:</div><div class="quotecontent">I dont think that works with the new patch (1.3)</div><br /><br />Nothing works with 1.3 because it's not out yet, nothing works with 1.2 yet because the SDK for it isn't out.<br /><br />I believe 1.3 will be released sometime soon and shortly after the SDK for it.<br /><br />Then we all have the fun task of merging all our code changes into it.<br /><br /><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux<br /></div>
<br />Without information about your video chipset I can't really help.
<br />I guess from the shot it's a DX 9 level chipset.
<br /><br />Some of the those pools don't renderer correctly of some hardware.
<br />I have access to 3 machines with doom3 on at 3 different DX levels: 7,8,9
<br />All are Nvidia cards though.
<br />The purpose of that test map was to try lots of different method for making water, then test it on all three chipsets and find one method that looks good on all three.</div>]]></body></post><post id="p91752" date="Posted: Sat Apr 30, 2005 3:09 pm "><author>breakerfall</author><body><![CDATA[<div class="postbody"><div class="quotetitle">Fitzsimmons wrote:</div><div class="quotecontent">I'm having a render problem on linux:<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://fitzsimmons.ca/images/shot00002-downscale.png">http://fitzsimmons.ca/images/shot00002-downscale.png</a><!-- m --><br /><br />This is the only pool that this happens on.  I also have the one pool that doesn't render problem.<br /><br />(OT: Could someone please tell me how to post those nifty thumbnails of images?)</div>
<br /><br />This is very similar to what I posted a page or two back. Same thing, under linux, ATI drivers etc.</div>]]></body></post><post id="p91763" date="Posted: Sat Apr 30, 2005 5:18 pm "><author>Fitzsimmons</author><body><![CDATA[<div class="postbody">I have an nVidia card, if that makes any difference.</div>]]></body></post><post id="p108410" date="Posted: Tue Aug 16, 2005 6:01 am "><author>MichaelZee</author><body><![CDATA[<div class="postbody">I load up the water mod and then type in "map water"
<br /><br />Your map loads up but there is no water inside the pool.  Any ideas?</div>]]></body></post><post id="p121359" date="Posted: Mon Nov 14, 2005 1:01 am "><author>Sebazzz</author><body><![CDATA[<div class="postbody">You're not the only one.
<br /><br />nVidia Geforce FX 5700 LE
<br />Amd athlon XP 2600+
<br />Windows XP Home
<br /><br />Doom 3 with 1.3 patch</div>]]></body></post><post id="p123785" date="Posted: Thu Dec 01, 2005 10:11 am "><author>mth</author><body><![CDATA[<div class="postbody">same thing. only fog in the pit, without any water. Any ideas?</div>]]></body></post><post id="p142864" date="Posted: Thu May 11, 2006 7:37 am "><author>der_coach</author><body><![CDATA[<div class="postbody">lo.
<br /><br />we merged inolens code in the sdk1.3-vanilla version.
<br /><br /><img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_arrow.gif" alt=":arrow:" title="Arrow" /><!-- m --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://themir.de/public/doom3/doom3water13.rar">http://themir.de/public/doom3/doom3water13.rar</a><!-- m -->
<br /><br />you can find the changes searching for: // BEGIN WATER orig. by inolen -- v1.3 by jobst
<br /><br />--
<br />jobst
<br /><br /><!-- w --><a class="postlink" href="https://web.archive.org/web/20081121165654/http://www.themir.de/">http://www.themir.de</a><!-- w --></div>]]></body></post><post id="p142869" date="Posted: Thu May 11, 2006 8:18 am "><author>6th Venom</author><body><![CDATA[<div class="postbody">Thanks for releasing that! I think it's very helpfull for non-coders!  <img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />For the "black-draw" problem, i had this the first timei ran pbmax's water, cause i was not in high details' settings, now all is ok. i don't know why... maybe medium &amp; low disable heathazes and/or mirrorrenders. <img src="https://web.archive.org/web/20081121165654im_/http://www.doom3world.org/phpbb2/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /></div>]]></body></post><post id="p145378" date="Posted: Fri Jun 09, 2006 1:38 am "><author>ARON2431</author><body><![CDATA[<div class="postbody">I'm getting the same issue. I load up the mod and the map, and the only thing I see is fog</div>]]></body></post><post id="p145668" date="Posted: Sun Jun 11, 2006 6:05 pm "><author>Bauul</author><body><![CDATA[<div class="postbody">Make sure high detail is enabled in the options menu, the water effects are classed by the game as high detail.</div>]]></body></post><post id="p168734" date="Posted: Mon Jan 29, 2007 8:18 am "><author>coldkodiak</author><body><![CDATA[<div class="postbody">There are a lot of dead links in this thread. 
<br /><br />I was wondering if anyone has this water shader current?</div>]]></body></post><post id="p168735" date="Posted: Mon Jan 29, 2007 8:23 am "><author>Dj Dooms Day</author><body><![CDATA[<div class="postbody">Woah, now theres a blast from the past. Hiya Ck, how are ya? Back on the D3 engine eh? Anyway, kind of off-topic there. But you might want to message Dante_uk. He'd have the latest build i'd say.</div>]]></body></post></posts></thread></xml>
