<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="20824"><title>"noShadows" = Material gets black ???</title><posts><post id="p191662" date="Posted: Tue Nov 20, 2007 2:21 am "><author>BuddhaMaster</author><body><![CDATA[<div class="postbody">Hey hey,<br /><br />I have changed the Imp's material code.<br /><br />Why is the additional Overlay Texture at the end keep making the whole model <span style="font-weight: bold">black</span> ? I know there is many question about "black textures" but my question is specific.<br />Please take a look at the last blend add<br /><br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">models/monsters/imp/imp<br />{<br />   unsmoothedTangents<br />   //noselfshadow<br />   flesh<br />   renderbump  -size 512 512 -aa 3 models/monsters/imp/imp_local.tga models/monsters/imp/work/imp_hp.lwo<br /><br />   {   // burning corpse effect<br />      if   parm7         // only when dead<br />      <br />      // make a burned away alpha test for the normal skin<br />      blend   gl_zero, gl_one         // don't draw anything<br />      <br />      map models/monsters/imp/imp_dis.tga   // replace this with a monster-specific texture<br />      alphaTest 0.05 + 0.3 * (time - parm7)<br />   }<br />   {   // burning corpse effect<br />      if parm7         // only when dead<br /><br />      // draw the fire burn at a negative polygonOffset, so it is behind the other stages<br />      privatePolygonOffset   -1      // stage-only polygon offset<br />        blend add   <br />        blend gl_one, gl_zero<br />      <br />      map models/monsters/imp/imp_dis.tga   // replace this with a monster-specific texture<br />      alphaTest 0.3 * (time - parm7)<br />   }<br />   forceOverlays   <br />   bumpmap   addnormals (models/monsters/imp/imp_local, heightmap (models/monsters/imp/imp_bmp.tga, 6) )<br />   diffusemap models/monsters/imp/imp_d<br /><br />   //using specular map for glowing eyes<br />   {<br />         blend   add<br />         map    models/monsters/imp/imp_s<br />   }<br />   <br />   //added additional unlit layer<br />   {<br />      noshadows<br />      {<br />         blend  add<br />         map    models/monsters/imp/imp_glow<br />      }<br />   }<br /><br /><br />//   specularmap   models/monsters/imp/imp_s<br />}   </div><br /><br /><br />As soon as i add <span style="font-style: italic">noshadows</span>, <span style="font-style: italic">noSelfShadows </span>or any other interesting "feature" - the texture just comes <span style="font-weight: bold">black</span><br />= The only working way is to only <span style="font-style: italic">blend add</span> the texture = works<br />But i want to make it unlit ! (glowing in darkness).<br />Every material i see that uses glow, use <span style="font-style: italic">NoShadows</span> flag. Why is <span style="font-weight: bold">THIS</span> Material just getting black everytime i try this ??<br /><br />Now here comes the interesting part:<br />My biggest question leads to how the material works. Isn't that intended to overlay as many textures as you want and use the flags you want and put everything inside { }</div>]]></body></post><post id="p191668" date="Posted: Tue Nov 20, 2007 6:46 am "><author>LDAsh</author><body><![CDATA[<div class="postbody">Because "noshadows" is a keyword, it needs to be and can only be in the first partition of the script along with other keywords for the entire shader, and not for specific stages, the way you have it there.  Cut and paste to the 4th line near "//noselfshadow".</div>]]></body></post><post id="p191669" date="Posted: Tue Nov 20, 2007 2:37 pm "><author>BuddhaMaster</author><body><![CDATA[<div class="postbody">Thanks for looking inside here.<br />I understand you say its a keyword, that answers me some stuff.<br />But i want only this particular layer to be "unlit". How could i do that ?<br /><br />The texture that needs overlayed must be "added" so black parts are not visible, bright parts visible (As "screen/lighten" in every graphic-program does) on top of a standard model<br /><br />I read "blend add" makes a texture already "unlit". That would worry my understanding. Because alot materials use it + NoShadow flag..</div>]]></body></post><post id="p191672" date="Posted: Tue Nov 20, 2007 4:43 pm "><author>LDAsh</author><body><![CDATA[<div class="postbody">Well "blend add" will do that already and you don't need "noshadows".<br />If you're getting a black model, maybe your material syntax is incorrect.  Try "unnesting" (if that's the right term) the last stage, so it looks like this:-<br /><div class="codetitle"><b>Code:</b></div><div class="codecontent">...<br />  //added additional unlit layer<br />   {<br />         blend  add<br />         map    models/monsters/imp/imp_glow<br />   }<br /><br />//   specularmap   models/monsters/imp/imp_s<br />}   <br /></div></div>]]></body></post><post id="p191873" date="Posted: Sun Nov 25, 2007 11:06 pm "><author>Springheel</author><body><![CDATA[<div class="postbody">"Noshadows" has nothing to do with a texture appearing 'unlit', at least directly.  It just means that any brush/model covered with that texture won't cast shadows.</div>]]></body></post></posts></thread></xml>
