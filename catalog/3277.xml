<?xml version="1.0" encoding="UTF-8"?>
<xml><thread id="3277"><title>The word on Z Fighting</title><posts><post id="p31021" date="Posted: Mon Aug 09, 2004 3:01 am "><author>JMW</author><body><![CDATA[<div class="postbody">I see some tutorials that show the walls of the room intersecting, some show them butting up against each other, some show them with the corners touching.  What is the correct way to build the walls.  Should the entire map be built this way or just the outer (structural) walls?  
<br /><br />-JMW</div>]]></body></post><post id="p31037" date="Posted: Mon Aug 09, 2004 3:23 am "><author>Iced_Eagle</author><body><![CDATA[<div class="postbody">Whatever your method they should NEVER intersect. This causes z-fighting issues (where the two textures flicker)
<br /><br />Here are the three types that I know of. There might be more, but this is as far as I know.
<br /><br />1st - Kitty Corner, takes more time but I think it gives a  more professional touch, especially when others view your map source file.
<br /><br />2nd - Moved all parts so only the corners of them touch. If you move them to much you have a good chance you will leak.
<br /><br />3rd - Just shrink the walls to fit inside each other. Fastest way.
<br /><br />I try to use method 1 whenever possible.
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20100522162929/http://junk.paulm.com/method_1.JPG">http://junk.paulm.com/method_1.JPG</a><!-- m -->
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20100522162929/http://junk.paulm.com/method_2.JPG">http://junk.paulm.com/method_2.JPG</a><!-- m -->
<br /><br /><!-- m --><a class="postlink" href="https://web.archive.org/web/20100522162929/http://junk.paulm.com/method_3.JPG">http://junk.paulm.com/method_3.JPG</a><!-- m -->
<br /><br /><br /><br /><br />You should use the same method for both inner detail and outter structure types. All this does is prevent z-fighting, but try to stick with the same style of doing it throughout your map if possible.</div>]]></body></post><post id="p31043" date="Posted: Mon Aug 09, 2004 3:31 am "><author>korn</author><body><![CDATA[<div class="postbody">yeah, i would agree, use method one when possible, then method 2, and stay away from method 3 its just a "dirty" way of mapping</div>]]></body></post><post id="p31044" date="Posted: Mon Aug 09, 2004 3:33 am "><author>Iced_Eagle</author><body><![CDATA[<div class="postbody">Yes Method 1 is the best.
<br /><br />To do it, select the brush you want to alter, ala the walls. Then hit "E" to bring up vertice selection and take the inner most vertice and move it inwards. It should snap into an angle. Do that for the wall touching it and they should be "kitty-cornered" <img src="https://web.archive.org/web/20100522162929im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p31046" date="Posted: Mon Aug 09, 2004 3:38 am "><author>Hunter</author><body><![CDATA[<div class="postbody">Eh, I read somewhere that method one can cause problems.  BTW those corners are known as "mitred."</div>]]></body></post><post id="p31056" date="Posted: Mon Aug 09, 2004 4:05 am "><author>Iced_Eagle</author><body><![CDATA[<div class="postbody">If you can find where it said it could cause problems, please post here. As long as you have snap to grid on and you can see very unit and you know they are on the same, it shouldn't cause issues.
<br /><br />But if you have doubts or think there wil be problems, then I would go with Method 2. That's the original method I learned.</div>]]></body></post><post id="p31074" date="Posted: Mon Aug 09, 2004 4:44 am "><author>JMW</author><body><![CDATA[<div class="postbody">Hmm what if all unseen sides of each brush are caulked and the 3rd method is used...wont the caulked side stop z fighting?  Or is there another reason why the first method is prefered...possiblly to stop any extra polys from being added?
<br /><br />-JMW</div>]]></body></post><post id="p31082" date="Posted: Mon Aug 09, 2004 4:58 am "><author>mrgosh</author><body><![CDATA[<div class="postbody">the second method is generally the one to go for. gives a nice clean corner.
<br />z-fighting is only an issue when you have two brushes overlapping and the textured faces are lying "on top" of one another fighting for visibility.
<br /><br />eg.
<br />room with a corridor extending from it. if the corridors floor brush extends into the room and overlaps with its floor brush, then the textures will "collide" and cause z-fighting.</div>]]></body></post><post id="p31136" date="Posted: Mon Aug 09, 2004 6:19 am "><author>BNA!</author><body><![CDATA[<div class="postbody"><div class="quotetitle">JMW wrote:</div><div class="quotecontent">Hmm what if all unseen sides of each brush are caulked and the 3rd method is used...wont the caulked side stop z fighting?  Or is there another reason why the first method is prefered...possiblly to stop any extra polys from being added?<br /><br />-JMW</div>
<br /><br />On mitered edges you can either use caulk or nodraw, but unseesn faces touching each other will get discarded during the compile process (as far as I can tell).</div>]]></body></post><post id="p31264" date="Posted: Mon Aug 09, 2004 10:26 am "><author>Black Dog</author><body><![CDATA[<div class="postbody">Mitered corners (where the two brushes share an angled common plane) are for use on convex corners, ie where the corner is pointing out into the room. There's no reason to miter a caulk brush or unseen face, especially as it adds unique planes to the BSP. Mitered brushes are not "neater" when it comes to compile time, whether detail or structural.
<br /><br />The reason you avoid the 3rd method is is not z-fighting, but that it causes overdraw.</div>]]></body></post><post id="p31280" date="Posted: Mon Aug 09, 2004 11:26 am "><author>obihb</author><body><![CDATA[<div class="postbody">Actually none of the 3 methods causes z fighting or overdraw. All 3 methods will end up looking exactly the same in the game. As long as the verts are snapped to the grid and aligned properly it'll be fine. Alot of the geometry you see in the editor get's discarded on bsp. What you end up with are the inner faces of the room.
<br /><br />If a vert lines up with an edge or face in stead of another vert like in the 3rd example then a vert will be created there during the bsp process on the edge or face without the aligning vert. This will happen with intersecting brushes or touching brushes.
<br /><br />Basically, none of the 3 ways described above are really wrong. You just need to be careful to have it properly aligned or you'll end up with leaks.
<br /><br />Peronally I intersect the very outer walls of my levels but align the verts properly on any of the inner structures.</div>]]></body></post><post id="p31316" date="Posted: Mon Aug 09, 2004 1:11 pm "><author>kat</author><body><![CDATA[<div class="postbody">It's all about creating a tidy and efficient BSP as possible, so long as you're caulking hidden surfaces you should be ok, the more messy you make your brushwork the longer it takes to compile (relatively speaking). 
<br /><br />A quick note on using 'nodraw' as a backface culling shader, be careful. It's a <span style="font-weight: bold">nonsolid</span>, <span style="font-weight: bold">none structural</span> shader and will cause leaks in the map hull if used incorrectly. You should be using caulk as your <span style="font-weight: bold">primary backface culling</span> shader (which is totally solid to the engine) *not* nodraw, even used on internal wall you stand the risk of creating 'leaked' areas that will bleed portal splits.</div>]]></body></post><post id="p31365" date="Posted: Mon Aug 09, 2004 3:12 pm "><author>Qwertys</author><body><![CDATA[<div class="postbody">typically I use method 3 when it is facing outside. the reason is that VIS will automatically cut off the small unseen part. i dont like method one because to me it makes the map too messy, its hard for me to find stuff.
<br />method 2 is highly recommended when facing inside, otherwise you will get an extra face to deal with.</div>]]></body></post><post id="p45526" date="Posted: Wed Sep 01, 2004 11:32 pm "><author>SonicClang</author><body><![CDATA[<div class="postbody">Guys guys guys, the reason you shouldn't leave them overlapping isn't because of "problems" with the game, or z-fighting. It's as simple as just keeping your map clean while you're editing. If you use the mothod you show in the second picture, no matter what side of a room you're on, you always know which brush you're going to select. If you have 3 brushes all coming together in one corner, which one are you going to select if you click on them?
<br /><br />It's all about keeping your map clean in the editor. If you're sloppy you're going to get lost, you're going to make stupid mistakes, etc. Sometimes people try getting too damn technical. <img src="https://web.archive.org/web/20100522162929im_/http://www.doom3world.org/phpbb2/images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>]]></body></post><post id="p45531" date="Posted: Thu Sep 02, 2004 12:01 am "><author>Krankster</author><body><![CDATA[<div class="postbody">as i understand it, the reason why you shouldn't use the third method is that it kinda screws with texture alignment.</div>]]></body></post><post id="p45536" date="Posted: Thu Sep 02, 2004 12:08 am "><author>obihb</author><body><![CDATA[<div class="postbody">Only if you don't build on the grid. 
<br /><br />None of the methods are really wrong, just some preference over other for whatever reason or situation.</div>]]></body></post><post id="p45556" date="Posted: Thu Sep 02, 2004 1:32 am "><author>Bittoman</author><body><![CDATA[<div class="postbody">The only problem with mitreing the corners like that is that it takes longer and provides no real benefit for the trouble and (this is really specific to the Radiant line of editors) if you use a lot of CSG subtracting, off angle brushes or any brush that isn't made up of nothing but 90 degree angles have a tendancy to create "splinter" brushes that cause all kinds of warnings and sometimes errors in the compiler and the game.
<br /><br />I'm a fan of the method in the first image, done it that way for some..hmm..8 years now heh, and so far from most professional maps I've ever gone over that seems to be the most preferred style, but definately not the only style of choice.  Outside of that, Quake 3 and Doom 3 any of those three methods will yield a perfectly good map, quake and quake 2 though would be a different story, particuarly quake.</div>]]></body></post></posts></thread></xml>
